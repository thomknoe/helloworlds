import{r as q,R as Up,B as Bp,C as _p,H as Be,P as _e,u as Lp,a as Yp,b as qp,c as Gp}from"./vendor-reactflow-Fjd3wTRr.js";import{r as Xp,a as Zp}from"./vendor-react-OvXVS5lI.js";import{W as Qp,A as Vp,P as Kp,S as Ju,V as le,a as Fn,B as fh,C as Ft,M as lt,b as Kl,D as dh,c as Jd,d as Jp,H as kp,e as kd,f as Wp,g as Fp,h as Pp,G as Pn,i as Wd,j as Jl,k as Fd,l as hh,Q as $p,m as Pd,O as Ip,n as e0,F as $d,U as t0,o as vs,p as a0,q as n0,N as l0,r as i0}from"./vendor-three-DcAevtEU.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function r(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(d){if(d.ep)return;d.ep=!0;const m=r(d);fetch(d.href,m)}})();var _u={exports:{}},Ql={};var Id;function s0(){if(Id)return Ql;Id=1;var f=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(u,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var y in d)y!=="key"&&(m[y]=d[y])}else m=d;return d=m.ref,{$$typeof:f,type:u,key:p,ref:d!==void 0?d:null,props:m}}return Ql.Fragment=s,Ql.jsx=r,Ql.jsxs=r,Ql}var eh;function o0(){return eh||(eh=1,_u.exports=s0()),_u.exports}var o=o0(),Lu={exports:{}},Vl={},Yu={exports:{}},qu={};var th;function u0(){return th||(th=1,(function(f){function s(O,G){var Z=O.length;O.push(G);e:for(;0<Z;){var P=Z-1>>>1,ae=O[P];if(0<d(ae,G))O[P]=G,O[Z]=ae,Z=P;else break e}}function r(O){return O.length===0?null:O[0]}function u(O){if(O.length===0)return null;var G=O[0],Z=O.pop();if(Z!==G){O[0]=Z;e:for(var P=0,ae=O.length,me=ae>>>1;P<me;){var fe=2*(P+1)-1,ue=O[fe],de=fe+1,Ve=O[de];if(0>d(ue,Z))de<ae&&0>d(Ve,ue)?(O[P]=Ve,O[de]=Z,P=de):(O[P]=ue,O[fe]=Z,P=fe);else if(de<ae&&0>d(Ve,Z))O[P]=Ve,O[de]=Z,P=de;else break e}}return G}function d(O,G){var Z=O.sortIndex-G.sortIndex;return Z!==0?Z:O.id-G.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;f.unstable_now=function(){return m.now()}}else{var p=Date,y=p.now();f.unstable_now=function(){return p.now()-y}}var v=[],g=[],w=1,x=null,S=3,b=!1,z=!1,j=!1,T=!1,Q=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function L(O){for(var G=r(g);G!==null;){if(G.callback===null)u(g);else if(G.startTime<=O)u(g),G.sortIndex=G.expirationTime,s(v,G);else break;G=r(g)}}function U(O){if(j=!1,L(O),!z)if(r(v)!==null)z=!0,J||(J=!0,re());else{var G=r(g);G!==null&&we(U,G.startTime-O)}}var J=!1,ee=-1,he=5,_=-1;function ie(){return T?!0:!(f.unstable_now()-_<he)}function F(){if(T=!1,J){var O=f.unstable_now();_=O;var G=!0;try{e:{z=!1,j&&(j=!1,V(ee),ee=-1),b=!0;var Z=S;try{t:{for(L(O),x=r(v);x!==null&&!(x.expirationTime>O&&ie());){var P=x.callback;if(typeof P=="function"){x.callback=null,S=x.priorityLevel;var ae=P(x.expirationTime<=O);if(O=f.unstable_now(),typeof ae=="function"){x.callback=ae,L(O),G=!0;break t}x===r(v)&&u(v),L(O)}else u(v);x=r(v)}if(x!==null)G=!0;else{var me=r(g);me!==null&&we(U,me.startTime-O),G=!1}}break e}finally{x=null,S=Z,b=!1}G=void 0}}finally{G?re():J=!1}}}var re;if(typeof K=="function")re=function(){K(F)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,ge=ze.port2;ze.port1.onmessage=F,re=function(){ge.postMessage(null)}}else re=function(){Q(F,0)};function we(O,G){ee=Q(function(){O(f.unstable_now())},G)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(O){O.callback=null},f.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<O?Math.floor(1e3/O):5},f.unstable_getCurrentPriorityLevel=function(){return S},f.unstable_next=function(O){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var Z=S;S=G;try{return O()}finally{S=Z}},f.unstable_requestPaint=function(){T=!0},f.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=S;S=O;try{return G()}finally{S=Z}},f.unstable_scheduleCallback=function(O,G,Z){var P=f.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?P+Z:P):Z=P,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,O={id:w++,callback:G,priorityLevel:O,startTime:Z,expirationTime:ae,sortIndex:-1},Z>P?(O.sortIndex=Z,s(g,O),r(v)===null&&O===r(g)&&(j?(V(ee),ee=-1):j=!0,we(U,Z-P))):(O.sortIndex=ae,s(v,O),z||b||(z=!0,J||(J=!0,re()))),O},f.unstable_shouldYield=ie,f.unstable_wrapCallback=function(O){var G=S;return function(){var Z=S;S=G;try{return O.apply(this,arguments)}finally{S=Z}}}})(qu)),qu}var ah;function c0(){return ah||(ah=1,Yu.exports=u0()),Yu.exports}var nh;function r0(){if(nh)return Vl;nh=1;var f=c0(),s=Xp(),r=Zp();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(u(188))}function g(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return v(l),e;if(i===n)return v(l),t;i=i.sibling}throw Error(u(188))}if(a.return!==n.return)a=l,n=i;else{for(var c=!1,h=l.child;h;){if(h===a){c=!0,a=l,n=i;break}if(h===n){c=!0,n=l,a=i;break}h=h.sibling}if(!c){for(h=i.child;h;){if(h===a){c=!0,a=i,n=l;break}if(h===n){c=!0,n=i,a=l;break}h=h.sibling}if(!c)throw Error(u(189))}}if(a.alternate!==n)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),K=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case Q:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case J:return"SuspenseList";case _:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case K:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var we=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},P=[],ae=-1;function me(e){return{current:e}}function fe(e){0>ae||(e.current=P[ae],P[ae]=null,ae--)}function ue(e,t){ae++,P[ae]=e.current,e.current=t}var de=me(null),Ve=me(null),et=me(null),St=me(null);function Xe(e,t){switch(ue(et,t),ue(Ve,e),ue(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vd(t),e=gd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}fe(de),ue(de,e)}function We(){fe(de),fe(Ve),fe(et)}function Vt(e){e.memoizedState!==null&&ue(St,e);var t=de.current,a=gd(t,e.type);t!==a&&(ue(Ve,e),ue(de,a))}function I(e){Ve.current===e&&(fe(de),fe(Ve)),St.current===e&&(fe(St),ql._currentValue=Z)}var se,X;function k(e){if(se===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);se=t&&t[1]||"",X=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+e+X}var te=!1;function qe(e,t){if(!e||te)return"";te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(R){var A=R}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(R){A=R}e.call(Y.prototype)}}else{try{throw Error()}catch(R){A=R}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),c=i[0],h=i[1];if(c&&h){var N=c.split(`
`),E=h.split(`
`);for(l=n=0;n<N.length&&!N[n].includes("DetermineComponentFrameRoot");)n++;for(;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;if(n===N.length||l===E.length)for(n=N.length-1,l=E.length-1;1<=n&&0<=l&&N[n]!==E[l];)l--;for(;1<=n&&0<=l;n--,l--)if(N[n]!==E[l]){if(n!==1||l!==1)do if(n--,l--,0>l||N[n]!==E[l]){var H=`
`+N[n].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=n&&0<=l);break}}}finally{te=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?k(a):""}function ce(e,t){switch(e.tag){case 26:case 27:case 5:return k(e.type);case 16:return k("Lazy");case 13:return e.child!==t&&t!==null?k("Suspense Fallback"):k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return k("Activity");default:return""}}function He(e){try{var t="",a=null;do t+=ce(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ae=Object.prototype.hasOwnProperty,Ke=f.unstable_scheduleCallback,va=f.unstable_cancelCallback,rn=f.unstable_shouldYield,Pt=f.unstable_requestPaint,ft=f.unstable_now,xs=f.unstable_getCurrentPriorityLevel,$l=f.unstable_ImmediatePriority,fn=f.unstable_UserBlockingPriority,ga=f.unstable_NormalPriority,Ss=f.unstable_LowPriority,Il=f.unstable_IdlePriority,Ns=f.log,ws=f.unstable_setDisableYieldValue,Za=null,dt=null;function ya(e){if(typeof Ns=="function"&&ws(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Za,e)}catch{}}var Nt=Math.clz32?Math.clz32:Sh,bh=Math.log,xh=Math.LN2;function Sh(e){return e>>>=0,e===0?32:31-(bh(e)/xh|0)|0}var ei=256,ti=262144,ai=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var h=n&134217727;return h!==0?(n=h&~i,n!==0?l=Qa(n):(c&=h,c!==0?l=Qa(c):a||(a=h&~e,a!==0&&(l=Qa(a))))):(h=n&~i,h!==0?l=Qa(h):c!==0?l=Qa(c):a||(a=n&~e,a!==0&&(l=Qa(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function In(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var e=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),e}function zs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function el(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wh(e,t,a,n,l,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var h=e.entanglements,N=e.expirationTimes,E=e.hiddenUpdates;for(a=c&~a;0<a;){var H=31-Nt(a),Y=1<<H;h[H]=0,N[H]=-1;var A=E[H];if(A!==null)for(E[H]=null,H=0;H<A.length;H++){var R=A[H];R!==null&&(R.lane&=-536870913)}a&=~Y}n!==0&&Pu(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Pu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Nt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function $u(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Nt(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Iu(e,t){var a=t&-t;return a=(a&42)!==0?1:Ds(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ms(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:qd(e.type))}function tc(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var ba=Math.random().toString(36).slice(2),it="__reactFiber$"+ba,mt="__reactProps$"+ba,dn="__reactContainer$"+ba,js="__reactEvents$"+ba,zh="__reactListeners$"+ba,Dh="__reactHandles$"+ba,ac="__reactResources$"+ba,tl="__reactMarker$"+ba;function Cs(e){delete e[it],delete e[mt],delete e[js],delete e[zh],delete e[Dh]}function hn(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[dn]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=zd(e);e!==null;){if(a=e[it])return a;e=zd(e)}return t}e=a,a=e.parentNode}return null}function mn(e){if(e=e[it]||e[dn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function al(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function pn(e){var t=e[ac];return t||(t=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[tl]=!0}var nc=new Set,lc={};function Va(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(lc[e]=t,e=0;e<t.length;e++)nc.add(t[e])}var Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},sc={};function jh(e){return Ae.call(sc,e)?!0:Ae.call(ic,e)?!1:Mh.test(e)?sc[e]=!0:(ic[e]=!0,!1)}function li(e,t,a){if(jh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ii(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function $t(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ch(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){if(!e._valueTracker){var t=oc(e)?"checked":"value";e._valueTracker=Ch(e,t,""+e[t])}}function uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=oc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function Rt(e){return e.replace(Eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function As(e,t,a,n,l,i,c,h){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Ts(e,c,Tt(t)):a!=null?Ts(e,c,Tt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+Tt(h):e.removeAttribute("name")}function cc(e,t,a,n,l,i,c,h){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Es(e);return}a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,h||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=h?e.checked:!!n,e.defaultChecked=!!n,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Es(e)}function Ts(e,t,a){t==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gn(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function rc(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function fc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(u(92));if(we(n)){if(1<n.length)throw Error(u(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Es(e)}function yn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Ah.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hc(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&dc(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&dc(e,i,t[i])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(e){return Rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Os=null;function Hs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bn=null,xn=null;function mc(e){var t=mn(e);if(t&&(e=t.stateNode)){var a=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(As(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[mt]||null;if(!l)throw Error(u(90));As(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&uc(n)}break e;case"textarea":rc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&gn(e,!!a.multiple,t,!1)}}}var Us=!1;function pc(e,t,a){if(Us)return e(t,a);Us=!0;try{var n=e(t);return n}finally{if(Us=!1,(bn!==null||xn!==null)&&(ki(),bn&&(t=bn,e=xn,xn=bn=null,mc(t),e)))for(t=0;t<e.length;t++)mc(e[t])}}function nl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[mt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(ea)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Bs=!1}var xa=null,_s=null,ui=null;function vc(){if(ui)return ui;var e,t=_s,a=t.length,n,l="value"in xa?xa.value:xa.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var c=a-e;for(n=1;n<=c&&t[a-n]===l[i-n];n++);return ui=l.slice(e,1<n?1-n:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function gc(){return!1}function pt(e){function t(a,n,l,i,c){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(a=e[h],this[h]=a?a(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ri:gc,this.isPropagationStopped=gc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=pt(Ka),il=x({},Ka,{view:0,detail:0}),Oh=pt(il),Ls,Ys,sl,di=x({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(Ls=e.screenX-sl.screenX,Ys=e.screenY-sl.screenY):Ys=Ls=0,sl=e),Ls)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),yc=pt(di),Hh=x({},di,{dataTransfer:0}),Uh=pt(Hh),Bh=x({},il,{relatedTarget:0}),qs=pt(Bh),_h=x({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Lh=pt(_h),Yh=x({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qh=pt(Yh),Gh=x({},Ka,{data:0}),bc=pt(Gh),Xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qh[e])?!!t[e]:!1}function Gs(){return Vh}var Kh=x({},il,{key:function(e){if(e.key){var t=Xh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=pt(Kh),kh=x({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=pt(kh),Wh=x({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Fh=pt(Wh),Ph=x({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=pt(Ph),Ih=x({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),em=pt(Ih),tm=x({},Ka,{newState:0,oldState:0}),am=pt(tm),nm=[9,13,27,32],Xs=ea&&"CompositionEvent"in window,ol=null;ea&&"documentMode"in document&&(ol=document.documentMode);var lm=ea&&"TextEvent"in window&&!ol,Sc=ea&&(!Xs||ol&&8<ol&&11>=ol),Nc=" ",wc=!1;function zc(e,t){switch(e){case"keyup":return nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function im(e,t){switch(e){case"compositionend":return Dc(t);case"keypress":return t.which!==32?null:(wc=!0,Nc);case"textInput":return e=t.data,e===Nc&&wc?null:e;default:return null}}function sm(e,t){if(Sn)return e==="compositionend"||!Xs&&zc(e,t)?(e=vc(),ui=_s=xa=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sc&&t.locale!=="ko"?null:t.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!om[e.type]:t==="textarea"}function jc(e,t,a,n){bn?xn?xn.push(n):xn=[n]:bn=n,t=ts(t,"onChange"),0<t.length&&(a=new fi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var ul=null,cl=null;function um(e){rd(e,0)}function hi(e){var t=al(e);if(uc(t))return e}function Cc(e,t){if(e==="change")return t}var Ec=!1;if(ea){var Zs;if(ea){var Qs="oninput"in document;if(!Qs){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Qs=typeof Ac.oninput=="function"}Zs=Qs}else Zs=!1;Ec=Zs&&(!document.documentMode||9<document.documentMode)}function Tc(){ul&&(ul.detachEvent("onpropertychange",Rc),cl=ul=null)}function Rc(e){if(e.propertyName==="value"&&hi(cl)){var t=[];jc(t,cl,e,Hs(e)),pc(um,t)}}function cm(e,t,a){e==="focusin"?(Tc(),ul=t,cl=a,ul.attachEvent("onpropertychange",Rc)):e==="focusout"&&Tc()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(cl)}function fm(e,t){if(e==="click")return hi(t)}function dm(e,t){if(e==="input"||e==="change")return hi(t)}function hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:hm;function rl(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Ae.call(t,l)||!wt(e[l],t[l]))return!1}return!0}function Oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var a=Oc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oc(a)}}function Uc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=si(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=si(e.document)}return t}function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mm=ea&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ks=null,fl=null,Js=!1;function _c(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Js||Nn==null||Nn!==si(n)||(n=Nn,"selectionStart"in n&&Vs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fl&&rl(fl,n)||(fl=n,n=ts(Ks,"onSelect"),0<n.length&&(t=new fi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Nn)))}function Ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var wn={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},ks={},Lc={};ea&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function ka(e){if(ks[e])return ks[e];if(!wn[e])return e;var t=wn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Lc)return ks[e]=t[a];return e}var Yc=ka("animationend"),qc=ka("animationiteration"),Gc=ka("animationstart"),pm=ka("transitionrun"),vm=ka("transitionstart"),gm=ka("transitioncancel"),Xc=ka("transitionend"),Zc=new Map,Ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ws.push("scrollEnd");function Gt(e,t){Zc.set(e,t),Va(t,[e])}var mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ot=[],zn=0,Fs=0;function pi(){for(var e=zn,t=Fs=zn=0;t<e;){var a=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var l=Ot[t];Ot[t++]=null;var i=Ot[t];if(Ot[t++]=null,n!==null&&l!==null){var c=n.pending;c===null?l.next=l:(l.next=c.next,c.next=l),n.pending=l}i!==0&&Qc(a,l,i)}}function vi(e,t,a,n){Ot[zn++]=e,Ot[zn++]=t,Ot[zn++]=a,Ot[zn++]=n,Fs|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ps(e,t,a,n){return vi(e,t,a,n),gi(e)}function Wa(e,t){return vi(e,null,null,t),gi(e)}function Qc(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-Nt(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function gi(e){if(50<Ol)throw Ol=0,ou=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Dn={};function ym(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,a,n){return new ym(e,t,a,n)}function $s(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yi(e,t,a,n,l,i){var c=0;if(n=e,typeof e=="function")$s(e)&&(c=1);else if(typeof e=="string")c=wp(e,a,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _:return e=zt(31,a,t,l),e.elementType=_,e.lanes=i,e;case j:return Fa(a.children,l,i,t);case T:c=8,l|=24;break;case Q:return e=zt(12,a,t,l|2),e.elementType=Q,e.lanes=i,e;case U:return e=zt(13,a,t,l),e.elementType=U,e.lanes=i,e;case J:return e=zt(19,a,t,l),e.elementType=J,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:c=10;break e;case V:c=9;break e;case L:c=11;break e;case ee:c=14;break e;case he:c=16,n=null;break e}c=29,a=Error(u(130,e===null?"null":typeof e,"")),n=null}return t=zt(c,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Fa(e,t,a,n){return e=zt(7,e,n,t),e.lanes=a,e}function Is(e,t,a){return e=zt(6,e,null,t),e.lanes=a,e}function Kc(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function eo(e,t,a){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jc=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var a=Jc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:He(t)},Jc.set(e,t),t)}return{value:e,source:t,stack:He(t)}}var Mn=[],jn=0,bi=null,dl=0,Ut=[],Bt=0,Sa=null,Kt=1,Jt="";function aa(e,t){Mn[jn++]=dl,Mn[jn++]=bi,bi=e,dl=t}function kc(e,t,a){Ut[Bt++]=Kt,Ut[Bt++]=Jt,Ut[Bt++]=Sa,Sa=e;var n=Kt;e=Jt;var l=32-Nt(n)-1;n&=~(1<<l),a+=1;var i=32-Nt(t)+l;if(30<i){var c=l-l%5;i=(n&(1<<c)-1).toString(32),n>>=c,l-=c,Kt=1<<32-Nt(t)+l|a<<l|n,Jt=i+e}else Kt=1<<i|a<<l|n,Jt=e}function to(e){e.return!==null&&(aa(e,1),kc(e,1,0))}function ao(e){for(;e===bi;)bi=Mn[--jn],Mn[jn]=null,dl=Mn[--jn],Mn[jn]=null;for(;e===Sa;)Sa=Ut[--Bt],Ut[Bt]=null,Jt=Ut[--Bt],Ut[Bt]=null,Kt=Ut[--Bt],Ut[Bt]=null}function Wc(e,t){Ut[Bt++]=Kt,Ut[Bt++]=Jt,Ut[Bt++]=Sa,Kt=t.id,Jt=t.overflow,Sa=e}var st=null,Le=null,Ne=!1,Na=null,_t=!1,no=Error(u(519));function wa(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Ht(t,e)),no}function Fc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[it]=e,t[mt]=n,a){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(a=0;a<Ul.length;a++)be(Ul[a],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),cc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),fc(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||md(t.textContent,a)?(n.popover!=null&&(be("beforetoggle",t),be("toggle",t)),n.onScroll!=null&&be("scroll",t),n.onScrollEnd!=null&&be("scrollend",t),n.onClick!=null&&(t.onclick=It),t=!0):t=!1,t||wa(e,!0)}function Pc(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:_t=!1;return;case 27:case 3:_t=!0;return;default:st=st.return}}function Cn(e){if(e!==st)return!1;if(!Ne)return Pc(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nu(e.type,e.memoizedProps)),a=!a),a&&Le&&wa(e),Pc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Le=wd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Le=wd(e)}else t===27?(t=Le,_a(e.type)?(e=ju,ju=null,Le=e):Le=t):Le=st?Yt(e.stateNode.nextSibling):null;return!0}function Pa(){Le=st=null,Ne=!1}function lo(){var e=Na;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Na=null),e}function hl(e){Na===null?Na=[e]:Na.push(e)}var io=me(null),$a=null,na=null;function za(e,t,a){ue(io,t._currentValue),t._currentValue=a}function la(e){e._currentValue=io.current,fe(io)}function so(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function oo(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var c=l.child;i=i.firstContext;e:for(;i!==null;){var h=i;i=l;for(var N=0;N<t.length;N++)if(h.context===t[N]){i.lanes|=a,h=i.alternate,h!==null&&(h.lanes|=a),so(i.return,a,e),n||(c=null);break e}i=h.next}}else if(l.tag===18){if(c=l.return,c===null)throw Error(u(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),so(c,a,e),c=null}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}}function En(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var c=l.alternate;if(c===null)throw Error(u(387));if(c=c.memoizedProps,c!==null){var h=l.type;wt(l.pendingProps.value,c.value)||(e!==null?e.push(h):e=[h])}}else if(l===St.current){if(c=l.alternate,c===null)throw Error(u(387));c.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}l=l.return}e!==null&&oo(t,e,a,n),t.flags|=262144}function xi(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){$a=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return $c($a,e)}function Si(e,t){return $a===null&&Ia(e),$c(e,t)}function $c(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(u(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var bm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},xm=f.unstable_scheduleCallback,Sm=f.unstable_NormalPriority,Fe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new bm,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&xm(Sm,function(){e.controller.abort()})}var pl=null,co=0,An=0,Tn=null;function Nm(e,t){if(pl===null){var a=pl=[];co=0,An=hu(),Tn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return co++,t.then(Ic,Ic),t}function Ic(){if(--co===0&&pl!==null){Tn!==null&&(Tn.status="fulfilled");var e=pl;pl=null,An=0,Tn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wm(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var er=O.S;O.S=function(e,t){Lf=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Nm(e,t),er!==null&&er(e,t)};var en=me(null);function ro(){var e=en.current;return e!==null?e:Ue.pooledCache}function Ni(e,t){t===null?ue(en,en.current):ue(en,t.pool)}function tr(){var e=ro();return e===null?null:{parent:Fe._currentValue,pool:e}}var Rn=Error(u(460)),fo=Error(u(474)),wi=Error(u(542)),zi={then:function(){}};function ar(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nr(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(It,It),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ir(e),e;default:if(typeof t.status=="string")t.then(It,It);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ir(e),e}throw an=t,Rn}}function tn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(an=a,Rn):a}}var an=null;function lr(){if(an===null)throw Error(u(459));var e=an;return an=null,e}function ir(e){if(e===Rn||e===wi)throw Error(u(483))}var On=null,vl=0;function Di(e){var t=vl;return vl+=1,On===null&&(On=[]),nr(On,e,t)}function gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mi(e,t){throw t.$$typeof===S?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sr(e){function t(M,D){if(e){var C=M.deletions;C===null?(M.deletions=[D],M.flags|=16):C.push(D)}}function a(M,D){if(!e)return null;for(;D!==null;)t(M,D),D=D.sibling;return null}function n(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function l(M,D){return M=ta(M,D),M.index=0,M.sibling=null,M}function i(M,D,C){return M.index=C,e?(C=M.alternate,C!==null?(C=C.index,C<D?(M.flags|=67108866,D):C):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function c(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function h(M,D,C,B){return D===null||D.tag!==6?(D=Is(C,M.mode,B),D.return=M,D):(D=l(D,C),D.return=M,D)}function N(M,D,C,B){var ne=C.type;return ne===j?H(M,D,C.props.children,B,C.key):D!==null&&(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===he&&tn(ne)===D.type)?(D=l(D,C.props),gl(D,C),D.return=M,D):(D=yi(C.type,C.key,C.props,null,M.mode,B),gl(D,C),D.return=M,D)}function E(M,D,C,B){return D===null||D.tag!==4||D.stateNode.containerInfo!==C.containerInfo||D.stateNode.implementation!==C.implementation?(D=eo(C,M.mode,B),D.return=M,D):(D=l(D,C.children||[]),D.return=M,D)}function H(M,D,C,B,ne){return D===null||D.tag!==7?(D=Fa(C,M.mode,B,ne),D.return=M,D):(D=l(D,C),D.return=M,D)}function Y(M,D,C){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Is(""+D,M.mode,C),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return C=yi(D.type,D.key,D.props,null,M.mode,C),gl(C,D),C.return=M,C;case z:return D=eo(D,M.mode,C),D.return=M,D;case he:return D=tn(D),Y(M,D,C)}if(we(D)||re(D))return D=Fa(D,M.mode,C,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Di(D),C);if(D.$$typeof===K)return Y(M,Si(M,D),C);Mi(M,D)}return null}function A(M,D,C,B){var ne=D!==null?D.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ne!==null?null:h(M,D,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return C.key===ne?N(M,D,C,B):null;case z:return C.key===ne?E(M,D,C,B):null;case he:return C=tn(C),A(M,D,C,B)}if(we(C)||re(C))return ne!==null?null:H(M,D,C,B,null);if(typeof C.then=="function")return A(M,D,Di(C),B);if(C.$$typeof===K)return A(M,D,Si(M,C),B);Mi(M,C)}return null}function R(M,D,C,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(C)||null,h(D,M,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return M=M.get(B.key===null?C:B.key)||null,N(D,M,B,ne);case z:return M=M.get(B.key===null?C:B.key)||null,E(D,M,B,ne);case he:return B=tn(B),R(M,D,C,B,ne)}if(we(B)||re(B))return M=M.get(C)||null,H(D,M,B,ne,null);if(typeof B.then=="function")return R(M,D,C,Di(B),ne);if(B.$$typeof===K)return R(M,D,C,Si(D,B),ne);Mi(D,B)}return null}function W(M,D,C,B){for(var ne=null,De=null,$=D,ve=D=0,Se=null;$!==null&&ve<C.length;ve++){$.index>ve?(Se=$,$=null):Se=$.sibling;var Me=A(M,$,C[ve],B);if(Me===null){$===null&&($=Se);break}e&&$&&Me.alternate===null&&t(M,$),D=i(Me,D,ve),De===null?ne=Me:De.sibling=Me,De=Me,$=Se}if(ve===C.length)return a(M,$),Ne&&aa(M,ve),ne;if($===null){for(;ve<C.length;ve++)$=Y(M,C[ve],B),$!==null&&(D=i($,D,ve),De===null?ne=$:De.sibling=$,De=$);return Ne&&aa(M,ve),ne}for($=n($);ve<C.length;ve++)Se=R($,M,ve,C[ve],B),Se!==null&&(e&&Se.alternate!==null&&$.delete(Se.key===null?ve:Se.key),D=i(Se,D,ve),De===null?ne=Se:De.sibling=Se,De=Se);return e&&$.forEach(function(Xa){return t(M,Xa)}),Ne&&aa(M,ve),ne}function oe(M,D,C,B){if(C==null)throw Error(u(151));for(var ne=null,De=null,$=D,ve=D=0,Se=null,Me=C.next();$!==null&&!Me.done;ve++,Me=C.next()){$.index>ve?(Se=$,$=null):Se=$.sibling;var Xa=A(M,$,Me.value,B);if(Xa===null){$===null&&($=Se);break}e&&$&&Xa.alternate===null&&t(M,$),D=i(Xa,D,ve),De===null?ne=Xa:De.sibling=Xa,De=Xa,$=Se}if(Me.done)return a(M,$),Ne&&aa(M,ve),ne;if($===null){for(;!Me.done;ve++,Me=C.next())Me=Y(M,Me.value,B),Me!==null&&(D=i(Me,D,ve),De===null?ne=Me:De.sibling=Me,De=Me);return Ne&&aa(M,ve),ne}for($=n($);!Me.done;ve++,Me=C.next())Me=R($,M,ve,Me.value,B),Me!==null&&(e&&Me.alternate!==null&&$.delete(Me.key===null?ve:Me.key),D=i(Me,D,ve),De===null?ne=Me:De.sibling=Me,De=Me);return e&&$.forEach(function(Hp){return t(M,Hp)}),Ne&&aa(M,ve),ne}function Oe(M,D,C,B){if(typeof C=="object"&&C!==null&&C.type===j&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case b:e:{for(var ne=C.key;D!==null;){if(D.key===ne){if(ne=C.type,ne===j){if(D.tag===7){a(M,D.sibling),B=l(D,C.props.children),B.return=M,M=B;break e}}else if(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===he&&tn(ne)===D.type){a(M,D.sibling),B=l(D,C.props),gl(B,C),B.return=M,M=B;break e}a(M,D);break}else t(M,D);D=D.sibling}C.type===j?(B=Fa(C.props.children,M.mode,B,C.key),B.return=M,M=B):(B=yi(C.type,C.key,C.props,null,M.mode,B),gl(B,C),B.return=M,M=B)}return c(M);case z:e:{for(ne=C.key;D!==null;){if(D.key===ne)if(D.tag===4&&D.stateNode.containerInfo===C.containerInfo&&D.stateNode.implementation===C.implementation){a(M,D.sibling),B=l(D,C.children||[]),B.return=M,M=B;break e}else{a(M,D);break}else t(M,D);D=D.sibling}B=eo(C,M.mode,B),B.return=M,M=B}return c(M);case he:return C=tn(C),Oe(M,D,C,B)}if(we(C))return W(M,D,C,B);if(re(C)){if(ne=re(C),typeof ne!="function")throw Error(u(150));return C=ne.call(C),oe(M,D,C,B)}if(typeof C.then=="function")return Oe(M,D,Di(C),B);if(C.$$typeof===K)return Oe(M,D,Si(M,C),B);Mi(M,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,D!==null&&D.tag===6?(a(M,D.sibling),B=l(D,C),B.return=M,M=B):(a(M,D),B=Is(C,M.mode,B),B.return=M,M=B),c(M)):a(M,D)}return function(M,D,C,B){try{vl=0;var ne=Oe(M,D,C,B);return On=null,ne}catch($){if($===Rn||$===wi)throw $;var De=zt(29,$,null,M.mode);return De.lanes=B,De.return=M,De}finally{}}}var nn=sr(!0),or=sr(!1),Da=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ja(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(je&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=gi(e),Qc(e,null,a),t}return vi(e,n,t,a),gi(e)}function yl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,$u(e,a)}}function po(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function bl(){if(vo){var e=Tn;if(e!==null)throw e}}function xl(e,t,a,n){vo=!1;var l=e.updateQueue;Da=!1;var i=l.firstBaseUpdate,c=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var N=h,E=N.next;N.next=null,c===null?i=E:c.next=E,c=N;var H=e.alternate;H!==null&&(H=H.updateQueue,h=H.lastBaseUpdate,h!==c&&(h===null?H.firstBaseUpdate=E:h.next=E,H.lastBaseUpdate=N))}if(i!==null){var Y=l.baseState;c=0,H=E=N=null,h=i;do{var A=h.lane&-536870913,R=A!==h.lane;if(R?(xe&A)===A:(n&A)===A){A!==0&&A===An&&(vo=!0),H!==null&&(H=H.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var W=e,oe=h;A=t;var Oe=a;switch(oe.tag){case 1:if(W=oe.payload,typeof W=="function"){Y=W.call(Oe,Y,A);break e}Y=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=oe.payload,A=typeof W=="function"?W.call(Oe,Y,A):W,A==null)break e;Y=x({},Y,A);break e;case 2:Da=!0}}A=h.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=l.callbacks,R===null?l.callbacks=[A]:R.push(A))}else R={lane:A,tag:h.tag,payload:h.payload,callback:h.callback,next:null},H===null?(E=H=R,N=Y):H=H.next=R,c|=A;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;R=h,h=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(!0);H===null&&(N=Y),l.baseState=N,l.firstBaseUpdate=E,l.lastBaseUpdate=H,i===null&&(l.shared.lanes=0),Ra|=c,e.lanes=c,e.memoizedState=Y}}function ur(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function cr(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ur(a[e],t)}var Hn=me(null),ji=me(0);function rr(e,t){e=ha,ue(ji,e),ue(Hn,t),ha=e|t.baseLanes}function go(){ue(ji,ha),ue(Hn,Hn.current)}function yo(){ha=ji.current,fe(Hn),fe(ji)}var Dt=me(null),Lt=null;function Ca(e){var t=e.alternate;ue(Je,Je.current&1),ue(Dt,e),Lt===null&&(t===null||Hn.current!==null||t.memoizedState!==null)&&(Lt=e)}function bo(e){ue(Je,Je.current),ue(Dt,e),Lt===null&&(Lt=e)}function fr(e){e.tag===22?(ue(Je,Je.current),ue(Dt,e),Lt===null&&(Lt=e)):Ea()}function Ea(){ue(Je,Je.current),ue(Dt,Dt.current)}function Mt(e){fe(Dt),Lt===e&&(Lt=null),fe(Je)}var Je=me(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Du(a)||Mu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,pe=null,Te=null,Pe=null,Ei=!1,Un=!1,ln=!1,Ai=0,Sl=0,Bn=null,zm=0;function Ze(){throw Error(u(321))}function xo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!wt(e[a],t[a]))return!1;return!0}function So(e,t,a,n,l,i){return ia=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?kr:Bo,ln=!1,i=a(n,l),ln=!1,Un&&(i=hr(t,a,n,l)),dr(e),i}function dr(e){O.H=zl;var t=Te!==null&&Te.next!==null;if(ia=0,Pe=Te=pe=null,Ei=!1,Sl=0,Bn=null,t)throw Error(u(300));e===null||$e||(e=e.dependencies,e!==null&&xi(e)&&($e=!0))}function hr(e,t,a,n){pe=e;var l=0;do{if(Un&&(Bn=null),Sl=0,Un=!1,25<=l)throw Error(u(301));if(l+=1,Pe=Te=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=Wr,i=t(a,n)}while(Un);return i}function Dm(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Nl(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(pe.flags|=1024),t}function No(){var e=Ai!==0;return Ai=0,e}function wo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function zo(e){if(Ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ei=!1}ia=0,Pe=Te=pe=null,Un=!1,Sl=Ai=0,Bn=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ke(){if(Te===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?pe.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw pe.alternate===null?Error(u(467)):Error(u(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(e){var t=Sl;return Sl+=1,Bn===null&&(Bn=[]),e=nr(Bn,e,t),t=pe,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?kr:Bo),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nl(e);if(e.$$typeof===K)return ot(e)}throw Error(u(438,String(e)))}function Do(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ti(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ie;return t.index++,a}function sa(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=ke();return Mo(t,Te,e)}function Mo(e,t,a){var n=e.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var c=l.next;l.next=i.next,i.next=c}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var h=c=null,N=null,E=t,H=!1;do{var Y=E.lane&-536870913;if(Y!==E.lane?(xe&Y)===Y:(ia&Y)===Y){var A=E.revertLane;if(A===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),Y===An&&(H=!0);else if((ia&A)===A){E=E.next,A===An&&(H=!0);continue}else Y={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},N===null?(h=N=Y,c=i):N=N.next=Y,pe.lanes|=A,Ra|=A;Y=E.action,ln&&a(i,Y),i=E.hasEagerState?E.eagerState:a(i,Y)}else A={lane:Y,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},N===null?(h=N=A,c=i):N=N.next=A,pe.lanes|=Y,Ra|=Y;E=E.next}while(E!==null&&E!==t);if(N===null?c=i:N.next=h,!wt(i,e.memoizedState)&&($e=!0,H&&(a=Tn,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=N,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function jo(e){var t=ke(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var c=l=l.next;do i=e(i,c.action),c=c.next;while(c!==l);wt(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function mr(e,t,a){var n=pe,l=ke(),i=Ne;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var c=!wt((Te||l).memoizedState,a);if(c&&(l.memoizedState=a,$e=!0),l=l.queue,Ao(gr.bind(null,n,l,e),[e]),l.getSnapshot!==t||c||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,_n(9,{destroy:void 0},vr.bind(null,n,l,a,t),null),Ue===null)throw Error(u(349));i||(ia&127)!==0||pr(n,t,a)}return a}function pr(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Ti(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function vr(e,t,a,n){t.value=a,t.getSnapshot=n,yr(t)&&br(e)}function gr(e,t,a){return a(function(){yr(t)&&br(e)})}function yr(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!wt(e,a)}catch{return!0}}function br(e){var t=Wa(e,2);t!==null&&xt(t,e,2)}function Co(e){var t=ht();if(typeof e=="function"){var a=e;if(e=a(),ln){ya(!0);try{a()}finally{ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},t}function xr(e,t,a,n){return e.baseState=a,Mo(e,Te,typeof n=="function"?n:sa)}function Mm(e,t,a,n,l){if(Bi(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Sr(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Sr(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,c={};O.T=c;try{var h=a(l,n),N=O.S;N!==null&&N(c,h),Nr(e,t,h)}catch(E){Eo(e,t,E)}finally{i!==null&&c.types!==null&&(i.types=c.types),O.T=i}}else try{i=a(l,n),Nr(e,t,i)}catch(E){Eo(e,t,E)}}function Nr(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){wr(e,t,n)},function(n){return Eo(e,t,n)}):wr(e,t,a)}function wr(e,t,a){t.status="fulfilled",t.value=a,zr(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Sr(e,a)))}function Eo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,zr(t),t=t.next;while(t!==n)}e.action=null}function zr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dr(e,t){return t}function Mr(e,t){if(Ne){var a=Ue.formState;if(a!==null){e:{var n=pe;if(Ne){if(Le){t:{for(var l=Le,i=_t;l.nodeType!==8;){if(!i){l=null;break t}if(l=Yt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){Le=Yt(l.nextSibling),n=l.data==="F!";break e}}wa(n)}n=!1}n&&(t=a[0])}}return a=ht(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:t},a.queue=n,a=Vr.bind(null,pe,n),n.dispatch=a,n=Co(!1),i=Uo.bind(null,pe,!1,n.queue),n=ht(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=Mm.bind(null,pe,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function jr(e){var t=ke();return Cr(t,Te,e)}function Cr(e,t,a){if(t=Mo(e,t,Dr)[0],e=Oi(sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Nl(t)}catch(c){throw c===Rn?wi:c}else n=t;t=ke();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,_n(9,{destroy:void 0},jm.bind(null,l,a),null)),[n,i,e]}function jm(e,t){e.action=t}function Er(e){var t=ke(),a=Te;if(a!==null)return Cr(t,a,e);ke(),t=t.memoizedState,a=ke();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function _n(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ti(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ar(){return ke().memoizedState}function Hi(e,t,a,n){var l=ht();pe.flags|=e,l.memoizedState=_n(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ui(e,t,a,n){var l=ke();n=n===void 0?null:n;var i=l.memoizedState.inst;Te!==null&&n!==null&&xo(n,Te.memoizedState.deps)?l.memoizedState=_n(t,i,a,n):(pe.flags|=e,l.memoizedState=_n(1|t,i,a,n))}function Tr(e,t){Hi(8390656,8,e,t)}function Ao(e,t){Ui(2048,8,e,t)}function Cm(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Ti(),pe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Rr(e){var t=ke().memoizedState;return Cm({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Or(e,t){return Ui(4,2,e,t)}function Hr(e,t){return Ui(4,4,e,t)}function Ur(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Br(e,t,a){a=a!=null?a.concat([e]):null,Ui(4,4,Ur.bind(null,t,e),a)}function To(){}function _r(e,t){var a=ke();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&xo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Lr(e,t){var a=ke();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&xo(t,n[1]))return n[0];if(n=e(),ln){ya(!0);try{e()}finally{ya(!1)}}return a.memoizedState=[n,t],n}function Ro(e,t,a){return a===void 0||(ia&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=qf(),pe.lanes|=e,Ra|=e,a)}function Yr(e,t,a,n){return wt(a,t)?a:Hn.current!==null?(e=Ro(e,a,n),wt(e,t)||($e=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(xe&261930)===0?($e=!0,e.memoizedState=a):(e=qf(),pe.lanes|=e,Ra|=e,t)}function qr(e,t,a,n,l){var i=G.p;G.p=i!==0&&8>i?i:8;var c=O.T,h={};O.T=h,Uo(e,!1,t,a);try{var N=l(),E=O.S;if(E!==null&&E(h,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=wm(N,n);wl(e,t,H,Et(e))}else wl(e,t,n,Et(e))}catch(Y){wl(e,t,{then:function(){},status:"rejected",reason:Y},Et())}finally{G.p=i,c!==null&&h.types!==null&&(c.types=h.types),O.T=c}}function Em(){}function Oo(e,t,a,n){if(e.tag!==5)throw Error(u(476));var l=Gr(e).queue;qr(e,l,t,Z,a===null?Em:function(){return Xr(e),a(n)})}function Gr(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xr(e){var t=Gr(e);t.next===null&&(t=e.alternate.memoizedState),wl(e,t.next.queue,{},Et())}function Ho(){return ot(ql)}function Zr(){return ke().memoizedState}function Qr(){return ke().memoizedState}function Am(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=Ma(a);var n=ja(t,e,a);n!==null&&(xt(n,t,a),yl(n,t,a)),t={cache:uo()},e.payload=t;return}t=t.return}}function Tm(e,t,a){var n=Et();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bi(e)?Kr(t,a):(a=Ps(e,t,a,n),a!==null&&(xt(a,e,n),Jr(a,t,n)))}function Vr(e,t,a){var n=Et();wl(e,t,a,n)}function wl(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bi(e))Kr(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,h=i(c,a);if(l.hasEagerState=!0,l.eagerState=h,wt(h,c))return vi(e,t,l,0),Ue===null&&pi(),!1}catch{}finally{}if(a=Ps(e,t,l,n),a!==null)return xt(a,e,n),Jr(a,t,n),!0}return!1}function Uo(e,t,a,n){if(n={lane:2,revertLane:hu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Bi(e)){if(t)throw Error(u(479))}else t=Ps(e,a,n,2),t!==null&&xt(t,e,2)}function Bi(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Kr(e,t){Un=Ei=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jr(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,$u(e,a)}}var zl={readContext:ot,use:Ri,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};zl.useEffectEvent=Ze;var kr={readContext:ot,use:Ri,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Tr,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hi(4194308,4,Ur.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hi(4194308,4,e,t)},useInsertionEffect:function(e,t){Hi(4,2,e,t)},useMemo:function(e,t){var a=ht();t=t===void 0?null:t;var n=e();if(ln){ya(!0);try{e()}finally{ya(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ht();if(a!==void 0){var l=a(t);if(ln){ya(!0);try{a(t)}finally{ya(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=Tm.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Co(e);var t=e.queue,a=Vr.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:To,useDeferredValue:function(e,t){var a=ht();return Ro(a,e,t)},useTransition:function(){var e=Co(!1);return e=qr.bind(null,pe,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=pe,l=ht();if(Ne){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Ue===null)throw Error(u(349));(xe&127)!==0||pr(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,Tr(gr.bind(null,n,i,e),[e]),n.flags|=2048,_n(9,{destroy:void 0},vr.bind(null,n,i,a,t),null),a},useId:function(){var e=ht(),t=Ue.identifierPrefix;if(Ne){var a=Jt,n=Kt;a=(n&~(1<<32-Nt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ai++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=zm++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ho,useFormState:Mr,useActionState:Mr,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return ht().memoizedState=Am.bind(null,pe)},useEffectEvent:function(e){var t=ht(),a={impl:e};return t.memoizedState=a,function(){if((je&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},Bo={readContext:ot,use:Ri,useCallback:_r,useContext:ot,useEffect:Ao,useImperativeHandle:Br,useInsertionEffect:Or,useLayoutEffect:Hr,useMemo:Lr,useReducer:Oi,useRef:Ar,useState:function(){return Oi(sa)},useDebugValue:To,useDeferredValue:function(e,t){var a=ke();return Yr(a,Te.memoizedState,e,t)},useTransition:function(){var e=Oi(sa)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Nl(e),t]},useSyncExternalStore:mr,useId:Zr,useHostTransitionStatus:Ho,useFormState:jr,useActionState:jr,useOptimistic:function(e,t){var a=ke();return xr(a,Te,e,t)},useMemoCache:Do,useCacheRefresh:Qr};Bo.useEffectEvent=Rr;var Wr={readContext:ot,use:Ri,useCallback:_r,useContext:ot,useEffect:Ao,useImperativeHandle:Br,useInsertionEffect:Or,useLayoutEffect:Hr,useMemo:Lr,useReducer:jo,useRef:Ar,useState:function(){return jo(sa)},useDebugValue:To,useDeferredValue:function(e,t){var a=ke();return Te===null?Ro(a,e,t):Yr(a,Te.memoizedState,e,t)},useTransition:function(){var e=jo(sa)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Nl(e),t]},useSyncExternalStore:mr,useId:Zr,useHostTransitionStatus:Ho,useFormState:Er,useActionState:Er,useOptimistic:function(e,t){var a=ke();return Te!==null?xr(a,Te,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Qr};Wr.useEffectEvent=Rr;function _o(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Et(),l=Ma(n);l.payload=t,a!=null&&(l.callback=a),t=ja(e,l,n),t!==null&&(xt(t,e,n),yl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Et(),l=Ma(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=ja(e,l,n),t!==null&&(xt(t,e,n),yl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),n=Ma(a);n.tag=2,t!=null&&(n.callback=t),t=ja(e,n,a),t!==null&&(xt(t,e,a),yl(t,e,a))}};function Fr(e,t,a,n,l,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,c):t.prototype&&t.prototype.isPureReactComponent?!rl(a,n)||!rl(l,i):!0}function Pr(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function sn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function $r(e){mi(e)}function Ir(e){console.error(e)}function ef(e){mi(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function tf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Yo(e,t,a){return a=Ma(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function af(e){return e=Ma(e),e.tag=3,e}function nf(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){tf(t,a,n)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){tf(t,a,n),typeof l!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})})}function Rm(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&En(t,a,l,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Lt===null?Wi():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===zi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ru(e,n,l)),!1;case 22:return a.flags|=65536,n===zi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ru(e,n,l)),!1}throw Error(u(435,a.tag))}return ru(e,n,l),Wi(),!1}if(Ne)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==no&&(e=Error(u(422),{cause:n}),hl(Ht(e,a)))):(n!==no&&(t=Error(u(423),{cause:n}),hl(Ht(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Ht(n,a),l=Yo(e.stateNode,n,l),po(e,l),Qe!==4&&(Qe=2)),!1;var i=Error(u(520),{cause:n});if(i=Ht(i,a),Rl===null?Rl=[i]:Rl.push(i),Qe!==4&&(Qe=2),t===null)return!0;n=Ht(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Yo(a.stateNode,n,e),po(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Oa===null||!Oa.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=af(l),nf(l,e,a,n),po(a,l),!1}a=a.return}while(a!==null);return!1}var qo=Error(u(461)),$e=!1;function ut(e,t,a,n){t.child=e===null?or(t,null,a,n):nn(t,e.child,a,n)}function lf(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var c={};for(var h in n)h!=="ref"&&(c[h]=n[h])}else c=n;return Ia(t),n=So(e,t,a,c,i,l),h=No(),e!==null&&!$e?(wo(e,t,l),oa(e,t,l)):(Ne&&h&&to(t),t.flags|=1,ut(e,t,n,l),t.child)}function sf(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!$s(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,of(e,t,i,n,l)):(e=yi(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ko(e,l)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(c,n)&&e.ref===t.ref)return oa(e,t,l)}return t.flags|=1,e=ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function of(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(rl(i,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=i,ko(e,l))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,oa(e,t,l)}return Go(e,t,a,n,l)}function uf(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return cf(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(t,i!==null?i.cachePool:null),i!==null?rr(t,i):go(),fr(t);else return n=t.lanes=536870912,cf(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Ni(t,i.cachePool),rr(t,i),Ea(),t.memoizedState=null):(e!==null&&Ni(t,null),go(),Ea());return ut(e,t,l,a),t.child}function Dl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cf(e,t,a,n,l){var i=ro();return i=i===null?null:{parent:Fe._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ni(t,null),go(),fr(t),e!==null&&En(e,t,n,!0),t.childLanes=l,null}function Li(e,t){return t=qi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rf(e,t,a){return nn(t,e.child,null,a),e=Li(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function Om(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(n.mode==="hidden")return e=Li(t,n),t.lanes=536870912,Dl(null,e);if(bo(t),(e=Le)?(e=Nd(e,_t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Kc(e),a.return=t,t.child=a,st=t,Le=null)):e=null,e===null)throw wa(t);return t.lanes=536870912,null}return Li(t,n)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(bo(t),l)if(t.flags&256)t.flags&=-257,t=rf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if($e||En(e,t,a,!1),l=(a&e.childLanes)!==0,$e||l){if(n=Ue,n!==null&&(c=Iu(n,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,Wa(e,c),xt(n,e,c),qo;Wi(),t=rf(e,t,a)}else e=i.treeContext,Le=Yt(c.nextSibling),st=t,Ne=!0,Na=null,_t=!1,e!==null&&Wc(t,e),t=Li(t,n),t.flags|=4096;return t}return e=ta(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Go(e,t,a,n,l){return Ia(t),a=So(e,t,a,n,void 0,l),n=No(),e!==null&&!$e?(wo(e,t,l),oa(e,t,l)):(Ne&&n&&to(t),t.flags|=1,ut(e,t,a,l),t.child)}function ff(e,t,a,n,l,i){return Ia(t),t.updateQueue=null,a=hr(t,n,a,l),dr(e),n=No(),e!==null&&!$e?(wo(e,t,i),oa(e,t,i)):(Ne&&n&&to(t),t.flags|=1,ut(e,t,a,i),t.child)}function df(e,t,a,n,l){if(Ia(t),t.stateNode===null){var i=Dn,c=a.contextType;typeof c=="object"&&c!==null&&(i=ot(c)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},ho(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?ot(c):Dn,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(_o(t,a,c,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Lo.enqueueReplaceState(i,i.state,null),xl(t,n,i,l),bl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var h=t.memoizedProps,N=sn(a,h);i.props=N;var E=i.context,H=a.contextType;c=Dn,typeof H=="object"&&H!==null&&(c=ot(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,H||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(h||E!==c)&&Pr(t,i,n,c),Da=!1;var A=t.memoizedState;i.state=A,xl(t,n,i,l),bl(),E=t.memoizedState,h||A!==E||Da?(typeof Y=="function"&&(_o(t,a,Y,n),E=t.memoizedState),(N=Da||Fr(t,a,N,n,A,E,c))?(H||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=E),i.props=n,i.state=E,i.context=c,n=N):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,mo(e,t),c=t.memoizedProps,H=sn(a,c),i.props=H,Y=t.pendingProps,A=i.context,E=a.contextType,N=Dn,typeof E=="object"&&E!==null&&(N=ot(E)),h=a.getDerivedStateFromProps,(E=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==Y||A!==N)&&Pr(t,i,n,N),Da=!1,A=t.memoizedState,i.state=A,xl(t,n,i,l),bl();var R=t.memoizedState;c!==Y||A!==R||Da||e!==null&&e.dependencies!==null&&xi(e.dependencies)?(typeof h=="function"&&(_o(t,a,h,n),R=t.memoizedState),(H=Da||Fr(t,a,H,n,A,R,N)||e!==null&&e.dependencies!==null&&xi(e.dependencies))?(E||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,R,N),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,R,N)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=R),i.props=n,i.state=R,i.context=N,n=H):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Yi(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=nn(t,e.child,null,l),t.child=nn(t,null,a,l)):ut(e,t,a,l),t.memoizedState=i.state,e=t.child):e=oa(e,t,l),e}function hf(e,t,a,n){return Pa(),t.flags|=256,ut(e,t,a,n),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zo(e){return{baseLanes:e,cachePool:tr()}}function Qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ct),e}function mf(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),c&&(l=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(l?Ca(t):Ea(),(e=Le)?(e=Nd(e,_t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=Kc(e),a.return=t,t.child=a,st=t,Le=null)):e=null,e===null)throw wa(t);return Mu(e)?t.lanes=32:t.lanes=536870912,null}var h=n.children;return n=n.fallback,l?(Ea(),l=t.mode,h=qi({mode:"hidden",children:h},l),n=Fa(n,l,a,null),h.return=t,n.return=t,h.sibling=n,t.child=h,n=t.child,n.memoizedState=Zo(a),n.childLanes=Qo(e,c,a),t.memoizedState=Xo,Dl(null,n)):(Ca(t),Vo(t,h))}var N=e.memoizedState;if(N!==null&&(h=N.dehydrated,h!==null)){if(i)t.flags&256?(Ca(t),t.flags&=-257,t=Ko(e,t,a)):t.memoizedState!==null?(Ea(),t.child=e.child,t.flags|=128,t=null):(Ea(),h=n.fallback,l=t.mode,n=qi({mode:"visible",children:n.children},l),h=Fa(h,l,a,null),h.flags|=2,n.return=t,h.return=t,n.sibling=h,t.child=n,nn(t,e.child,null,a),n=t.child,n.memoizedState=Zo(a),n.childLanes=Qo(e,c,a),t.memoizedState=Xo,t=Dl(null,n));else if(Ca(t),Mu(h)){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;c=E,n=Error(u(419)),n.stack="",n.digest=c,hl({value:n,source:null,stack:null}),t=Ko(e,t,a)}else if($e||En(e,t,a,!1),c=(a&e.childLanes)!==0,$e||c){if(c=Ue,c!==null&&(n=Iu(c,a),n!==0&&n!==N.retryLane))throw N.retryLane=n,Wa(e,n),xt(c,e,n),qo;Du(h)||Wi(),t=Ko(e,t,a)}else Du(h)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Le=Yt(h.nextSibling),st=t,Ne=!0,Na=null,_t=!1,e!==null&&Wc(t,e),t=Vo(t,n.children),t.flags|=4096);return t}return l?(Ea(),h=n.fallback,l=t.mode,N=e.child,E=N.sibling,n=ta(N,{mode:"hidden",children:n.children}),n.subtreeFlags=N.subtreeFlags&65011712,E!==null?h=ta(E,h):(h=Fa(h,l,a,null),h.flags|=2),h.return=t,n.return=t,n.sibling=h,t.child=n,Dl(null,n),n=t.child,h=e.child.memoizedState,h===null?h=Zo(a):(l=h.cachePool,l!==null?(N=Fe._currentValue,l=l.parent!==N?{parent:N,pool:N}:l):l=tr(),h={baseLanes:h.baseLanes|a,cachePool:l}),n.memoizedState=h,n.childLanes=Qo(e,c,a),t.memoizedState=Xo,Dl(e.child,n)):(Ca(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=qi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qi(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Ko(e,t,a){return nn(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),so(e.return,t,a)}function Jo(e,t,a,n,l,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=l,c.treeForkCount=i)}function vf(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var c=Je.current,h=(c&2)!==0;if(h?(c=c&1|2,t.flags|=128):c&=1,ue(Je,c),ut(e,t,n,a),n=Ne?dl:0,!h&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pf(e,a,t);else if(e.tag===19)pf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Ci(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Jo(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ci(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Jo(t,!0,a,null,i,n);break;case"together":Jo(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(En(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xi(e)))}function Hm(e,t,a){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),za(t,Fe,e.memoizedState.cache),Pa();break;case 27:case 5:Vt(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?mf(e,t,a):(Ca(t),e=oa(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(En(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return vf(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ue(Je,Je.current),n)break;return null;case 22:return t.lanes=0,uf(e,t,a,t.pendingProps);case 24:za(t,Fe,e.memoizedState.cache)}return oa(e,t,a)}function gf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!ko(e,a)&&(t.flags&128)===0)return $e=!1,Hm(e,t,a);$e=(e.flags&131072)!==0}else $e=!1,Ne&&(t.flags&1048576)!==0&&kc(t,dl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=tn(t.elementType),t.type=e,typeof e=="function")$s(e)?(n=sn(e,n),t.tag=1,t=df(null,t,e,n,a)):(t.tag=0,t=Go(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===L){t.tag=11,t=lf(null,t,e,n,a);break e}else if(l===ee){t.tag=14,t=sf(null,t,e,n,a);break e}}throw t=ge(e)||e,Error(u(306,t,""))}}return t;case 0:return Go(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=sn(n,t.pendingProps),df(e,t,n,l,a);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(u(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,mo(e,t),xl(t,n,null,a);var c=t.memoizedState;if(n=c.cache,za(t,Fe,n),n!==i.cache&&oo(t,[Fe],a,!0),bl(),n=c.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=hf(e,t,n,a);break e}else if(n!==l){l=Ht(Error(u(424)),t),hl(l),t=hf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Yt(e.firstChild),st=t,Ne=!0,Na=null,_t=!0,a=or(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pa(),n===l){t=oa(e,t,a);break e}ut(e,t,n,a)}t=t.child}return t;case 26:return Yi(e,t),e===null?(a=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,n=as(et.current).createElement(a),n[it]=t,n[mt]=e,ct(n,a,e),at(n),t.stateNode=n):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vt(t),e===null&&Ne&&(n=t.stateNode=Dd(t.type,t.pendingProps,et.current),st=t,_t=!0,l=Le,_a(t.type)?(ju=l,Le=Yt(n.firstChild)):Le=l),ut(e,t,t.pendingProps.children,a),Yi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((l=n=Le)&&(n=rp(n,t.type,t.pendingProps,_t),n!==null?(t.stateNode=n,st=t,Le=Yt(n.firstChild),_t=!1,l=!0):l=!1),l||wa(t)),Vt(t),l=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,n=i.children,Nu(l,i)?n=null:c!==null&&Nu(l,c)&&(t.flags|=32),t.memoizedState!==null&&(l=So(e,t,Dm,null,null,a),ql._currentValue=l),Yi(e,t),ut(e,t,n,a),t.child;case 6:return e===null&&Ne&&((e=a=Le)&&(a=fp(a,t.pendingProps,_t),a!==null?(t.stateNode=a,st=t,Le=null,e=!0):e=!1),e||wa(t)),null;case 13:return mf(e,t,a);case 4:return Xe(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nn(t,null,n,a):ut(e,t,n,a),t.child;case 11:return lf(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,za(t,t.type,n.value),ut(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Ia(t),l=ot(l),n=n(l),t.flags|=1,ut(e,t,n,a),t.child;case 14:return sf(e,t,t.type,t.pendingProps,a);case 15:return of(e,t,t.type,t.pendingProps,a);case 19:return vf(e,t,a);case 31:return Om(e,t,a);case 22:return uf(e,t,a,t.pendingProps);case 24:return Ia(t),n=ot(Fe),e===null?(l=ro(),l===null&&(l=Ue,i=uo(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},ho(t),za(t,Fe,l)):((e.lanes&a)!==0&&(mo(e,t),xl(t,null,null,a),bl()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),za(t,Fe,n)):(n=i.cache,za(t,Fe,n),n!==l.cache&&oo(t,[Fe],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ua(e){e.flags|=4}function Wo(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Qf())e.flags|=8192;else throw an=zi,fo}else e.flags&=-16777217}function yf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Od(t))if(Qf())e.flags|=8192;else throw an=zi,fo}function Gi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fu():536870912,e.lanes|=t,Gn|=t)}function Ml(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Um(e,t,a){var n=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),la(Fe),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Cn(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lo())),Ye(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(ua(t),i!==null?(Ye(t),yf(t,i)):(Ye(t),Wo(t,l,null,n,a))):i?i!==e.memoizedState?(ua(t),Ye(t),yf(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ua(t),Ye(t),Wo(t,l,e,n,a)),null;case 27:if(I(t),a=et.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ye(t),null}e=de.current,Cn(t)?Fc(t):(e=Dd(l,n,a),t.stateNode=e,ua(t))}return Ye(t),null;case 5:if(I(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ye(t),null}if(i=de.current,Cn(t))Fc(t);else{var c=as(et.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?c.createElement(l,{is:n.is}):c.createElement(l)}}i[it]=t,i[mt]=n;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(ct(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ua(t)}}return Ye(t),Wo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(e=et.current,Cn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=st,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||md(e.nodeValue,a)),e||wa(t,!0)}else e=as(e).createTextNode(n),e[it]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Cn(t),a!==null){if(e===null){if(!n)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[it]=t}else Pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=lo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ye(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Cn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(u(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(u(317));l[it]=t}else Pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),l=!1}else l=lo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Gi(t,t.updateQueue),Ye(t),null);case 4:return We(),e===null&&gu(t.stateNode.containerInfo),Ye(t),null;case 10:return la(t.type),Ye(t),null;case 19:if(fe(Je),n=t.memoizedState,n===null)return Ye(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Ml(n,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ci(e),i!==null){for(t.flags|=128,Ml(n,!1),e=i.updateQueue,t.updateQueue=e,Gi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Vc(a,e),a=a.sibling;return ue(Je,Je.current&1|2),Ne&&aa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ft()>Ki&&(t.flags|=128,l=!0,Ml(n,!1),t.lanes=4194304)}else{if(!l)if(e=Ci(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Gi(t,e),Ml(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Ne)return Ye(t),null}else 2*ft()-n.renderingStartTime>Ki&&a!==536870912&&(t.flags|=128,l=!0,Ml(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ft(),e.sibling=null,a=Je.current,ue(Je,l?a&1|2:a&1),Ne&&aa(t,n.treeForkCount),e):(Ye(t),null);case 22:case 23:return Mt(t),yo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Gi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&fe(en),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),la(Fe),Ye(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Bm(e,t){switch(ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(Fe),We(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return I(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(u(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(Je),null;case 4:return We(),null;case 10:return la(t.type),null;case 22:case 23:return Mt(t),yo(),e!==null&&fe(en),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return la(Fe),null;case 25:return null;default:return null}}function bf(e,t){switch(ao(t),t.tag){case 3:la(Fe),We();break;case 26:case 27:case 5:I(t);break;case 4:We();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:fe(Je);break;case 10:la(t.type);break;case 22:case 23:Mt(t),yo(),e!==null&&fe(en);break;case 24:la(Fe)}}function jl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,c=a.inst;n=i(),c.destroy=n}a=a.next}while(a!==l)}}catch(h){Ee(t,t.return,h)}}function Aa(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var c=n.inst,h=c.destroy;if(h!==void 0){c.destroy=void 0,l=t;var N=a,E=h;try{E()}catch(H){Ee(l,N,H)}}}n=n.next}while(n!==i)}}catch(H){Ee(t,t.return,H)}}function xf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{cr(t,a)}catch(n){Ee(e,e.return,n)}}}function Sf(e,t,a){a.props=sn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ee(e,t,n)}}function Cl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){Ee(e,t,l)}}function kt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){Ee(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Ee(e,t,l)}else a.current=null}function Nf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){Ee(e,e.return,l)}}function Fo(e,t,a){try{var n=e.stateNode;lp(n,e.type,a,t),n[mt]=t}catch(l){Ee(e,e.return,l)}}function wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function Po(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=It));else if(n!==4&&(n===27&&_a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($o(e,t,a),e=e.sibling;e!==null;)$o(e,t,a),e=e.sibling}function Xi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&_a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xi(e,t,a),e=e.sibling;e!==null;)Xi(e,t,a),e=e.sibling}function zf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);ct(t,n,a),t[it]=e,t[mt]=a}catch(i){Ee(e,e.return,i)}}var ca=!1,Ie=!1,Io=!1,Df=typeof WeakSet=="function"?WeakSet:Set,nt=null;function _m(e,t){if(e=e.containerInfo,xu=cs,e=Bc(e),Vs(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,h=-1,N=-1,E=0,H=0,Y=e,A=null;t:for(;;){for(var R;Y!==a||l!==0&&Y.nodeType!==3||(h=c+l),Y!==i||n!==0&&Y.nodeType!==3||(N=c+n),Y.nodeType===3&&(c+=Y.nodeValue.length),(R=Y.firstChild)!==null;)A=Y,Y=R;for(;;){if(Y===e)break t;if(A===a&&++E===l&&(h=c),A===i&&++H===n&&(N=c),(R=Y.nextSibling)!==null)break;Y=A,A=Y.parentNode}Y=R}a=h===-1||N===-1?null:{start:h,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Su={focusedElem:e,selectionRange:a},cs=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var W=sn(a.type,l);e=n.getSnapshotBeforeUpdate(W,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ee(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)zu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Mf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),n&4&&jl(5,a);break;case 1:if(fa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){Ee(a,a.return,c)}else{var l=sn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Ee(a,a.return,c)}}n&64&&xf(a),n&512&&Cl(a,a.return);break;case 3:if(fa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{cr(e,t)}catch(c){Ee(a,a.return,c)}}break;case 27:t===null&&n&4&&zf(a);case 26:case 5:fa(e,a),t===null&&n&4&&Nf(a),n&512&&Cl(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),n&4&&Ef(e,a);break;case 13:fa(e,a),n&4&&Af(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Km.bind(null,a),dp(e,a))));break;case 22:if(n=a.memoizedState!==null||ca,!n){t=t!==null&&t.memoizedState!==null||Ie,l=ca;var i=Ie;ca=n,(Ie=t)&&!i?da(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),ca=l,Ie=i}break;case 30:break;default:fa(e,a)}}function jf(e){var t=e.alternate;t!==null&&(e.alternate=null,jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,vt=!1;function ra(e,t,a){for(a=a.child;a!==null;)Cf(e,t,a),a=a.sibling}function Cf(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Za,a)}catch{}switch(a.tag){case 26:Ie||kt(a,t),ra(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||kt(a,t);var n=Ge,l=vt;_a(a.type)&&(Ge=a.stateNode,vt=!1),ra(e,t,a),_l(a.stateNode),Ge=n,vt=l;break;case 5:Ie||kt(a,t);case 6:if(n=Ge,l=vt,Ge=null,ra(e,t,a),Ge=n,vt=l,Ge!==null)if(vt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(i){Ee(a,t,i)}else try{Ge.removeChild(a.stateNode)}catch(i){Ee(a,t,i)}break;case 18:Ge!==null&&(vt?(e=Ge,xd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wn(e)):xd(Ge,a.stateNode));break;case 4:n=Ge,l=vt,Ge=a.stateNode.containerInfo,vt=!0,ra(e,t,a),Ge=n,vt=l;break;case 0:case 11:case 14:case 15:Aa(2,a,t),Ie||Aa(4,a,t),ra(e,t,a);break;case 1:Ie||(kt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Sf(a,t,n)),ra(e,t,a);break;case 21:ra(e,t,a);break;case 22:Ie=(n=Ie)||a.memoizedState!==null,ra(e,t,a),Ie=n;break;default:ra(e,t,a)}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wn(e)}catch(a){Ee(t,t.return,a)}}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wn(e)}catch(a){Ee(t,t.return,a)}}function Lm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Df),t;default:throw Error(u(435,e.tag))}}function Zi(e,t){var a=Lm(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=Jm.bind(null,e,n);n.then(l,l)}})}function gt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 27:if(_a(h.type)){Ge=h.stateNode,vt=!1;break e}break;case 5:Ge=h.stateNode,vt=!1;break e;case 3:case 4:Ge=h.stateNode.containerInfo,vt=!0;break e}h=h.return}if(Ge===null)throw Error(u(160));Cf(i,c,l),Ge=null,vt=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Tf(t,e),t=t.sibling}var Xt=null;function Tf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),n&4&&(Aa(3,e,e.return),jl(3,e),Aa(5,e,e.return));break;case 1:gt(t,e),yt(e),n&512&&(Ie||a===null||kt(a,a.return)),n&64&&ca&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Xt;if(gt(t,e),yt(e),n&512&&(Ie||a===null||kt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[tl]||i[it]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),ct(i,n,a),i[it]=e,at(i),n=i;break e;case"link":var c=Td("link","href",l).get(n+(a.href||""));if(c){for(var h=0;h<c.length;h++)if(i=c[h],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(h,1);break t}}i=l.createElement(n),ct(i,n,a),l.head.appendChild(i);break;case"meta":if(c=Td("meta","content",l).get(n+(a.content||""))){for(h=0;h<c.length;h++)if(i=c[h],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(h,1);break t}}i=l.createElement(n),ct(i,n,a),l.head.appendChild(i);break;default:throw Error(u(468,n))}i[it]=e,at(i),n=i}e.stateNode=n}else Rd(l,e.type,e.stateNode);else e.stateNode=Ad(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Rd(l,e.type,e.stateNode):Ad(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,a.memoizedProps)}break;case 27:gt(t,e),yt(e),n&512&&(Ie||a===null||kt(a,a.return)),a!==null&&n&4&&Fo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gt(t,e),yt(e),n&512&&(Ie||a===null||kt(a,a.return)),e.flags&32){l=e.stateNode;try{yn(l,"")}catch(W){Ee(e,e.return,W)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,Fo(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Io=!0);break;case 6:if(gt(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(u(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(W){Ee(e,e.return,W)}}break;case 3:if(is=null,l=Xt,Xt=ns(t.containerInfo),gt(t,e),Xt=l,yt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(W){Ee(e,e.return,W)}Io&&(Io=!1,Rf(e));break;case 4:n=Xt,Xt=ns(e.stateNode.containerInfo),gt(t,e),yt(e),Xt=n;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zi(e,n)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vi=ft()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zi(e,n)));break;case 22:l=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,E=ca,H=Ie;if(ca=E||l,Ie=H||N,gt(t,e),Ie=H,ca=E,yt(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||N||ca||Ie||on(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(i=N.stateNode,l)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{h=N.stateNode;var Y=N.memoizedProps.style,A=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;h.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(W){Ee(N,N.return,W)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=l?"":N.memoizedProps}catch(W){Ee(N,N.return,W)}}}else if(t.tag===18){if(a===null){N=t;try{var R=N.stateNode;l?Sd(R,!0):Sd(N.stateNode,!1)}catch(W){Ee(N,N.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Zi(e,a))));break;case 19:gt(t,e),yt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zi(e,n)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(wf(n)){a=n;break}n=n.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var l=a.stateNode,i=Po(e);Xi(e,i,l);break;case 5:var c=a.stateNode;a.flags&32&&(yn(c,""),a.flags&=-33);var h=Po(e);Xi(e,h,c);break;case 3:case 4:var N=a.stateNode.containerInfo,E=Po(e);$o(e,E,N);break;default:throw Error(u(161))}}catch(H){Ee(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function on(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Aa(4,t,t.return),on(t);break;case 1:kt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Sf(t,t.return,a),on(t);break;case 27:_l(t.stateNode);case 26:case 5:kt(t,t.return),on(t);break;case 22:t.memoizedState===null&&on(t);break;case 30:on(t);break;default:on(t)}e=e.sibling}}function da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:da(l,i,a),jl(4,i);break;case 1:if(da(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(E){Ee(n,n.return,E)}if(n=i,l=n.updateQueue,l!==null){var h=n.stateNode;try{var N=l.shared.hiddenCallbacks;if(N!==null)for(l.shared.hiddenCallbacks=null,l=0;l<N.length;l++)ur(N[l],h)}catch(E){Ee(n,n.return,E)}}a&&c&64&&xf(i),Cl(i,i.return);break;case 27:zf(i);case 26:case 5:da(l,i,a),a&&n===null&&c&4&&Nf(i),Cl(i,i.return);break;case 12:da(l,i,a);break;case 31:da(l,i,a),a&&c&4&&Ef(l,i);break;case 13:da(l,i,a),a&&c&4&&Af(l,i);break;case 22:i.memoizedState===null&&da(l,i,a),Cl(i,i.return);break;case 30:break;default:da(l,i,a)}t=t.sibling}}function eu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ml(a))}function tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e))}function Zt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Of(e,t,a,n),t=t.sibling}function Of(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,n),l&2048&&jl(9,t);break;case 1:Zt(e,t,a,n);break;case 3:Zt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e)));break;case 12:if(l&2048){Zt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,h=i.onPostCommit;typeof h=="function"&&h(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ee(t,t.return,N)}}else Zt(e,t,a,n);break;case 31:Zt(e,t,a,n);break;case 13:Zt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Zt(e,t,a,n):El(e,t):i._visibility&2?Zt(e,t,a,n):(i._visibility|=2,Ln(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&eu(c,t);break;case 24:Zt(e,t,a,n),l&2048&&tu(t.alternate,t);break;default:Zt(e,t,a,n)}}function Ln(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,h=a,N=n,E=c.flags;switch(c.tag){case 0:case 11:case 15:Ln(i,c,h,N,l),jl(8,c);break;case 23:break;case 22:var H=c.stateNode;c.memoizedState!==null?H._visibility&2?Ln(i,c,h,N,l):El(i,c):(H._visibility|=2,Ln(i,c,h,N,l)),l&&E&2048&&eu(c.alternate,c);break;case 24:Ln(i,c,h,N,l),l&&E&2048&&tu(c.alternate,c);break;default:Ln(i,c,h,N,l)}t=t.sibling}}function El(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:El(a,n),l&2048&&eu(n.alternate,n);break;case 24:El(a,n),l&2048&&tu(n.alternate,n);break;default:El(a,n)}t=t.sibling}}var Al=8192;function Yn(e,t,a){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)Hf(e,t,a),e=e.sibling}function Hf(e,t,a){switch(e.tag){case 26:Yn(e,t,a),e.flags&Al&&e.memoizedState!==null&&zp(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Yn(e,t,a);break;case 3:case 4:var n=Xt;Xt=ns(e.stateNode.containerInfo),Yn(e,t,a),Xt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,Yn(e,t,a),Al=n):Yn(e,t,a));break;default:Yn(e,t,a)}}function Uf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];nt=n,_f(n,e)}Uf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bf(e),e=e.sibling}function Bf(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qi(e)):Tl(e);break;default:Tl(e)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];nt=n,_f(n,e)}Uf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Aa(8,t,t.return),Qi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Qi(t));break;default:Qi(t)}e=e.sibling}}function _f(e,t){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:Aa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ml(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,nt=n;else e:for(a=e;nt!==null;){n=nt;var l=n.sibling,i=n.return;if(jf(n),n===a){nt=null;break e}if(l!==null){l.return=i,nt=l;break e}nt=i}}}var Ym={getCacheForType:function(e){var t=ot(Fe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ot(Fe).controller.signal}},qm=typeof WeakMap=="function"?WeakMap:Map,je=0,Ue=null,ye=null,xe=0,Ce=0,jt=null,Ta=!1,qn=!1,au=!1,ha=0,Qe=0,Ra=0,un=0,nu=0,Ct=0,Gn=0,Rl=null,bt=null,lu=!1,Vi=0,Lf=0,Ki=1/0,Ji=null,Oa=null,tt=0,Ha=null,Xn=null,ma=0,iu=0,su=null,Yf=null,Ol=0,ou=null;function Et(){return(je&2)!==0&&xe!==0?xe&-xe:O.T!==null?hu():ec()}function qf(){if(Ct===0)if((xe&536870912)===0||Ne){var e=ti;ti<<=1,(ti&3932160)===0&&(ti=262144),Ct=e}else Ct=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Ct}function xt(e,t,a){(e===Ue&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Zn(e,0),Ua(e,xe,Ct,!1)),el(e,a),((je&2)===0||e!==Ue)&&(e===Ue&&((je&2)===0&&(un|=a),Qe===4&&Ua(e,xe,Ct,!1)),Wt(e))}function Gf(e,t,a){if((je&6)!==0)throw Error(u(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||In(e,t),l=n?Zm(e,t):cu(e,t,!0),i=n;do{if(l===0){qn&&!n&&Ua(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Gm(a)){l=cu(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var h=e;l=Rl;var N=h.current.memoizedState.isDehydrated;if(N&&(Zn(h,c).flags|=256),c=cu(h,c,!1),c!==2){if(au&&!N){h.errorRecoveryDisabledLanes|=i,un|=i,l=4;break e}i=bt,bt=l,i!==null&&(bt===null?bt=i:bt.push.apply(bt,i))}l=c}if(i=!1,l!==2)continue}}if(l===1){Zn(e,0),Ua(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Ua(n,t,Ct,!Ta);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(l=Vi+300-ft(),10<l)){if(Ua(n,t,Ct,!Ta),ni(n,0,!0)!==0)break e;ma=t,n.timeoutHandle=yd(Xf.bind(null,n,a,bt,Ji,lu,t,Ct,un,Gn,Ta,i,"Throttled",-0,0),l);break e}Xf(n,a,bt,Ji,lu,t,Ct,un,Gn,Ta,i,null,-0,0)}}break}while(!0);Wt(e)}function Xf(e,t,a,n,l,i,c,h,N,E,H,Y,A,R){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},Hf(t,i,Y);var W=(i&62914560)===i?Vi-ft():(i&4194048)===i?Lf-ft():0;if(W=Dp(Y,W),W!==null){ma=i,e.cancelPendingCommit=W(Ff.bind(null,e,t,i,a,n,l,c,h,N,H,Y,null,A,R)),Ua(e,i,c,!E);return}}Ff(e,t,i,a,n,l,c,h,N)}function Gm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!wt(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t,a,n){t&=~nu,t&=~un,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-Nt(l),c=1<<i;n[i]=-1,l&=~c}a!==0&&Pu(e,a,t)}function ki(){return(je&6)===0?(Hl(0),!1):!0}function uu(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,na=$a=null,zo(e),On=null,vl=0,e=ye;for(;e!==null;)bf(e.alternate,e),e=e.return;ye=null}}function Zn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,op(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ma=0,uu(),Ue=e,ye=a=ta(e.current,null),xe=t,Ce=0,jt=null,Ta=!1,qn=In(e,t),au=!1,Gn=Ct=nu=un=Ra=Qe=0,bt=Rl=null,lu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-Nt(n),i=1<<l;t|=e[l],n&=~i}return ha=t,pi(),a}function Zf(e,t){pe=null,O.H=zl,t===Rn||t===wi?(t=lr(),Ce=3):t===fo?(t=lr(),Ce=4):Ce=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,ye===null&&(Qe=1,_i(e,Ht(t,e.current)))}function Qf(){var e=Dt.current;return e===null?!0:(xe&4194048)===xe?Lt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Lt:!1}function Vf(){var e=O.H;return O.H=zl,e===null?zl:e}function Kf(){var e=O.A;return O.A=Ym,e}function Wi(){Qe=4,Ta||(xe&4194048)!==xe&&Dt.current!==null||(qn=!0),(Ra&134217727)===0&&(un&134217727)===0||Ue===null||Ua(Ue,xe,Ct,!1)}function cu(e,t,a){var n=je;je|=2;var l=Vf(),i=Kf();(Ue!==e||xe!==t)&&(Ji=null,Zn(e,t)),t=!1;var c=Qe;e:do try{if(Ce!==0&&ye!==null){var h=ye,N=jt;switch(Ce){case 8:uu(),c=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var E=Ce;if(Ce=0,jt=null,Qn(e,h,N,E),a&&qn){c=0;break e}break;default:E=Ce,Ce=0,jt=null,Qn(e,h,N,E)}}Xm(),c=Qe;break}catch(H){Zf(e,H)}while(!0);return t&&e.shellSuspendCounter++,na=$a=null,je=n,O.H=l,O.A=i,ye===null&&(Ue=null,xe=0,pi()),c}function Xm(){for(;ye!==null;)Jf(ye)}function Zm(e,t){var a=je;je|=2;var n=Vf(),l=Kf();Ue!==e||xe!==t?(Ji=null,Ki=ft()+500,Zn(e,t)):qn=In(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var i=jt;t:switch(Ce){case 1:Ce=0,jt=null,Qn(e,t,i,1);break;case 2:case 9:if(ar(i)){Ce=0,jt=null,kf(t);break}t=function(){Ce!==2&&Ce!==9||Ue!==e||(Ce=7),Wt(e)},i.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:ar(i)?(Ce=0,jt=null,kf(t)):(Ce=0,jt=null,Qn(e,t,i,7));break;case 5:var c=null;switch(ye.tag){case 26:c=ye.memoizedState;case 5:case 27:var h=ye;if(c?Od(c):h.stateNode.complete){Ce=0,jt=null;var N=h.sibling;if(N!==null)ye=N;else{var E=h.return;E!==null?(ye=E,Fi(E)):ye=null}break t}}Ce=0,jt=null,Qn(e,t,i,5);break;case 6:Ce=0,jt=null,Qn(e,t,i,6);break;case 8:uu(),Qe=6;break e;default:throw Error(u(462))}}Qm();break}catch(H){Zf(e,H)}while(!0);return na=$a=null,O.H=n,O.A=l,je=a,ye!==null?0:(Ue=null,xe=0,pi(),Qe)}function Qm(){for(;ye!==null&&!rn();)Jf(ye)}function Jf(e){var t=gf(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?Fi(e):ye=t}function kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ff(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=ff(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:zo(t);default:bf(a,t),t=ye=Vc(t,ha),t=gf(a,t,ha)}e.memoizedProps=e.pendingProps,t===null?Fi(e):ye=t}function Qn(e,t,a,n){na=$a=null,zo(t),On=null,vl=0;var l=t.return;try{if(Rm(e,l,t,a,xe)){Qe=1,_i(e,Ht(a,e.current)),ye=null;return}}catch(i){if(l!==null)throw ye=l,i;Qe=1,_i(e,Ht(a,e.current)),ye=null;return}t.flags&32768?(Ne||n===1?e=!0:qn||(xe&536870912)!==0?e=!1:(Ta=e=!0,(n===2||n===9||n===3||n===6)&&(n=Dt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Wf(t,e)):Fi(t)}function Fi(e){var t=e;do{if((t.flags&32768)!==0){Wf(t,Ta);return}e=t.return;var a=Um(t.alternate,t,ha);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Qe===0&&(Qe=5)}function Wf(e,t){do{var a=Bm(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Qe=6,ye=null}function Ff(e,t,a,n,l,i,c,h,N){e.cancelPendingCommit=null;do Pi();while(tt!==0);if((je&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Fs,wh(e,a,i,c,h,N),e===Ue&&(ye=Ue=null,xe=0),Xn=t,Ha=e,ma=a,iu=i,su=l,Yf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,km(ga,function(){return td(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=G.p,G.p=2,c=je,je|=4;try{_m(e,t,a)}finally{je=c,G.p=l,O.T=n}}tt=1,Pf(),$f(),If()}}function Pf(){if(tt===1){tt=0;var e=Ha,t=Xn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=je;je|=4;try{Tf(t,e);var i=Su,c=Bc(e.containerInfo),h=i.focusedElem,N=i.selectionRange;if(c!==h&&h&&h.ownerDocument&&Uc(h.ownerDocument.documentElement,h)){if(N!==null&&Vs(h)){var E=N.start,H=N.end;if(H===void 0&&(H=E),"selectionStart"in h)h.selectionStart=E,h.selectionEnd=Math.min(H,h.value.length);else{var Y=h.ownerDocument||document,A=Y&&Y.defaultView||window;if(A.getSelection){var R=A.getSelection(),W=h.textContent.length,oe=Math.min(N.start,W),Oe=N.end===void 0?oe:Math.min(N.end,W);!R.extend&&oe>Oe&&(c=Oe,Oe=oe,oe=c);var M=Hc(h,oe),D=Hc(h,Oe);if(M&&D&&(R.rangeCount!==1||R.anchorNode!==M.node||R.anchorOffset!==M.offset||R.focusNode!==D.node||R.focusOffset!==D.offset)){var C=Y.createRange();C.setStart(M.node,M.offset),R.removeAllRanges(),oe>Oe?(R.addRange(C),R.extend(D.node,D.offset)):(C.setEnd(D.node,D.offset),R.addRange(C))}}}}for(Y=[],R=h;R=R.parentNode;)R.nodeType===1&&Y.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Y.length;h++){var B=Y[h];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}cs=!!xu,Su=xu=null}finally{je=l,G.p=n,O.T=a}}e.current=t,tt=2}}function $f(){if(tt===2){tt=0;var e=Ha,t=Xn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=je;je|=4;try{Mf(e,t.alternate,t)}finally{je=l,G.p=n,O.T=a}}tt=3}}function If(){if(tt===4||tt===3){tt=0,Pt();var e=Ha,t=Xn,a=ma,n=Yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Xn=Ha=null,ed(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Oa=null),Ms(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Za,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=G.p,G.p=2,O.T=null;try{for(var i=e.onRecoverableError,c=0;c<n.length;c++){var h=n[c];i(h.value,{componentStack:h.stack})}}finally{O.T=t,G.p=l}}(ma&3)!==0&&Pi(),Wt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===ou?Ol++:(Ol=0,ou=e):Ol=0,Hl(0)}}function ed(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ml(t)))}function Pi(){return Pf(),$f(),If(),td()}function td(){if(tt!==5)return!1;var e=Ha,t=iu;iu=0;var a=Ms(ma),n=O.T,l=G.p;try{G.p=32>a?32:a,O.T=null,a=su,su=null;var i=Ha,c=ma;if(tt=0,Xn=Ha=null,ma=0,(je&6)!==0)throw Error(u(331));var h=je;if(je|=4,Bf(i.current),Of(i,i.current,c,a),je=h,Hl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Za,i)}catch{}return!0}finally{G.p=l,O.T=n,ed(e,t)}}function ad(e,t,a){t=Ht(a,t),t=Yo(e.stateNode,t,2),e=ja(e,t,2),e!==null&&(el(e,2),Wt(e))}function Ee(e,t,a){if(e.tag===3)ad(e,e,a);else for(;t!==null;){if(t.tag===3){ad(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oa===null||!Oa.has(n))){e=Ht(a,e),a=af(2),n=ja(t,a,2),n!==null&&(nf(a,n,t,e),el(n,2),Wt(n));break}}t=t.return}}function ru(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new qm;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(au=!0,l.add(a),e=Vm.bind(null,e,t,a),t.then(e,e))}function Vm(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(xe&a)===a&&(Qe===4||Qe===3&&(xe&62914560)===xe&&300>ft()-Vi?(je&2)===0&&Zn(e,0):nu|=a,Gn===xe&&(Gn=0)),Wt(e)}function nd(e,t){t===0&&(t=Fu()),e=Wa(e,t),e!==null&&(el(e,t),Wt(e))}function Km(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),nd(e,a)}function Jm(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(u(314))}n!==null&&n.delete(t),nd(e,a)}function km(e,t){return Ke(e,t)}var $i=null,Vn=null,fu=!1,Ii=!1,du=!1,Ba=0;function Wt(e){e!==Vn&&e.next===null&&(Vn===null?$i=Vn=e:Vn=Vn.next=e),Ii=!0,fu||(fu=!0,Fm())}function Hl(e,t){if(!du&&Ii){du=!0;do for(var a=!1,n=$i;n!==null;){if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var c=n.suspendedLanes,h=n.pingedLanes;i=(1<<31-Nt(42|e)+1)-1,i&=l&~(c&~h),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,od(n,i))}else i=xe,i=ni(n,n===Ue?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||In(n,i)||(a=!0,od(n,i));n=n.next}while(a);du=!1}}function Wm(){ld()}function ld(){Ii=fu=!1;var e=0;Ba!==0&&sp()&&(e=Ba);for(var t=ft(),a=null,n=$i;n!==null;){var l=n.next,i=id(n,t);i===0?(n.next=null,a===null?$i=l:a.next=l,l===null&&(Vn=a)):(a=n,(e!==0||(i&3)!==0)&&(Ii=!0)),n=l}tt!==0&&tt!==5||Hl(e),Ba!==0&&(Ba=0)}function id(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-Nt(i),h=1<<c,N=l[c];N===-1?((h&a)===0||(h&n)!==0)&&(l[c]=Nh(h,t)):N<=t&&(e.expiredLanes|=h),i&=~h}if(t=Ue,a=xe,a=ni(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&va(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||In(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&va(n),Ms(a)){case 2:case 8:a=fn;break;case 32:a=ga;break;case 268435456:a=Il;break;default:a=ga}return n=sd.bind(null,e),a=Ke(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&va(n),e.callbackPriority=2,e.callbackNode=null,2}function sd(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Pi()&&e.callbackNode!==a)return null;var n=xe;return n=ni(e,e===Ue?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Gf(e,n,t),id(e,ft()),e.callbackNode!=null&&e.callbackNode===a?sd.bind(null,e):null)}function od(e,t){if(Pi())return null;Gf(e,t,!0)}function Fm(){up(function(){(je&6)!==0?Ke($l,Wm):ld()})}function hu(){if(Ba===0){var e=An;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ba=e}return Ba}function ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oi(""+e)}function cd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Pm(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=ud((l[mt]||null).action),c=n.submitter;c&&(t=(t=c[mt]||null)?ud(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var h=new fi("action","action",null,n,l);e.push({event:h,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ba!==0){var N=c?cd(l,c):new FormData(l);Oo(a,{pending:!0,data:N,method:l.method,action:i},null,N)}}else typeof i=="function"&&(h.preventDefault(),N=c?cd(l,c):new FormData(l),Oo(a,{pending:!0,data:N,method:l.method,action:i},i,N))},currentTarget:l}]})}}for(var mu=0;mu<Ws.length;mu++){var pu=Ws[mu],$m=pu.toLowerCase(),Im=pu[0].toUpperCase()+pu.slice(1);Gt($m,"on"+Im)}Gt(Yc,"onAnimationEnd"),Gt(qc,"onAnimationIteration"),Gt(Gc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(pm,"onTransitionRun"),Gt(vm,"onTransitionStart"),Gt(gm,"onTransitionCancel"),Gt(Xc,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ep=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function rd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var c=n.length-1;0<=c;c--){var h=n[c],N=h.instance,E=h.currentTarget;if(h=h.listener,N!==i&&l.isPropagationStopped())break e;i=h,l.currentTarget=E;try{i(l)}catch(H){mi(H)}l.currentTarget=null,i=N}else for(c=0;c<n.length;c++){if(h=n[c],N=h.instance,E=h.currentTarget,h=h.listener,N!==i&&l.isPropagationStopped())break e;i=h,l.currentTarget=E;try{i(l)}catch(H){mi(H)}l.currentTarget=null,i=N}}}}function be(e,t){var a=t[js];a===void 0&&(a=t[js]=new Set);var n=e+"__bubble";a.has(n)||(fd(t,e,2,!1),a.add(n))}function vu(e,t,a){var n=0;t&&(n|=4),fd(a,e,n,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[es]){e[es]=!0,nc.forEach(function(a){a!=="selectionchange"&&(ep.has(a)||vu(a,!1,e),vu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,vu("selectionchange",!1,t))}}function fd(e,t,a,n){switch(qd(t)){case 2:var l=Cp;break;case 8:l=Ep;break;default:l=Ru}a=l.bind(null,t,a,e),l=void 0,!Bs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function yu(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var h=n.stateNode.containerInfo;if(h===l)break;if(c===4)for(c=n.return;c!==null;){var N=c.tag;if((N===3||N===4)&&c.stateNode.containerInfo===l)return;c=c.return}for(;h!==null;){if(c=hn(h),c===null)return;if(N=c.tag,N===5||N===6||N===26||N===27){n=i=c;continue e}h=h.parentNode}}n=n.return}pc(function(){var E=i,H=Hs(a),Y=[];e:{var A=Zc.get(e);if(A!==void 0){var R=fi,W=e;switch(e){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":R=Jh;break;case"focusin":W="focus",R=qs;break;case"focusout":W="blur",R=qs;break;case"beforeblur":case"afterblur":R=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Fh;break;case Yc:case qc:case Gc:R=Lh;break;case Xc:R=$h;break;case"scroll":case"scrollend":R=Oh;break;case"wheel":R=em;break;case"copy":case"cut":case"paste":R=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=xc;break;case"toggle":case"beforetoggle":R=am}var oe=(t&4)!==0,Oe=!oe&&(e==="scroll"||e==="scrollend"),M=oe?A!==null?A+"Capture":null:A;oe=[];for(var D=E,C;D!==null;){var B=D;if(C=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||C===null||M===null||(B=nl(D,M),B!=null&&oe.push(Bl(D,B,C))),Oe)break;D=D.return}0<oe.length&&(A=new R(A,W,null,a,H),Y.push({event:A,listeners:oe}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&a!==Os&&(W=a.relatedTarget||a.fromElement)&&(hn(W)||W[dn]))break e;if((R||A)&&(A=H.window===H?H:(A=H.ownerDocument)?A.defaultView||A.parentWindow:window,R?(W=a.relatedTarget||a.toElement,R=E,W=W?hn(W):null,W!==null&&(Oe=m(W),oe=W.tag,W!==Oe||oe!==5&&oe!==27&&oe!==6)&&(W=null)):(R=null,W=E),R!==W)){if(oe=yc,B="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(oe=xc,B="onPointerLeave",M="onPointerEnter",D="pointer"),Oe=R==null?A:al(R),C=W==null?A:al(W),A=new oe(B,D+"leave",R,a,H),A.target=Oe,A.relatedTarget=C,B=null,hn(H)===E&&(oe=new oe(M,D+"enter",W,a,H),oe.target=C,oe.relatedTarget=Oe,B=oe),Oe=B,R&&W)t:{for(oe=tp,M=R,D=W,C=0,B=M;B;B=oe(B))C++;B=0;for(var ne=D;ne;ne=oe(ne))B++;for(;0<C-B;)M=oe(M),C--;for(;0<B-C;)D=oe(D),B--;for(;C--;){if(M===D||D!==null&&M===D.alternate){oe=M;break t}M=oe(M),D=oe(D)}oe=null}else oe=null;R!==null&&dd(Y,A,R,oe,!1),W!==null&&Oe!==null&&dd(Y,Oe,W,oe,!0)}}e:{if(A=E?al(E):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var De=Cc;else if(Mc(A))if(Ec)De=dm;else{De=rm;var $=cm}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?E&&Rs(E.elementType)&&(De=Cc):De=fm;if(De&&(De=De(e,E))){jc(Y,De,a,H);break e}$&&$(e,A,E),e==="focusout"&&E&&A.type==="number"&&E.memoizedProps.value!=null&&Ts(A,"number",A.value)}switch($=E?al(E):window,e){case"focusin":(Mc($)||$.contentEditable==="true")&&(Nn=$,Ks=E,fl=null);break;case"focusout":fl=Ks=Nn=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,_c(Y,a,H);break;case"selectionchange":if(mm)break;case"keydown":case"keyup":_c(Y,a,H)}var ve;if(Xs)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Sn?zc(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Sc&&a.locale!=="ko"&&(Sn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Sn&&(ve=vc()):(xa=H,_s="value"in xa?xa.value:xa.textContent,Sn=!0)),$=ts(E,Se),0<$.length&&(Se=new bc(Se,e,null,a,H),Y.push({event:Se,listeners:$}),ve?Se.data=ve:(ve=Dc(a),ve!==null&&(Se.data=ve)))),(ve=lm?im(e,a):sm(e,a))&&(Se=ts(E,"onBeforeInput"),0<Se.length&&($=new bc("onBeforeInput","beforeinput",null,a,H),Y.push({event:$,listeners:Se}),$.data=ve)),Pm(Y,e,E,a,H)}rd(Y,t)})}function Bl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ts(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=nl(e,a),l!=null&&n.unshift(Bl(e,l,i)),l=nl(e,t),l!=null&&n.push(Bl(e,l,i))),e.tag===3)return n;e=e.return}return[]}function tp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dd(e,t,a,n,l){for(var i=t._reactName,c=[];a!==null&&a!==n;){var h=a,N=h.alternate,E=h.stateNode;if(h=h.tag,N!==null&&N===n)break;h!==5&&h!==26&&h!==27||E===null||(N=E,l?(E=nl(a,i),E!=null&&c.unshift(Bl(a,E,N))):l||(E=nl(a,i),E!=null&&c.push(Bl(a,E,N)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var ap=/\r\n?/g,np=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(ap,`
`).replace(np,"")}function md(e,t){return t=hd(t),hd(e)===t}function Re(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||yn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&yn(e,""+n);break;case"className":ii(e,"class",n);break;case"tabIndex":ii(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,a,n);break;case"style":hc(e,n,i);break;case"data":if(t!=="object"){ii(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=oi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Re(e,t,"name",l.name,l,null),Re(e,t,"formEncType",l.formEncType,l,null),Re(e,t,"formMethod",l.formMethod,l,null),Re(e,t,"formTarget",l.formTarget,l,null)):(Re(e,t,"encType",l.encType,l,null),Re(e,t,"method",l.method,l,null),Re(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=oi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=It);break;case"onScroll":n!=null&&be("scroll",e);break;case"onScrollEnd":n!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=oi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":be("beforetoggle",e),be("toggle",e),li(e,"popover",n);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":li(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Th.get(a)||a,li(e,a,n))}}function bu(e,t,a,n,l,i){switch(a){case"style":hc(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof n=="string"?yn(e,n):(typeof n=="number"||typeof n=="bigint")&&yn(e,""+n);break;case"onScroll":n!=null&&be("scroll",e);break;case"onScrollEnd":n!=null&&be("scrollend",e);break;case"onClick":n!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[mt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):li(e,a,n)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Re(e,t,i,c,a,null)}}l&&Re(e,t,"srcSet",a.srcSet,a,null),n&&Re(e,t,"src",a.src,a,null);return;case"input":be("invalid",e);var h=i=c=l=null,N=null,E=null;for(n in a)if(a.hasOwnProperty(n)){var H=a[n];if(H!=null)switch(n){case"name":l=H;break;case"type":c=H;break;case"checked":N=H;break;case"defaultChecked":E=H;break;case"value":i=H;break;case"defaultValue":h=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(u(137,t));break;default:Re(e,t,n,H,a,null)}}cc(e,i,h,N,E,c,l,!1);return;case"select":be("invalid",e),n=c=i=null;for(l in a)if(a.hasOwnProperty(l)&&(h=a[l],h!=null))switch(l){case"value":i=h;break;case"defaultValue":c=h;break;case"multiple":n=h;default:Re(e,t,l,h,a,null)}t=i,a=c,e.multiple=!!n,t!=null?gn(e,!!n,t,!1):a!=null&&gn(e,!!n,a,!0);return;case"textarea":be("invalid",e),i=l=n=null;for(c in a)if(a.hasOwnProperty(c)&&(h=a[c],h!=null))switch(c){case"value":n=h;break;case"defaultValue":l=h;break;case"children":i=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:Re(e,t,c,h,a,null)}fc(e,n,l,i);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(n=a[N],n!=null))switch(N){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Re(e,t,N,n,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(n=0;n<Ul.length;n++)be(Ul[n],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in a)if(a.hasOwnProperty(E)&&(n=a[E],n!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Re(e,t,E,n,a,null)}return;default:if(Rs(t)){for(H in a)a.hasOwnProperty(H)&&(n=a[H],n!==void 0&&bu(e,t,H,n,a,void 0));return}}for(h in a)a.hasOwnProperty(h)&&(n=a[h],n!=null&&Re(e,t,h,n,a,null))}function lp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,c=null,h=null,N=null,E=null,H=null;for(R in a){var Y=a[R];if(a.hasOwnProperty(R)&&Y!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":N=Y;default:n.hasOwnProperty(R)||Re(e,t,R,null,n,Y)}}for(var A in n){var R=n[A];if(Y=a[A],n.hasOwnProperty(A)&&(R!=null||Y!=null))switch(A){case"type":i=R;break;case"name":l=R;break;case"checked":E=R;break;case"defaultChecked":H=R;break;case"value":c=R;break;case"defaultValue":h=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:R!==Y&&Re(e,t,A,R,n,Y)}}As(e,c,h,N,E,H,i,l);return;case"select":R=c=h=A=null;for(i in a)if(N=a[i],a.hasOwnProperty(i)&&N!=null)switch(i){case"value":break;case"multiple":R=N;default:n.hasOwnProperty(i)||Re(e,t,i,null,n,N)}for(l in n)if(i=n[l],N=a[l],n.hasOwnProperty(l)&&(i!=null||N!=null))switch(l){case"value":A=i;break;case"defaultValue":h=i;break;case"multiple":c=i;default:i!==N&&Re(e,t,l,i,n,N)}t=h,a=c,n=R,A!=null?gn(e,!!a,A,!1):!!n!=!!a&&(t!=null?gn(e,!!a,t,!0):gn(e,!!a,a?[]:"",!1));return;case"textarea":R=A=null;for(h in a)if(l=a[h],a.hasOwnProperty(h)&&l!=null&&!n.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:Re(e,t,h,null,n,l)}for(c in n)if(l=n[c],i=a[c],n.hasOwnProperty(c)&&(l!=null||i!=null))switch(c){case"value":A=l;break;case"defaultValue":R=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(u(91));break;default:l!==i&&Re(e,t,c,l,n,i)}rc(e,A,R);return;case"option":for(var W in a)if(A=a[W],a.hasOwnProperty(W)&&A!=null&&!n.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Re(e,t,W,null,n,A)}for(N in n)if(A=n[N],R=a[N],n.hasOwnProperty(N)&&A!==R&&(A!=null||R!=null))switch(N){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Re(e,t,N,A,n,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)A=a[oe],a.hasOwnProperty(oe)&&A!=null&&!n.hasOwnProperty(oe)&&Re(e,t,oe,null,n,A);for(E in n)if(A=n[E],R=a[E],n.hasOwnProperty(E)&&A!==R&&(A!=null||R!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(u(137,t));break;default:Re(e,t,E,A,n,R)}return;default:if(Rs(t)){for(var Oe in a)A=a[Oe],a.hasOwnProperty(Oe)&&A!==void 0&&!n.hasOwnProperty(Oe)&&bu(e,t,Oe,void 0,n,A);for(H in n)A=n[H],R=a[H],!n.hasOwnProperty(H)||A===R||A===void 0&&R===void 0||bu(e,t,H,A,n,R);return}}for(var M in a)A=a[M],a.hasOwnProperty(M)&&A!=null&&!n.hasOwnProperty(M)&&Re(e,t,M,null,n,A);for(Y in n)A=n[Y],R=a[Y],!n.hasOwnProperty(Y)||A===R||A==null&&R==null||Re(e,t,Y,A,n,R)}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ip(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,c=l.initiatorType,h=l.duration;if(i&&h&&pd(c)){for(c=0,h=l.responseEnd,n+=1;n<a.length;n++){var N=a[n],E=N.startTime;if(E>h)break;var H=N.transferSize,Y=N.initiatorType;H&&pd(Y)&&(N=N.responseEnd,c+=H*(N<h?1:(h-E)/(N-E)))}if(--n,t+=8*(i+c)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,Su=null;function as(e){return e.nodeType===9?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function sp(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var yd=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(cp)}:yd;function cp(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function xd(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Wn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")_l(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,_l(a);for(var i=a.firstChild;i;){var c=i.nextSibling,h=i.nodeName;i[tl]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&_l(e.ownerDocument.body);a=l}while(a);Wn(t)}function Sd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zu(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function rp(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function fp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function Nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Du(e){return e.data==="$?"||e.data==="$~"}function Mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ju=null;function wd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Yt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Dd(e,t,a){switch(t=as(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function _l(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cs(e)}var qt=new Map,Md=new Set;function ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=G.d;G.d={f:hp,r:mp,D:pp,C:vp,L:gp,m:yp,X:xp,S:bp,M:Sp};function hp(){var e=pa.f(),t=ki();return e||t}function mp(e){var t=mn(e);t!==null&&t.tag===5&&t.type==="form"?Xr(t):pa.r(e)}var Kn=typeof document>"u"?null:document;function jd(e,t,a){var n=Kn;if(n&&typeof t=="string"&&t){var l=Rt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Md.has(l)||(Md.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),ct(t,"link",e),at(t),n.head.appendChild(t)))}}function pp(e){pa.D(e),jd("dns-prefetch",e,null)}function vp(e,t){pa.C(e,t),jd("preconnect",e,t)}function gp(e,t,a){pa.L(e,t,a);var n=Kn;if(n&&e&&t){var l='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Rt(a.imageSizes)+'"]')):l+='[href="'+Rt(e)+'"]';var i=l;switch(t){case"style":i=Jn(e);break;case"script":i=kn(e)}qt.has(i)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),qt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Ll(i))||t==="script"&&n.querySelector(Yl(i))||(t=n.createElement("link"),ct(t,"link",e),at(t),n.head.appendChild(t)))}}function yp(e,t){pa.m(e,t);var a=Kn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Rt(n)+'"][href="'+Rt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=kn(e)}if(!qt.has(i)&&(e=x({rel:"modulepreload",href:e},t),qt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(i)))return}n=a.createElement("link"),ct(n,"link",e),at(n),a.head.appendChild(n)}}}function bp(e,t,a){pa.S(e,t,a);var n=Kn;if(n&&e){var l=pn(n).hoistableStyles,i=Jn(e);t=t||"default";var c=l.get(i);if(!c){var h={loading:0,preload:null};if(c=n.querySelector(Ll(i)))h.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=qt.get(i))&&Cu(e,a);var N=c=n.createElement("link");at(N),ct(N,"link",e),N._p=new Promise(function(E,H){N.onload=E,N.onerror=H}),N.addEventListener("load",function(){h.loading|=1}),N.addEventListener("error",function(){h.loading|=2}),h.loading|=4,ls(c,t,n)}c={type:"stylesheet",instance:c,count:1,state:h},l.set(i,c)}}}function xp(e,t){pa.X(e,t);var a=Kn;if(a&&e){var n=pn(a).hoistableScripts,l=kn(e),i=n.get(l);i||(i=a.querySelector(Yl(l)),i||(e=x({src:e,async:!0},t),(t=qt.get(l))&&Eu(e,t),i=a.createElement("script"),at(i),ct(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Sp(e,t){pa.M(e,t);var a=Kn;if(a&&e){var n=pn(a).hoistableScripts,l=kn(e),i=n.get(l);i||(i=a.querySelector(Yl(l)),i||(e=x({src:e,async:!0,type:"module"},t),(t=qt.get(l))&&Eu(e,t),i=a.createElement("script"),at(i),ct(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Cd(e,t,a,n){var l=(l=et.current)?ns(l):null;if(!l)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Jn(a.href),a=pn(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Jn(a.href);var i=pn(l).hoistableStyles,c=i.get(e);if(c||(l=l.ownerDocument||l,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=l.querySelector(Ll(e)))&&!i._p&&(c.instance=i,c.state.loading=5),qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qt.set(e,a),i||Np(l,e,a,c.state))),t&&n===null)throw Error(u(528,""));return c}if(t&&n!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kn(a),a=pn(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Jn(e){return'href="'+Rt(e)+'"'}function Ll(e){return'link[rel="stylesheet"]['+e+"]"}function Ed(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Np(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ct(t,"link",a),at(t),e.head.appendChild(t))}function kn(e){return'[src="'+Rt(e)+'"]'}function Yl(e){return"script[async]"+e}function Ad(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(n)return t.instance=n,at(n),n;var l=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),at(n),ct(n,"style",l),ls(n,a.precedence,e),t.instance=n;case"stylesheet":l=Jn(a.href);var i=e.querySelector(Ll(l));if(i)return t.state.loading|=4,t.instance=i,at(i),i;n=Ed(a),(l=qt.get(l))&&Cu(n,l),i=(e.ownerDocument||e).createElement("link"),at(i);var c=i;return c._p=new Promise(function(h,N){c.onload=h,c.onerror=N}),ct(i,"link",n),t.state.loading|=4,ls(i,a.precedence,e),t.instance=i;case"script":return i=kn(a.src),(l=e.querySelector(Yl(i)))?(t.instance=l,at(l),l):(n=a,(l=qt.get(i))&&(n=x({},a),Eu(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),at(l),ct(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ls(n,a.precedence,e));return t.instance}function ls(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,c=0;c<n.length;c++){var h=n[c];if(h.dataset.precedence===t)i=h;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var is=null;function Td(e,t,a){if(is===null){var n=new Map,l=is=new Map;l.set(a,n)}else l=is,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[tl]||i[it]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var h=n.get(c);h?h.push(i):n.set(c,[i])}}return n}function Rd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Od(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zp(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Jn(n.href),i=t.querySelector(Ll(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ss.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,at(i);return}i=t.ownerDocument||t,n=Ed(n),(l=qt.get(l))&&Cu(n,l),i=i.createElement("link"),at(i);var c=i;c._p=new Promise(function(h,N){c.onload=h,c.onerror=N}),ct(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ss.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Au=0;function Dp(e,t){return e.stylesheets&&e.count===0&&us(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&us(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*ip());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&us(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function ss(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)us(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var os=null;function us(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,os=new Map,t.forEach(Mp,e),os=null,ss.call(e))}function Mp(e,t){if(!(t.state.loading&4)){var a=os.get(e);if(a)var n=a.get(null);else{a=new Map,os.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var c=l[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),n=c)}n&&a.set(null,n)}l=t.instance,c=l.getAttribute("data-precedence"),i=a.get(c)||n,i===n&&a.set(null,l),a.set(c,l),this.count++,n=ss.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ql={$$typeof:K,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function jp(e,t,a,n,l,i,c,h,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.hiddenUpdates=zs(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Hd(e,t,a,n,l,i,c,h,N,E,H,Y){return e=new jp(e,t,a,c,N,E,H,Y,h),t=1,i===!0&&(t|=24),i=zt(3,null,null,t),e.current=i,i.stateNode=e,t=uo(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},ho(i),e}function Ud(e){return e?(e=Dn,e):Dn}function Bd(e,t,a,n,l,i){l=Ud(l),n.context===null?n.context=l:n.pendingContext=l,n=Ma(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=ja(e,n,t),a!==null&&(xt(a,e,t),yl(a,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Tu(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Ld(e){if(e.tag===13||e.tag===31){var t=Wa(e,67108864);t!==null&&xt(t,e,67108864),Tu(e,67108864)}}function Yd(e){if(e.tag===13||e.tag===31){var t=Et();t=Ds(t);var a=Wa(e,t);a!==null&&xt(a,e,t),Tu(e,t)}}var cs=!0;function Cp(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=2,Ru(e,t,a,n)}finally{G.p=i,O.T=l}}function Ep(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=8,Ru(e,t,a,n)}finally{G.p=i,O.T=l}}function Ru(e,t,a,n){if(cs){var l=Ou(n);if(l===null)yu(e,t,n,rs,a),Gd(e,n);else if(Tp(l,e,t,a,n))n.stopPropagation();else if(Gd(e,n),t&4&&-1<Ap.indexOf(e)){for(;l!==null;){var i=mn(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Qa(i.pendingLanes);if(c!==0){var h=i;for(h.pendingLanes|=2,h.entangledLanes|=2;c;){var N=1<<31-Nt(c);h.entanglements[1]|=N,c&=~N}Wt(i),(je&6)===0&&(Ki=ft()+500,Hl(0))}}break;case 31:case 13:h=Wa(i,2),h!==null&&xt(h,i,2),ki(),Tu(i,2)}if(i=Ou(n),i===null&&yu(e,t,n,rs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else yu(e,t,n,null,a)}}function Ou(e){return e=Hs(e),Hu(e)}var rs=null;function Hu(e){if(rs=null,e=hn(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=p(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rs=e,null}function qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case $l:return 2;case fn:return 8;case ga:case Ss:return 32;case Il:return 268435456;default:return 32}default:return 32}}var Uu=!1,La=null,Ya=null,qa=null,Gl=new Map,Xl=new Map,Ga=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gd(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function Zl(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=mn(t),t!==null&&Ld(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Tp(e,t,a,n,l){switch(t){case"focusin":return La=Zl(La,e,t,a,n,l),!0;case"dragenter":return Ya=Zl(Ya,e,t,a,n,l),!0;case"mouseover":return qa=Zl(qa,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Gl.set(i,Zl(Gl.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Xl.set(i,Zl(Xl.get(i)||null,e,t,a,n,l)),!0}return!1}function Xd(e){var t=hn(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=p(a),t!==null){e.blockedOn=t,tc(e.priority,function(){Yd(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,tc(e.priority,function(){Yd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ou(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Os=n,a.target.dispatchEvent(n),Os=null}else return t=mn(a),t!==null&&Ld(t),e.blockedOn=a,!1;t.shift()}return!0}function Zd(e,t,a){fs(e)&&a.delete(t)}function Rp(){Uu=!1,La!==null&&fs(La)&&(La=null),Ya!==null&&fs(Ya)&&(Ya=null),qa!==null&&fs(qa)&&(qa=null),Gl.forEach(Zd),Xl.forEach(Zd)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Rp)))}var hs=null;function Qd(e){hs!==e&&(hs=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){hs===e&&(hs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Hu(n||a)===null)continue;break}var i=mn(a);i!==null&&(e.splice(t,3),t-=3,Oo(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Wn(e){function t(N){return ds(N,e)}La!==null&&ds(La,e),Ya!==null&&ds(Ya,e),qa!==null&&ds(qa,e),Gl.forEach(t),Xl.forEach(t);for(var a=0;a<Ga.length;a++){var n=Ga[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ga.length&&(a=Ga[0],a.blockedOn===null);)Xd(a),a.blockedOn===null&&Ga.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],c=l[mt]||null;if(typeof i=="function")c||Qd(a);else if(c){var h=null;if(i&&i.hasAttribute("formAction")){if(l=i,c=i[mt]||null)h=c.formAction;else if(Hu(l)!==null)continue}else h=c.action;typeof h=="function"?a[n+1]=h:(a.splice(n,3),n-=3),Qd(a)}}}function Vd(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return l=c})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Bu(e){this._internalRoot=e}ms.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,n=Et();Bd(a,n,e,t,null,null)},ms.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bd(e.current,2,null,e,null,null),ki(),t[dn]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=ec();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ga.length&&t!==0&&t<Ga[a].priority;a++);Ga.splice(a,0,e),a===0&&Xd(e)}};var Kd=s.version;if(Kd!=="19.2.0")throw Error(u(527,Kd,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=g(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Op={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{Za=ps.inject(Op),dt=ps}catch{}}return Vl.createRoot=function(e,t){if(!d(e))throw Error(u(299));var a=!1,n="",l=$r,i=Ir,c=ef;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Hd(e,1,!1,null,null,a,n,null,l,i,c,Vd),e[dn]=t.current,gu(e),new Bu(t)},Vl.hydrateRoot=function(e,t,a){if(!d(e))throw Error(u(299));var n=!1,l="",i=$r,c=Ir,h=ef,N=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(h=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),t=Hd(e,1,!0,t,a??null,n,l,N,i,c,h,Vd),t.context=Ud(null),a=t.current,n=Et(),n=Ds(n),l=Ma(n),l.callback=null,ja(a,l,n),a=n,t.current.lanes=a,el(t,a),Wt(t),e[dn]=t.current,gu(e),new ms(t)},Vl.version="19.2.0",Vl}var lh;function f0(){if(lh)return Lu.exports;lh=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(s){console.error(s)}}return f(),Lu.exports=r0(),Lu.exports}var d0=f0();const Gu={toneMappingExposure:1,antialias:!0,pixelRatio:Math.min(window.devicePixelRatio,1.5)};function h0(f){const s=new Qp({antialias:Gu.antialias});return s.setSize(f.clientWidth,f.clientHeight),s.setPixelRatio(Gu.pixelRatio),s.outputEncoding=void 0,s.toneMapping=Vp,s.toneMappingExposure=Gu.toneMappingExposure,s.shadowMap.enabled=!0,s.shadowMap.type=Kp,f.appendChild(s.domElement),s}function m0(){const f=new Ju(500,32,32),s=new le(.3,.7,.2).normalize(),r=new Fn({uniforms:{time:{value:0},sunPosition:{value:s},sunColor:{value:new Ft(1,.95,.85)},terrainComposition:{value:0}},vertexShader:`
      varying vec3 vWorldPosition;
      varying vec3 vDirection;
      
      void main() {
        vec4 worldPosition = modelMatrix * vec4(position, 1.0);
        vWorldPosition = worldPosition.xyz;
        vDirection = normalize(worldPosition.xyz);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform float time;
      uniform vec3 sunPosition;
      uniform vec3 sunColor;
      uniform float terrainComposition;
      
      varying vec3 vWorldPosition;
      varying vec3 vDirection;
      
      // Noise functions for clouds
      float hash(vec2 p) {
        return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);
      }
      
      float smoothNoise(vec2 p) {
        vec2 i = floor(p);
        vec2 f = fract(p);
        f = f * f * (3.0 - 2.0 * f);
        
        float a = hash(i);
        float b = hash(i + vec2(1.0, 0.0));
        float c = hash(i + vec2(0.0, 1.0));
        float d = hash(i + vec2(1.0, 1.0));
        
        return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
      }
      
      float fbm(vec2 p) {
        float value = 0.0;
        float amplitude = 0.5;
        float frequency = 1.0;
        
        for (int i = 0; i < 4; i++) {
          value += smoothNoise(p * frequency) * amplitude;
          frequency *= 2.0;
          amplitude *= 0.5;
        }
        
        return value;
      }
      
      void main() {
        vec3 dir = normalize(vDirection);
        
        // Original rich blue sky colors
        vec3 baseHorizonColor = vec3(0.7, 0.85, 0.95); // Rich light blue horizon
        vec3 baseMidColor = vec3(0.5, 0.75, 0.9); // Rich medium blue mid
        vec3 baseZenithColor = vec3(0.3, 0.6, 0.85); // Rich deep blue zenith
        vec3 blueGreenHorizonColor = vec3(0.65, 0.88, 0.92); // Slightly green-tinted horizon
        vec3 blueGreenMidColor = vec3(0.45, 0.78, 0.88); // Slightly green-tinted mid
        vec3 blueGreenZenithColor = vec3(0.25, 0.65, 0.82); // Slightly green-tinted zenith
        
        // Blend between base (composition = 0, no grass) and blue-green (composition = 1, all grass)
        // Use smoothstep for beautiful, smooth transitions
        float grassBlend = smoothstep(0.0, 1.0, terrainComposition);
        
        // Mix colors based on grass ratio - rich, vibrant blending
        vec3 horizonColor = mix(baseHorizonColor, blueGreenHorizonColor, grassBlend * 0.85);
        vec3 midColor = mix(baseMidColor, blueGreenMidColor, grassBlend * 0.85);
        vec3 zenithColor = mix(baseZenithColor, blueGreenZenithColor, grassBlend * 0.85);
        
        // Beautiful, smooth vertical gradient with high contrast
        float t = smoothstep(-0.3, 0.7, dir.y);
        vec3 skyColor = mix(horizonColor, midColor, smoothstep(0.0, 0.5, t));
        skyColor = mix(skyColor, zenithColor, smoothstep(0.3, 1.0, t));
        
        // Procedural clouds
        vec2 cloudUV = dir.xz * 0.3 + vec2(time * 0.02, 0.0);
        float clouds = fbm(cloudUV);
        clouds = smoothstep(0.3, 0.7, clouds);
        clouds *= smoothstep(0.0, 0.4, dir.y); // Clouds mainly in upper sky
        
        // Cloud color with albedo variation
        vec3 cloudColor = vec3(0.95, 0.95, 0.98); // White clouds
        float cloudAlbedo = 0.6 + clouds * 0.4; // Varying cloud brightness
        skyColor = mix(skyColor, cloudColor * cloudAlbedo, clouds * 0.4);
        
        // Sun disk - bright, vibrant, and prominent
        vec3 adjustedSunColor = vec3(1.0, 0.92, 0.75); // Rich, warm sun color
        
        float sunDot = dot(dir, sunPosition);
        float sunDisk = smoothstep(0.998, 1.0, sunDot);
        float sunGlow = pow(max(sunDot, 0.0), 8.0);
        float sunHalo = pow(max(sunDot, 0.0), 3.0);
        
        // Sun with rich shine and vibrant glow
        skyColor += adjustedSunColor * sunDisk * 2.2; // Bright, vibrant sun disk
        skyColor += adjustedSunColor * sunGlow * 0.5; // Rich sun glow
        skyColor += adjustedSunColor * sunHalo * 0.18; // Vibrant sun halo
        
        // Atmospheric scattering at horizon
        float horizonGlow = pow(max(1.0 - abs(dir.y), 0.0), 2.0);
        
        // Subtle time-based variation (subtle breathing effect)
        float timeVariation = sin(time * 0.1) * 0.02 + 1.0;
        skyColor *= timeVariation;
        
        // Preserve rich, vibrant colors - minimal desaturation for depth
        float gray = dot(skyColor, vec3(0.299, 0.587, 0.114));
        skyColor = mix(skyColor, vec3(gray), 0.02); // Very minimal desaturation to preserve richness
        
        // Subtle green tint to the sky - slightly more pronounced
        skyColor.g += 0.025; // Slightly stronger green boost
        
        gl_FragColor = vec4(skyColor, 1.0);
      }
    `,side:fh});return new lt(f,r)}const kl={width:400,depth:400,segments:200,noiseScale:.02,amplitude:18};function p0({waterHeight:f=0,lightDir:s=new le(.4,1,.3).normalize(),time:r=0}){return new Fn({uniforms:{waterHeight:{value:f},lightDir:{value:s},time:{value:r},contrast:{value:1.18}},vertexShader:`
      varying vec2 vUv;
      varying float vHeight;
      varying vec3 vNormal;
      varying vec3 vWorldPos;
      varying float vDist;
      varying vec3 vViewPosition;

      void main(){
        vUv = uv;
        vHeight = position.y;
        vNormal = normalize(normalMatrix * normal);
        vec4 worldPos = modelMatrix * vec4(position, 1.0);
        vWorldPos = worldPos.xyz;
        vDist = length(worldPos.xz);
        vViewPosition = (modelViewMatrix * vec4(position, 1.0)).xyz;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform float waterHeight;
      uniform vec3 lightDir;
      uniform float time;
      uniform float contrast;

      varying vec2 vUv;
      varying float vHeight;
      varying vec3 vNormal;
      varying vec3 vWorldPos;
      varying float vDist;
      varying vec3 vViewPosition;

      // Soft noise function for organic variation
      float hash(vec2 p) {
        return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);
      }

      float smoothNoise(vec2 p) {
        vec2 i = floor(p);
        vec2 f = fract(p);
        f = f * f * (3.0 - 2.0 * f);
        
        float a = hash(i);
        float b = hash(i + vec2(1.0, 0.0));
        float c = hash(i + vec2(0.0, 1.0));
        float d = hash(i + vec2(1.0, 1.0));
        
        return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
      }

      float organicNoise(vec2 p) {
        float value = 0.0;
        float amplitude = 0.5;
        float frequency = 1.0;
        
        for (int i = 0; i < 3; i++) {
          value += smoothNoise(p * frequency) * amplitude;
          frequency *= 2.0;
          amplitude *= 0.5;
        }
        
        return value;
      }

      // Cel-shading function - creates hard bands of light/shadow for cartoon look
      // Using step functions for hard edges (more reliable than if statements)
      float celShade(float ndl) {
        // Clamp input to valid range
        ndl = clamp(ndl, 0.0, 1.0);
        
        // Create distinct bands using step functions for hard edges
        // Deep shadow: 0.0-0.2 -> 0.3
        // Mid shadow: 0.2-0.5 -> 0.6
        // Light: 0.5-0.8 -> 0.9
        // Highlight: 0.8-1.0 -> 1.0
        float s1 = step(0.2, ndl);  // 1.0 if ndl >= 0.2, else 0.0
        float s2 = step(0.5, ndl);  // 1.0 if ndl >= 0.5, else 0.0
        float s3 = step(0.8, ndl);  // 1.0 if ndl >= 0.8, else 0.0
        
        // Build result from bands
        float r = 0.3;
        r = mix(r, 0.6, s1);
        r = mix(r, 0.9, s2);
        r = mix(r, 1.0, s3);
        return clamp(r, 0.0, 1.0);
      }
      
      // Legacy band function for compatibility
      float band(float v) {
        return celShade(v);
      }

      void main(){
        // Color palette - yellowish desert sand, more prominent near shoreline
        // Low areas (near/under water): muted yellowish desert sand
        vec3 lowColor = vec3(0.82, 0.76, 0.60); // Muted yellowish desert sand
        // Shoreline area: muted warm golden sand (more prominent, higher up)
        vec3 shorelineColor = vec3(0.80, 0.74, 0.62); // Muted warm golden sand
        // Mid-low areas: transition from sand
        vec3 midLowColor = vec3(0.72, 0.70, 0.62); // Muted light sandy earth
        // Mid areas: earth tones transitioning to green
        vec3 midColor = vec3(0.50, 0.65, 0.50); // Yellow-green transition
        // High areas: darker, richer green
        vec3 highColor = vec3(0.20, 0.40, 0.25); // Darker green (darker than before)
        
        // Contour rings - circular patterns around shoreline
        float distFromCenter = length(vWorldPos.xz);
        
        // Create contour rings with organic variation
        float contourSpacing = 8.0;
        float noise = organicNoise(vWorldPos.xz * 0.05 + vec2(time * 0.01, 0.0));
        float spacing = contourSpacing * (0.7 + noise * 0.6);
        
        // Circular contour rings
        float contour = mod(distFromCenter, spacing);
        float ring = step(spacing * 0.85, contour); // Harsh step function for sharp rings
        
        // Height-based contour rings
        float heightContour = mod(vHeight - waterHeight, spacing * 0.6);
        float heightRing = step(spacing * 0.6 * 0.85, heightContour);
        
        // Combine rings for layered effect
        float combinedRing = min(ring, heightRing);
        
        // Harsh division at shoreline - less gradient, more contour
        float shorelineDivision = step(waterHeight, vHeight);
        float shorelineContour = mod(vHeight - waterHeight, 3.0);
        float shorelineRing = step(2.5, shorelineContour);
        
        // Apply contour-based color transitions
        // Sand/shoreline zone
        vec3 baseColor = mix(lowColor, shorelineColor, shorelineDivision * 0.3);
        // Light green transition - brought down closer to shoreline
        baseColor = mix(baseColor, midColor, step(waterHeight + 2.0, vHeight) * step(vHeight, waterHeight + 4.0) * 0.5);
        // Dark green grass - expanded to start lower
        baseColor = mix(baseColor, highColor, step(waterHeight + 4.0, vHeight));
        
        // Apply contour rings - darker rings for definition
        baseColor = mix(baseColor, baseColor * 0.7, combinedRing * 0.4);
        baseColor = mix(baseColor, baseColor * 0.8, shorelineRing * 0.3);
        
        // Grainy texture variation - more pronounced for desert feel
        float grain = organicNoise(vWorldPos.xz * 0.15 + vec2(time * 0.01, 0.0));
        grain = grain * 0.08 + 0.92; // Subtle grainy variation
        
        // Texture variation with sin waves (from Background3D.jsx)
        float tx = sin(vWorldPos.x * 0.2 + vWorldPos.z * 0.15) * 0.025;
        float ty = sin(vWorldPos.x * 0.08 - vWorldPos.z * 0.22) * 0.02;
        baseColor *= (1.0 + tx + ty) * grain;
        
        // Cel-shaded lighting for stylized look
        vec3 normal = normalize(vNormal);
        vec3 light = normalize(lightDir);
        float ndl = max(dot(normal, light), 0.0);
        float ndlNormalized = ndl * 0.5 + 0.5; // Normalize to 0-1 range
        float diff = celShade(ndlNormalized);
        vec3 litColor = baseColor * diff * contrast;
        
        // Barely perceptible ambient occlusion approximation
        float aoFactor = 1.0 - (1.0 - abs(dot(normal, vec3(0.0, 1.0, 0.0)))) * 0.005;
        litColor *= aoFactor;
        
        // Almost imperceptible distance-based depth shading
        float depthFactor = 1.0 - smoothstep(100.0, 400.0, vDist) * 0.003;
        litColor *= depthFactor;
        
        // Barely perceptible rim lighting for cel-shading
        vec3 viewDir = normalize(-vViewPosition);
        float rimDot = max(dot(normal, viewDir), 0.0);
        float rim = 1.0 - rimDot;
        rim = smoothstep(0.5, 0.9, rim);
        litColor += rim * 0.005 * baseColor; // Almost imperceptible rim
        
        // Barely perceptible upward-facing highlight
        float upHighlight = max(dot(normal, vec3(0.0, 1.0, 0.0)), 0.0);
        upHighlight = smoothstep(0.7, 1.0, upHighlight);
        litColor += upHighlight * 0.003; // Almost imperceptible highlight
        
        // Ensure color is valid
        litColor = clamp(litColor, vec3(0.0), vec3(1.0));
        
        // Preserve vibrant colors - minimal desaturation
        float gray = dot(litColor, vec3(0.299, 0.587, 0.114));
        litColor = mix(litColor, vec3(gray), 0.05);
        
        gl_FragColor = vec4(litColor, 1.0);
      }
    `})}class ku{constructor(s=42){if(this.constructor===ku)throw new Error("NoiseGenerator is an abstract class and cannot be instantiated directly");this.seed=s,this.initialized=!1}init(s){this.seed=s??this.seed,this.initialized=!0}noise2D(s,r){throw new Error("noise2D must be implemented by subclass")}noise2DOctaves(s,r,u={}){const{octaves:d=4,persistence:m=.5,frequency:p=1}=u;let y=0,v=1,g=p,w=0;for(let x=0;x<d;x++)y+=this.noise2D(s*g,r*g)*v,w+=v,v*=m,g*=2;return y/w}fade(s){return s*s*s*(s*(s*6-15)+10)}lerp(s,r,u){return r+s*(u-r)}}function v0(f){return function(){f|=0,f=f+1831565813|0;let s=Math.imul(f^f>>>15,1|f);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}}class g0 extends ku{constructor(s=42){super(s),this.permutation=[],this.p=[]}init(s){if(this.initialized&&this.seed===s)return;super.init(s);const r=v0(s);this.permutation=new Array(256).fill(0).map((u,d)=>d);for(let u=255;u>0;u--){const d=Math.floor(r()*(u+1));[this.permutation[u],this.permutation[d]]=[this.permutation[d],this.permutation[u]]}this.p=[...this.permutation,...this.permutation]}grad(s,r,u){const d=s&3,m=d<2?r:u,p=d<2?u:r;return((d&1)===0?m:-m)+((d&2)===0?p:-p)}noise2D(s,r){this.init(this.seed);const u=Math.floor(s)&255,d=Math.floor(r)&255,m=s-Math.floor(s),p=r-Math.floor(r),y=this.fade(m),v=this.fade(p),g=this.p[this.p[u]+d],w=this.p[this.p[u]+d+1],x=this.p[this.p[u+1]+d],S=this.p[this.p[u+1]+d+1],b=this.lerp(y,this.grad(g,m,p),this.grad(x,m-1,p)),z=this.lerp(y,this.grad(w,m,p-1),this.grad(S,m-1,p-1));return(this.lerp(v,b,z)+1)/2}}const rt=new g0(42);function y0(f){return function(){f|=0,f=f+1831565813|0;let s=Math.imul(f^f>>>15,1|f);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}}const mh={currentSeed:null,points:[],random:null,init(f=1,s=9){if(this.currentSeed===f&&this.points.length>0)return;this.currentSeed=f,this.random=y0(f),this.points=[];const r=Math.ceil(Math.sqrt(s)),u=100;for(let d=0;d<s;d++){const m=d%r*u,p=Math.floor(d/r)*u,y=(this.random()-.5)*u*.8,v=(this.random()-.5)*u*.8;this.points.push({x:m+y,y:p+v})}},f1(f,s){let r=1/0;for(const u of this.points){const d=f-u.x,m=s-u.y,p=Math.sqrt(d*d+m*m);r=Math.min(r,p)}return r},f2(f,s){let r=[];for(const u of this.points){const d=f-u.x,m=s-u.y,p=Math.sqrt(d*d+m*m);r.push(p)}return r.sort((u,d)=>u-d),r.length>1?r[1]:r[0]},f2MinusF1(f,s){return this.f2(f,s)-this.f1(f,s)},noise2D(f,s,r=1,u="f1",d=1){this.init(r,9);const m=f*d,p=s*d;let y;switch(u){case"f1":y=this.f1(m,p);break;case"f2":y=this.f2(m,p);break;case"f2MinusF1":y=this.f2MinusF1(m,p);break;default:y=this.f1(m,p)}return Math.min(y/50,1)},noise2DFractal(f,s,r=1,u=4,d=.5,m=1,p="f1"){this.init(m,9);let y=0,v=1,g=1,w=0;for(let x=0;x<u;x++)y+=this.noise2D(f*v,s*v,m,p,r)*g,w+=g,g*=d,v*=2;return w>0?y/w:y}},ih={initialized:!1,init(f=1){this.initialized||(rt.init(f),this.initialized=!0)},warp2D(f,s,r=5,u=.1){this.init();const d=rt.noise2D(f*u,s*u)*r,m=rt.noise2D((f+100)*u,(s+100)*u)*r;return{x:f+d,y:s+m}},warp2DFractal(f,s,r=5,u=.1,d=3){let m=f,p=s,y=1,v=1;for(let g=0;g<d;g++){const w=this.warp2D(m,p,r*v,u*y);m=w.x,p=w.y,y*=2,v*=.5}return{x:m,y:p}},noise2D(f,s,r=.05,u=5,d=.1){this.init();const m=this.warp2D(f,s,u,d);return rt.noise2D(m.x*r,m.y*r)},noise2DFractal(f,s,r=.05,u=5,d=.1,m=4,p=.5){this.init();let y=0,v=1,g=1,w=0;for(let x=0;x<m;x++){const S=this.warp2D(f*v,s*v,u*g,d*v);y+=rt.noise2D(S.x*r,S.y*r)*g,w+=g,g*=p,v*=2}return w>0?y/w:y}},Qu={initialized:!1,init(f=1){this.initialized||(rt.init(f),this.initialized=!0)},noise2D(f,s,r=.05,u=0){this.init();const m=1-rt.noise2D(f*r,s*r);return Math.abs(m-u)},noise2DSharp(f,s,r=.05,u=2,d=0){this.init();const p=1-rt.noise2D(f*r,s*r),y=Math.abs(p-d);return Math.pow(y,u)},noise2DFractal(f,s,r=.05,u=4,d=.5,m=0,p=2){this.init();let y=0,v=1,g=1,w=0;for(let x=0;x<u;x++){const b=1-rt.noise2D(f*r*v,s*r*v),z=Math.pow(Math.abs(b-m),p);y+=z*g,w+=g,g*=d,v*=2}return w>0?y/w:y},billow2D(f,s,r=.05,u=4,d=.5){this.init();let m=0,p=1,y=1,v=0;for(let g=0;g<u;g++){const w=rt.noise2D(f*r*p,s*r*p),x=Math.abs(w-.5)*2;m+=x*y,v+=y,y*=d,p*=2}return v>0?m/v:m}};function b0(f){return function(){f|=0,f=f+1831565813|0;let s=Math.imul(f^f>>>15,1|f);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}}const Vu={grad3:[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],p:[],perm:[],permMod12:[],initialized:!1,random:null,init(f=1){if(!this.initialized){this.random=b0(f),this.p=[];for(let s=0;s<256;s++)this.p[s]=Math.floor(this.random()*256);for(let s=0;s<512;s++)this.perm[s]=this.p[s&255],this.permMod12[s]=this.perm[s]%12;this.initialized=!0}},dot(f,s,r,u){return f[0]*s+f[1]*r+f[2]*u},fade(f){return f*f*f*(f*(f*6-15)+10)},noise3D(f,s,r){this.init();const u=1/3,d=1/6,m=(f+s+r)*u,p=Math.floor(f+m),y=Math.floor(s+m),v=Math.floor(r+m),g=(p+y+v)*d,w=p-g,x=y-g,S=v-g,b=f-w,z=s-x,j=r-S;let T,Q,V,K,L,U;b>=z?z>=j?(T=1,Q=0,V=0,K=1,L=1,U=0):b>=j?(T=1,Q=0,V=0,K=1,L=0,U=1):(T=0,Q=0,V=1,K=1,L=0,U=1):z<j?(T=0,Q=0,V=1,K=0,L=1,U=1):b<j?(T=0,Q=1,V=0,K=0,L=1,U=1):(T=0,Q=1,V=0,K=1,L=1,U=0);const J=b-T+d,ee=z-Q+d,he=j-V+d,_=b-K+2*d,ie=z-L+2*d,F=j-U+2*d,re=b-1+3*d,ze=z-1+3*d,ge=j-1+3*d,we=p&255,O=y&255,G=v&255,Z=this.permMod12[we+this.perm[O+this.perm[G]]],P=this.permMod12[we+T+this.perm[O+Q+this.perm[G+V]]],ae=this.permMod12[we+K+this.perm[O+L+this.perm[G+U]]],me=this.permMod12[we+1+this.perm[O+1+this.perm[G+1]]];let fe=.6-b*b-z*z-j*j,ue=0;fe<0?ue=0:(fe*=fe,ue=fe*fe*this.dot(this.grad3[Z],b,z,j));let de=.6-J*J-ee*ee-he*he,Ve=0;de<0?Ve=0:(de*=de,Ve=de*de*this.dot(this.grad3[P],J,ee,he));let et=.6-_*_-ie*ie-F*F,St=0;et<0?St=0:(et*=et,St=et*et*this.dot(this.grad3[ae],_,ie,F));let Xe=.6-re*re-ze*ze-ge*ge,We=0;return Xe<0?We=0:(Xe*=Xe,We=Xe*Xe*this.dot(this.grad3[me],re,ze,ge)),32*(ue+Ve+St+We)},noise2D(f,s){return(this.noise3D(f,s,0)+1)/2},noise3DFractal(f,s,r,u=4,d=.5,m=1){let p=0,y=1,v=1,g=0;for(let w=0;w<u;w++){const x=this.noise3D(f*m*y,s*m*y,r*m*y);p+=(x+1)/2*v,g+=v,v*=d,y*=2}return g>0?p/g:p},noise2DFractal(f,s,r=4,u=.5,d=1){return this.noise3DFractal(f,s,0,r,u,d)}};function ph(f,s,r){const u=r.type||"perlinNoise",d=r.seed??42,m=r.scale??.05,p=Math.max(1,Math.floor(r.octaves??4)),y=r.persistence??.5,v=r.frequency??1,g=m>0?m:1e-4;switch(u){case"voronoiNoise":{const w=r.mode||"f1";return mh.noise2DFractal(f,s,g,p,y,d,w)}case"domainWarping":{ih.init(d);const w=r.baseScale??.05,x=r.warpStrength??5,S=r.warpScale??.1;return ih.noise2DFractal(f,s,w,x,S,p,y)}case"ridgeNoise":{Qu.init(d);const w=r.offset??0,x=r.power??2;return Qu.noise2DFractal(f,s,g,p,y,w,x)}case"simplexNoise":return Vu.init(d),r.zOffset,Vu.noise2DFractal(f,s,p,y,g);case"perlinNoise":default:{rt.init(d);let w=0,x=v,S=1,b=0;for(let z=0;z<p;z++)w+=rt.noise2D(f*g*x,s*g*x)*S,b+=S,S*=y,x*=2;return b>0?w/b:w}}}function vh(f,s){const r=f.getAttribute("position"),u=r.array,d=r.count,m=s.amplitude??s.elevation??10,p=s.type||"perlinNoise";for(let y=0;y<d;y++){const v=y*3,g=u[v],w=u[v+2],x=ph(g,w,{type:p,seed:s.seed??42,scale:s.scale??s.noiseScale??.05,octaves:s.octaves??4,persistence:s.persistence??.5,frequency:s.frequency??1,mode:s.mode,baseScale:s.baseScale,warpStrength:s.warpStrength,warpScale:s.warpScale,offset:s.offset,power:s.power,zOffset:s.zOffset});u[v+1]=x*m}r.needsUpdate=!0,f.computeVertexNormals()}function x0({config:f=kl,time:s=0}){const r=new Kl(f.width,f.depth,f.segments,f.segments);r.rotateX(-Math.PI/2),vh(r,{type:f.type||"perlinNoise",seed:f.seed??42,scale:f.noiseScale??.05,octaves:f.octaves??4,persistence:f.persistence??.5,amplitude:f.amplitude??10,frequency:f.frequency??1});const u=p0({time:s,waterHeight:f.waterHeight??20}),d=new lt(r,u);return d.receiveShadow=!0,d}function S0(f,s){!f||!f.geometry||vh(f.geometry,s||{})}function N0(){return new Fn({uniforms:{time:{value:0},lightDir:{value:new le(.4,1,.3).normalize()},skyColor:{value:new Ft(.5,.75,.95)},sunColor:{value:new Ft(1,.95,.85)}},vertexShader:`
      varying vec2 vUv;
      varying vec3 vWorldPos;
      varying vec3 vNormal;
      
      void main(){
        vUv = uv;
        vWorldPos = (modelMatrix * vec4(position, 1.0)).xyz;
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform float time;
      uniform vec3 lightDir;
      uniform vec3 skyColor;
      uniform vec3 sunColor;
      
      varying vec2 vUv;
      varying vec3 vWorldPos;
      varying vec3 vNormal;

      // Soft noise for organic movement
      float hash(vec2 p) {
        return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);
      }

      float smoothNoise(vec2 p) {
        vec2 i = floor(p);
        vec2 f = fract(p);
        f = f * f * (3.0 - 2.0 * f);
        
        float a = hash(i);
        float b = hash(i + vec2(1.0, 0.0));
        float c = hash(i + vec2(0.0, 1.0));
        float d = hash(i + vec2(1.0, 1.0));
        
        return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
      }

      float organicNoise(vec2 p) {
        float value = 0.0;
        float amplitude = 0.5;
        float frequency = 1.0;
        
        for (int i = 0; i < 4; i++) {
          value += smoothNoise(p * frequency) * amplitude;
          frequency *= 2.0;
          amplitude *= 0.5;
        }
        
        return value;
      }

      void main(){
        // Water tinted to match sky color
        vec3 skyTint = vec3(0.5, 0.75, 0.95); // Sky blue color matching the sky
        
        // Organic, wind-mediated movement for wave patterns
        vec2 flow = vec2(
          organicNoise(vUv * 0.5 + vec2(time * 0.1, 0.0)),
          organicNoise(vUv * 0.5 + vec2(0.0, time * 0.08))
        );
        
        // Soft, continuous wave pattern
        float wave = organicNoise(vUv * 2.0 + flow * 0.5 + vec2(time * 0.15, time * 0.12));
        float waveDetail = organicNoise(vUv * 6.0 + flow * 0.3 + vec2(time * 0.2, time * 0.18));
        wave = wave * 0.4 + waveDetail * 0.2 + 0.6;
        
        // Start with sky-colored base
        vec3 color = skyTint;
        
        // Enhanced reflective water - primary texture is sky reflection
        // Use a simpler approach that doesn't require camera position
        float fresnel = pow(1.0 - max(dot(vNormal, vec3(0.0, 1.0, 0.0)), 0.0), 1.2);
        
        // Strong sky reflection - this is the primary texture
        vec3 skyReflection = skyColor * 1.5; // Very bright sky reflection
        color = mix(color, skyReflection, fresnel * 0.85); // Very reflective
        
        // Sun reflection on water
        float sunReflection = pow(max(dot(vNormal, lightDir), 0.0), 32.0);
        color += sunColor * sunReflection * 1.0;
        
        // Specular highlights from wave peaks
        vec3 halfVec = normalize(lightDir + vec3(0.0, 1.0, 0.0));
        float specular = pow(max(dot(vNormal, halfVec), 0.0), 64.0);
        color += sunColor * specular * 0.6;
        
        // Subtle wave variation
        color *= 0.98 + wave * 0.02;
        
        // Cel-shaded lighting for water - hard edges instead of smooth gradients
        float diff = max(dot(vNormal, lightDir), 0.0);
        // Use step functions instead of if statements for better compatibility
        float band1 = step(0.3, diff);  // 1.0 if diff >= 0.3
        float band2 = step(0.7, diff);  // 1.0 if diff >= 0.7
        float celDiff = 0.6;              // Base: shadow
        celDiff = mix(celDiff, 0.85, band1); // If >= 0.3, use 0.85
        celDiff = mix(celDiff, 1.0, band2);  // If >= 0.7, use 1.0
        color *= 0.75 + celDiff * 0.25;
        
        // Hard-edged rim lighting for cel-shading (simpler approach)
        float rimDot = max(dot(vNormal, vec3(0.0, 1.0, 0.0)), 0.0);
        float rim = 1.0 - rimDot;
        rim = step(0.75, rim); // Hard rim edge
        color += rim * 0.15; // Rim highlight
        
        // Preserve vibrant blue colors
        float gray = dot(color, vec3(0.299, 0.587, 0.114));
        color = mix(color, vec3(gray), 0.05);
        
        // Final color grading - enhance vibrancy
        color = pow(color, vec3(0.92));
        
        // No fog - removed as requested
        
        // Less transparency for more solid blue appearance
        float alpha = 0.5 + wave * 0.1;
        
        gl_FragColor = vec4(color, alpha);
      }
    `,transparent:!0,side:dh})}function w0({size:f=400,height:s=20}={}){const r=N0(),u=new lt(new Kl(f,f).rotateX(-Math.PI/2),r);return u.position.y=s,u}function z0(f,s=null){const r=new Jd,u=m0();r.add(u),r.background=new Ft(8239336);const d=new Jp(75,f.clientWidth/f.clientHeight,.1,2e3);d.position.set(0,10,15);const m=h0(f),p=x0({});r.add(p),typeof window<"u"&&(window.__terrainReference=p,window.__updateTerrain=null);const y=s?.waterHeight??0,v=w0({height:y,size:400});r.add(v);const g=new kp(16774630,13944248,.6);r.add(g);const w=new kd(16775408,.6);w.position.set(60,100,10),w.castShadow=!0,w.shadow.mapSize.width=4096,w.shadow.mapSize.height=4096,w.shadow.camera.near=.5,w.shadow.camera.far=500,w.shadow.camera.left=-200,w.shadow.camera.right=200,w.shadow.camera.top=200,w.shadow.camera.bottom=-200,w.shadow.bias=-1e-4,w.shadow.normalBias=.02,w.shadow.radius=4,r.add(w);const x=new Wp(16115411,.4);r.add(x);const S=new kd(16774630,.008);S.position.set(-40,50,-30),r.add(S);const b=new Fp(m);b.compileEquirectangularShader();const z=new Jd;z.background=new Ft(8239336);const j=new lt(new Ju(100,32,32),new Pp({color:8239336,side:fh}));z.add(j);const T=b.fromScene(z,.04).texture;return r.environment=T,b.dispose(),{scene:r,camera:d,renderer:m,water:v,terrain:p,sky:u}}function D0(f){const s=new Pn;return s.position.set(0,5,10),s.add(f),s}function At(f,s,r){const u=r.scale??r.noiseScale??.05,d=r.amplitude??10;return ph(f,s,{type:r.type||"perlinNoise",seed:r.seed??42,scale:u,octaves:r.octaves??4,persistence:r.persistence??.5,frequency:r.frequency??1,mode:r.mode,baseScale:r.baseScale,warpStrength:r.warpStrength,warpScale:r.warpScale,offset:r.offset,power:r.power,zOffset:r.zOffset})*d}const sh={eyeHeight:5},Xu={type:"perlinNoise",seed:42,noiseScale:kl.noiseScale,octaves:4,persistence:.5,amplitude:kl.amplitude,frequency:1},M0=1e4,oh=-1e3;function j0(f,s,r,u){const d=q.useRef({forward:!1,backward:!1,left:!1,right:!1}),m=q.useRef(0),p=q.useRef(0),y=.2,v=.002,g=.3,w=.01,x=.1,S=.8,b=q.useRef(new le(0,0,0)),z=q.useRef(!1),j=q.useRef(!1),T=q.useRef(!1),Q=q.useRef(null);q.useEffect(()=>{const L=()=>{j.current=document.pointerLockElement===document.body};return document.addEventListener("pointerlockchange",L),()=>document.removeEventListener("pointerlockchange",L)},[]),q.useEffect(()=>{const L=U=>{j.current&&(m.current-=U.movementX*v,p.current-=U.movementY*v,p.current=Math.max(-Math.PI/2,Math.min(Math.PI/2,p.current)))};return window.addEventListener("mousemove",L),()=>window.removeEventListener("mousemove",L)},[]),q.useEffect(()=>{const L=J=>{J.code==="KeyW"&&(d.current.forward=!0),J.code==="KeyS"&&(d.current.backward=!0),J.code==="KeyA"&&(d.current.left=!0),J.code==="KeyD"&&(d.current.right=!0),J.code==="Space"&&(J.preventDefault(),z.current&&(b.current.y=g,z.current=!1))},U=J=>{J.code==="KeyW"&&(d.current.forward=!1),J.code==="KeyS"&&(d.current.backward=!1),J.code==="KeyA"&&(d.current.left=!1),J.code==="KeyD"&&(d.current.right=!1)};return document.addEventListener("keydown",L),document.addEventListener("keyup",U),()=>{document.removeEventListener("keydown",L),document.removeEventListener("keyup",U)}},[]);const V=q.useRef(null),K=q.useRef(!1);return q.useEffect(()=>{const L=new le,U=new le,J=new le(0,1,0),ee=he=>{const _=f.current,ie=s.current;if(!_||!ie)return;if(!K.current){const fe=u?.current||Xu,ue=At(_.position.x,_.position.z,fe);_.position.y=ue,z.current=!0,K.current=!0}ie.rotation.order="YXZ",ie.rotation.y=m.current,ie.rotation.x=p.current,ie.getWorldDirection(L),L.y=0,L.normalize(),U.crossVectors(L,J).normalize();let F=0,re=0;if(d.current.forward&&(F+=y),d.current.backward&&(F-=y),d.current.left&&(re-=y),d.current.right&&(re+=y),z.current)b.current.x=F*L.x+re*U.x,b.current.z=F*L.z+re*U.z;else{const fe=F*L.x+re*U.x,ue=F*L.z+re*U.z;b.current.x=Wd.lerp(b.current.x,fe,S),b.current.z=Wd.lerp(b.current.z,ue,S)}b.current.y-=w;const ze=u?.current,ge=ze?.width||kl.width,we=ze?.depth||kl.depth,O=ge/2,G=we/2,Z=T.current;if(T.current=_.position.x<-O||_.position.x>O||_.position.z<-G||_.position.z>G,T.current&&!Z&&(Q.current=performance.now()),!T.current&&Z&&(Q.current=null),_.position.x+=b.current.x,_.position.y+=b.current.y,_.position.z+=b.current.z,T.current&&((Q.current?performance.now()-Q.current:0)>=M0||_.position.y<=oh)){const ue=u?.current||Xu,de=At(0,0,ue);_.position.set(0,de,0),b.current.set(0,0,0),z.current=!0,T.current=!1,Q.current=null,ie.position.set(0,sh.eyeHeight,0);return}const P=u?.current||Xu;let ae;T.current?ae=oh-100:ae=At(_.position.x,_.position.z,P);const me=_.position.y-ae;T.current?z.current=!1:_.position.y<=ae||me<=x&&b.current.y<=0?(_.position.y=ae,b.current.y=0,z.current=!0,!d.current.forward&&!d.current.backward&&!d.current.left&&!d.current.right&&(b.current.x=0,b.current.z=0)):z.current=!1,ie.position.set(0,sh.eyeHeight,0)};return V.current=ee,()=>{V.current=null,K.current=!1}},[s,f,u]),V}class Wl{constructor(){if(this.constructor===Wl)throw new Error("WorldObject is an abstract class and cannot be instantiated directly");this.group=new Pn,this.meshes=[],this.materials=[],this.geometries=[]}getGroup(){return this.group}addMesh(s){this.group.add(s),this.meshes.push(s),s.material&&(Array.isArray(s.material)?this.materials.push(...s.material):this.materials.push(s.material)),s.geometry&&this.geometries.push(s.geometry)}setPosition(s,r,u){this.group.position.set(s,r,u)}getPosition(){return this.group.position.clone()}dispose(){this.meshes.forEach(s=>{s.parent&&s.parent.remove(s)}),this.materials.forEach(s=>{s.dispose&&s.dispose()}),this.geometries.forEach(s=>{s.dispose&&s.dispose()}),this.group.parent&&this.group.parent.remove(this.group),this.meshes=[],this.materials=[],this.geometries=[]}}class C0 extends Wl{constructor(s=new le,r=new le){super(),this.position=s,this.velocity=r,this.acceleration=new le,this.setPosition(s.x,s.y,s.z)}update(s){this.velocity.add(this.acceleration.clone().multiplyScalar(s)),this.position.add(this.velocity.clone().multiplyScalar(s)),this.acceleration.multiplyScalar(0),this.setPosition(this.position.x,this.position.y,this.position.z)}applyForce(s){this.acceleration.add(s)}limitVelocity(s){this.velocity.length()>s&&this.velocity.normalize().multiplyScalar(s)}distanceTo(s){return this.position.distanceTo(s.position)}}class cn{constructor(s={}){this.separation=s.separation??1.5,this.alignment=s.alignment??1,this.cohesion=s.cohesion??1,this.separationRadius=s.separationRadius??2,this.neighborRadius=s.neighborRadius??5,this.maxSpeed=s.maxSpeed??5,this.maxForce=s.maxForce??.1,this.boundsWidth=s.boundsWidth??50,this.boundsDepth=s.boundsDepth??50,this.planeHeight=s.planeHeight??50,this.noiseConfig=s.noiseConfig??null}getBounds(){return{width:this.boundsWidth,height:this.planeHeight,depth:this.boundsDepth}}getCenter(){return new le(0,this.planeHeight,0)}clone(){return new cn({separation:this.separation,alignment:this.alignment,cohesion:this.cohesion,separationRadius:this.separationRadius,neighborRadius:this.neighborRadius,maxSpeed:this.maxSpeed,maxForce:this.maxForce,boundsWidth:this.boundsWidth,boundsDepth:this.boundsDepth,planeHeight:this.planeHeight,noiseConfig:this.noiseConfig?{...this.noiseConfig}:null})}update(s){Object.assign(this,s)}toObject(){return{separation:this.separation,alignment:this.alignment,cohesion:this.cohesion,separationRadius:this.separationRadius,neighborRadius:this.neighborRadius,maxSpeed:this.maxSpeed,maxForce:this.maxForce,boundsWidth:this.boundsWidth,boundsDepth:this.boundsDepth,planeHeight:this.planeHeight,noiseConfig:this.noiseConfig}}}class uh extends C0{constructor(s=new le,r=new le){super(s,r)}update(s,r=5){this.velocity.add(this.acceleration.clone().multiplyScalar(s)),this.limitVelocity(r),this.position.add(this.velocity.clone().multiplyScalar(s)),this.acceleration.multiplyScalar(0),super.update(s)}}class E0{constructor(s={}){this.boids=[],this.config=s instanceof cn?s:new cn(s)}addBoid(s){this.boids.push(s)}removeBoid(s){const r=this.boids.indexOf(s);r>-1&&this.boids.splice(r,1)}separate(s){const r=new le;let u=0;const d=this.config.separationRadius*this.config.separationRadius,m=8;for(const p of this.boids){if(p===s)continue;if(u>=m)break;const y=s.position.x-p.position.x,v=s.position.y-p.position.y,g=s.position.z-p.position.z,w=y*y+v*v+g*g;if(w>0&&w<d){const x=Math.sqrt(w),S=new le(y,v,g).normalize().divideScalar(x);r.add(S),u++}}return u>0&&(r.divideScalar(u),r.normalize(),r.multiplyScalar(this.config.maxSpeed),r.sub(s.velocity),r.clampLength(0,this.config.maxForce)),r}align(s){const r=new le;let u=0;const d=this.config.neighborRadius*this.config.neighborRadius,m=8;for(const p of this.boids){if(p===s)continue;if(u>=m)break;const y=s.position.x-p.position.x,v=s.position.y-p.position.y,g=s.position.z-p.position.z,w=y*y+v*v+g*g;w>0&&w<d&&(r.add(p.velocity),u++)}if(u>0){r.divideScalar(u),r.normalize(),r.multiplyScalar(this.config.maxSpeed);const p=new le().subVectors(r,s.velocity);return p.clampLength(0,this.config.maxForce),p}return new le}cohesion(s){const r=new le;let u=0;const d=this.config.neighborRadius*this.config.neighborRadius,m=8;for(const p of this.boids){if(p===s)continue;if(u>=m)break;const y=s.position.x-p.position.x,v=s.position.y-p.position.y,g=s.position.z-p.position.z,w=y*y+v*v+g*g;w>0&&w<d&&(r.add(p.position),u++)}if(u>0){r.divideScalar(u);const p=new le().subVectors(r,s.position);p.normalize(),p.multiplyScalar(this.config.maxSpeed);const y=new le().subVectors(p,s.velocity);return y.clampLength(0,this.config.maxForce),y}return new le}boundaries(s){const u=new le,d=this.config.getBounds(),m=this.config.getCenter(),p=this.config.planeHeight;return s.position.x<m.x-d.width/2+5?u.x=1:s.position.x>m.x+d.width/2-5&&(u.x=-1),s.position.z<m.z-d.depth/2+5?u.z=1:s.position.z>m.z+d.depth/2-5&&(u.z=-1),s.position.y<p-5?u.y=1:s.position.y>p+5&&(u.y=-1),u.length()>0&&(u.normalize(),u.multiplyScalar(this.config.maxSpeed),u.sub(s.velocity),u.clampLength(0,this.config.maxForce)),u}update(s){for(const r of this.boids){const u=this.separate(r).multiplyScalar(this.config.separation),d=this.align(r).multiplyScalar(this.config.alignment),m=this.cohesion(r).multiplyScalar(this.config.cohesion),p=this.boundaries(r).multiplyScalar(1);r.applyForce(u),r.applyForce(d),r.applyForce(m),r.applyForce(p),r.update(s,this.config.maxSpeed)}}updateConfig(s){s instanceof cn?this.config=s:this.config.update(s)}}function Qt(f,s={}){const r=f instanceof Ft?f:new Ft(f),{lightDir:u=new le(.4,1,.3).normalize(),lightColor:d=new Ft(1,1,1),ambientColor:m=new Ft(.4,.4,.4),rimIntensity:p=.3,rimThreshold:y=.7}=s;return new Fn({uniforms:{color:{value:r},lightDir:{value:u},lightColor:{value:d},ambientColor:{value:m},rimIntensity:{value:p},rimThreshold:{value:y}},vertexShader:`
      varying vec3 vNormal;
      
      void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform vec3 color;
      uniform vec3 lightDir;
      uniform vec3 lightColor;
      uniform vec3 ambientColor;
      uniform float rimIntensity;
      uniform float rimThreshold;
      
      varying vec3 vNormal;
      
      // Cel-shading function - creates hard bands of light/shadow
      // Using step functions instead of if statements for better compatibility
      float celShade(float ndl) {
        ndl = clamp(ndl, 0.0, 1.0);
        float s1 = step(0.2, ndl);  // 1.0 if ndl >= 0.2
        float s2 = step(0.5, ndl);  // 1.0 if ndl >= 0.5
        float s3 = step(0.8, ndl);  // 1.0 if ndl >= 0.8
        float r = 0.3;              // Base: deep shadow
        r = mix(r, 0.6, s1);        // If >= 0.2, use 0.6
        r = mix(r, 0.9, s2);        // If >= 0.5, use 0.9
        r = mix(r, 1.0, s3);        // If >= 0.8, use 1.0
        return r;
      }
      
      void main() {
        vec3 normal = normalize(vNormal);
        float ndl = max(dot(normal, lightDir), 0.0);
        
        // Apply cel-shading
        float cel = celShade(ndl);
        
        // Rim lighting for edge definition (hard edge)
        // Use simpler approach that doesn't require camera position
        float rimDot = max(dot(normal, vec3(0.0, 1.0, 0.0)), 0.0);
        float rim = 1.0 - rimDot;
        rim = step(rimThreshold, rim); // Hard rim edge using step function
        
        // Combine lighting
        vec3 litColor = color * mix(ambientColor, lightColor, cel);
        litColor += rim * rimIntensity; // Add rim highlight
        
        // Ensure valid color
        litColor = clamp(litColor, vec3(0.0), vec3(1.0));
        
        gl_FragColor = vec4(litColor, 1.0);
      }
    `})}function A0(f,s,r=null,u=[]){if(!f||!f.agents||f.agents.length===0)return null;const{agents:d,behavior:m}=f,p=m||{separation:1.5,alignment:1,cohesion:1,separationRadius:2,neighborRadius:5,maxSpeed:5,maxForce:.1,boundsWidth:50,boundsDepth:50,planeHeight:50},y=Qt(16777215,{rimIntensity:.25}),v=new Pn;v.name="flockingAgents";const g=[],w=[],x=new Map,S=new cn({separation:p.separation,alignment:p.alignment,cohesion:p.cohesion,separationRadius:p.separationRadius,neighborRadius:p.neighborRadius,maxSpeed:p.maxSpeed,maxForce:p.maxForce,boundsWidth:p.boundsWidth,boundsDepth:p.boundsDepth,planeHeight:p.planeHeight,noiseConfig:p.noiseConfig}),b=new E0(S);d.forEach(U=>{let J=new le(U.positionX,U.positionY,U.positionZ);if(r){const re=At(J.x,J.z,r)+(U.size||.3)*.5+1;J.y<re&&(J.y=re)}let ee=new le(U.velocityX??(Math.random()-.5)*4,U.velocityY??(Math.random()-.5)*1,U.velocityZ??(Math.random()-.5)*4);ee.length()<.01&&(ee=new le((Math.random()-.5)*4,(Math.random()-.5)*1,(Math.random()-.5)*4)),ee.normalize().multiplyScalar(3);const he=new uh(J,ee);b.addBoid(he),g.push(he),x.set(U.id,g.length-1);const _=new Jl(U.size||.3,U.size||.3,U.size||.3),ie=new lt(_,y);ie.position.copy(J),ie.castShadow=!1,ie.receiveShadow=!1,ie.userData.agentId=U.id,v.add(ie),w.push(ie)}),s.add(v);const z=new Map;let j=!1;const T=U=>{if(!(!j&&z.size>0)){z.clear();for(const J of U){if(!J||!J.group)continue;const ee=new Fd().setFromObject(J.group);ee.isEmpty()||z.set(J,{box:ee,center:ee.getCenter(new le)})}j=!1}},Q=new le,V=new le,K=new Fd,L=(U,J,ee)=>{const he=J*.5;K.setFromCenterAndSize(U,Q.set(he*2,he*2,he*2)),T(ee);for(const[,_]of z)if(K.intersectsBox(_.box))return Q.subVectors(U,_.center).normalize(),Q.lengthSq()<1e-4&&Q.set(0,1,0),Q.clone();return null};return{group:v,flockingSystem:b,boids:g,meshes:w,agentMap:x,update:(U,J=null,ee=[])=>{b.update(U);const he=J||r,_=ee.length>0?ee:u;for(let ie=0;ie<g.length;ie++){const F=g[ie],re=w[ie],ze=re.scale.x*.3;if(he){const O=At(F.position.x,F.position.z,he)+ze*.5+.1;F.position.y<O&&(F.position.y=O,F.velocity.y<0&&(F.velocity.y=Math.abs(F.velocity.y)*.5))}const ge=L(F.position,ze,_);ge&&(Q.copy(ge).multiplyScalar(2),F.velocity.add(Q),Q.copy(ge).multiplyScalar(.1),F.position.add(Q)),re.position.copy(F.position),F.velocity.lengthSq()>1e-4&&(V.copy(F.velocity).normalize().add(F.position),re.lookAt(V))}},invalidateBuildingCache:()=>{j=!0},updateConfig:U=>{if(!U||!U.agents)return;j=!0;const{agents:J,behavior:ee}=U;if(ee){const _=new cn({separation:ee.separation,alignment:ee.alignment,cohesion:ee.cohesion,separationRadius:ee.separationRadius,neighborRadius:ee.neighborRadius,maxSpeed:ee.maxSpeed,maxForce:ee.maxForce,boundsWidth:ee.boundsWidth,boundsDepth:ee.boundsDepth,planeHeight:ee.planeHeight,noiseConfig:ee.noiseConfig});b.updateConfig(_)}const he=new Set;J.forEach(_=>{he.add(_.id);const ie=x.get(_.id);if(ie!==void 0)g[ie].position.set(_.positionX,_.positionY,_.positionZ),_.size!==void 0&&w[ie].scale.setScalar(_.size/(_.size||.3));else{let F=new le(_.positionX,_.positionY,_.positionZ);if(r){const G=At(F.x,F.z,r)+(_.size||.3)*.5+1;F.y<G&&(F.y=G)}let re=new le(_.velocityX??(Math.random()-.5)*4,_.velocityY??(Math.random()-.5)*1,_.velocityZ??(Math.random()-.5)*4);re.length()<.01&&(re=new le((Math.random()-.5)*4,(Math.random()-.5)*1,(Math.random()-.5)*4)),re.normalize().multiplyScalar(3);const ze=new uh(F,re);b.addBoid(ze),g.push(ze),x.set(_.id,g.length-1);const ge=new Jl(_.size||.3,_.size||.3,_.size||.3),we=new lt(ge,y);we.position.copy(F),we.castShadow=!1,we.receiveShadow=!1,we.userData.agentId=_.id,v.add(we),w.push(we)}});for(let _=g.length-1;_>=0;_--){const ie=Array.from(x.entries()).find(([,F])=>F===_)?.[0];if(ie&&!he.has(ie)){const F=g[_];b.removeBoid(F),g.splice(_,1);const re=w[_];v.remove(re),re.geometry.dispose(),w.splice(_,1),x.delete(ie),x.forEach((ze,ge)=>{ze>_&&x.set(ge,ze-1)})}}},dispose:()=>{w.forEach(U=>{U.geometry.dispose()}),y.dispose(),s.remove(v)}}}class gs{constructor(){if(this.constructor===gs)throw new Error("Grammar is an abstract class and cannot be instantiated directly")}generate(s){throw new Error("generate must be implemented by subclass")}applyRules(s,r,u){let d=s;for(let m=0;m<u;m++)d=this.replace(d,r);return d}replace(s,r){return s.split("").map(u=>r[u]||u).join("")}}class T0 extends gs{constructor(s="F",r={},u=3){super(),this.axiom=s,this.rules=r,this.iterations=u,this.currentString=s}generate(s={}){const r=s.axiom??this.axiom,u=s.rules??this.rules,d=s.iterations??this.iterations;return this.currentString=this.applyRules(r,u,d),this.currentString}iterate(){return this.generate()}getString(){return this.currentString}setAxiom(s){this.axiom=s}addRule(s,r){this.rules[s]=r}setRules(s){this.rules=s}}function R0(f,s,r){const u=[],d=[];let m=0,p=0,y=0,v=0;for(let g=0;g<f.length;g++)switch(f[g]){case"F":case"G":const x=p+Math.sin(m)*r,S=y+Math.cos(m)*r,b=v;u.push({type:"line",from:{x:p,y,z:v},to:{x,y:S,z:b}}),p=x,y=S,v=b;break;case"+":m+=s;break;case"-":m-=s;break;case"&":break;case"^":break;case"\\":break;case"/":break;case"|":m+=Math.PI;break;case"[":d.push({x:p,y,z:v,angle:m});break;case"]":if(d.length>0){const z=d.pop();p=z.x,y=z.y,v=z.z,m=z.angle}break}return u}class O0 extends Wl{constructor(s){super(),this.config=s,this.barkMaterial=null,this.leafMaterial=null,this.build()}build(){if(!this.config||!this.config.lsystem)return;const{positionX:s=0,positionY:r=0,positionZ:u=0,branchThickness:d=.1,branchColor:m="#8B4513",leafSize:p=.3,leafColor:y="#228B22",leafDensity:v=.7,lsystem:g}=this.config;this.setPosition(s,r,u),this.group.name="plant",this.barkMaterial=Qt(m,{rimIntensity:.2}),this.leafMaterial=Qt(y,{rimIntensity:.3}),this.leafMaterial.side=dh;const w=R0(g.resultString,g.angle,g.stepSize),x=new Set,S=new Map;w.forEach(b=>{if(b.type==="line"){const{from:z,to:j}=b,T=new le(j.x-z.x,j.y-z.y,j.z-z.z),Q=T.length();if(Q<.001)return;T.normalize();const V=Math.sqrt(z.x*z.x+z.y*z.y+z.z*z.z),K=Math.sqrt(j.x*j.x+j.y*j.y+j.z*j.z),L=d*(1-V*.1),U=d*(1-K*.1),J=Math.max(L,d*.3),ee=Math.max(U,d*.2);S.set(`${j.x},${j.y},${j.z}`,ee),x.add(`${j.x},${j.y},${j.z}`);const he=new hh(J,ee,Q,8),_=new lt(he,this.barkMaterial),ie=new le((z.x+j.x)/2,(z.y+j.y)/2,(z.z+j.z)/2);_.position.copy(ie);const F=new le(0,1,0),re=new $p;re.setFromUnitVectors(F,T),_.quaternion.copy(re),_.castShadow=!0,_.receiveShadow=!0,this.addMesh(_)}}),w.forEach(b=>{if(b.type==="line"){const{from:z}=b;x.delete(`${z.x},${z.y},${z.z}`)}}),x.forEach(b=>{if(Math.random()>v)return;const[z,j,T]=b.split(",").map(Number);if((S.get(b)||d*.3)>d*.6)return;const V=3+Math.floor(Math.random()*3);for(let K=0;K<V;K++){const L=(Math.random()-.5)*p*.5,U=(Math.random()-.5)*p*.5,J=(Math.random()-.5)*p*.5,ee=(Math.random()-.5)*Math.PI*.5,he=Math.random()*Math.PI*2,_=(Math.random()-.5)*Math.PI*.3,ie=new Kl(p*(.8+Math.random()*.4),p*(.6+Math.random()*.4)),F=new lt(ie,this.leafMaterial);F.position.set(z+L,j+U,T+J),F.rotation.set(ee,he,_),F.castShadow=!0,F.receiveShadow=!0,this.addMesh(F)}})}updateConfig(s){return s.lsystem?.resultString!==this.config.lsystem?.resultString?!1:(this.setPosition(s.positionX??this.config.positionX??0,s.positionY??this.config.positionY??0,s.positionZ??this.config.positionZ??0),this.barkMaterial&&this.barkMaterial.color.set(s.branchColor??this.config.branchColor??"#8B4513"),this.leafMaterial&&this.leafMaterial.color.set(s.leafColor??this.config.leafColor??"#228B22"),this.config={...this.config,...s},!0)}}function H0(f,s){if(!f||!f.lsystem)return null;const r=new O0(f);return s.add(r.getGroup()),{group:r.getGroup(),dispose:()=>{r.dispose()},updateConfig:u=>r.updateConfig(u),_plant:r}}class U0 extends Wl{constructor(s){super(),this.config=s,this.material=null,this.build()}build(){if(!this.config||!this.config.grammar||!this.config.grammar.building)return;const{positionX:s=0,positionY:r=0,positionZ:u=0,color:d="#ffffff",grammar:m}=this.config;this.setPosition(s,r,u),this.group.name="building",this.material=Qt(16777215,{rimIntensity:.25});const p=m.building,y=m.wallThickness||.2;p.levels.forEach(v=>{v.rooms.forEach(g=>{const w=new Kl(g.width,g.depth),x=new lt(w,this.material);x.rotation.x=-Math.PI/2,x.position.set(g.x,g.y,g.z),x.castShadow=!0,x.receiveShadow=!0,this.addMesh(x);const S=new Kl(g.width,g.depth),b=new lt(S,this.material);b.rotation.x=Math.PI/2,b.position.set(g.x,g.y+g.height,g.z),b.receiveShadow=!0,this.addMesh(b);const z=g.width/2,j=g.depth/2;if(!this.hasConnection(g,"north",v.rooms)){const T=this.createWall(g.width,g.height,y);T.position.set(g.x,g.y+g.height/2,g.z-j),T.castShadow=!0,T.receiveShadow=!0,this.addMesh(T)}if(!this.hasConnection(g,"south",v.rooms)){const T=this.createWall(g.width,g.height,y);T.position.set(g.x,g.y+g.height/2,g.z+j),T.castShadow=!0,T.receiveShadow=!0,this.addMesh(T)}if(!this.hasConnection(g,"east",v.rooms)){const T=this.createWall(g.depth,g.height,y);T.rotation.y=Math.PI/2,T.position.set(g.x+z,g.y+g.height/2,g.z),T.castShadow=!0,T.receiveShadow=!0,this.addMesh(T)}if(!this.hasConnection(g,"west",v.rooms)){const T=this.createWall(g.depth,g.height,y);T.rotation.y=Math.PI/2,T.position.set(g.x-z,g.y+g.height/2,g.z),T.castShadow=!0,T.receiveShadow=!0,this.addMesh(T)}})}),p.stairs&&p.stairs.length>0&&p.stairs.forEach(v=>{const g=new Jl(v.width,v.height,v.depth),w=new lt(g,this.material);w.position.set(v.x,v.y+v.height/2,v.z),w.castShadow=!0,w.receiveShadow=!0,this.addMesh(w)})}createWall(s,r,u){const d=new Jl(s,r,u);return new lt(d,this.material)}hasConnection(s,r,u){return s.connections.some(d=>d.direction===r?u.some(m=>m.id===d.to):!1)}updateConfig(s){return s.grammar?.building!==this.config.grammar?.building?!1:(this.setPosition(s.positionX??this.config.positionX??0,s.positionY??this.config.positionY??0,s.positionZ??this.config.positionZ??0),this.material&&this.material.color.set(s.color??this.config.color??"#ffffff"),this.config={...this.config,...s},!0)}}function B0(f,s){if(!f||!f.grammar||!f.grammar.building)return null;const r=new U0(f);return s.add(r.getGroup()),{group:r.getGroup(),dispose:()=>{r.dispose()},updateConfig:u=>r.updateConfig(u),_building:r}}function _0(f,s,r){if(!f)return null;const{count:u=50,spread:d=50,size:m=1,noiseConfig:p}=f,y=20,v=new Pn;v.name="flowers";const g=Qt(16729156,{rimIntensity:.3}),w=Qt(16777215,{rimIntensity:.25}),x=Qt(4881497,{rimIntensity:.2}),S=Qt(4881497,{rimIntensity:.2}),b=Qt(16777130,{rimIntensity:.35}),z=Qt(16755200,{rimIntensity:.35}),j=[];let T=0;const Q=u*20;for(p&&rt.init(p.seed??42);j.length<u&&T<Q;){T++;const V=(Math.random()-.5)*d,K=(Math.random()-.5)*d;let L=.5;if(p){const me=p.scale??.05;L=rt.noise2D(V*me,K*me)}if(L<.35)continue;let J=0;if(r?J=At(V,K,r):J=At(V,K,{type:"perlinNoise",seed:42,scale:.05,octaves:4,persistence:.5,amplitude:10,frequency:1}),J<=y)continue;const ee=Math.random()>.5,he=ee?g:w,_=new Pn,ie=m*.8,F=m*.05,re=new hh(F,F,ie,8),ze=new lt(re,x);ze.position.y=ie/2,ze.castShadow=!0,ze.receiveShadow=!1,_.add(ze);const ge=ie,we=m*.4,O=6;for(let me=0;me<O;me++){const fe=me/O*Math.PI*2,ue=new Pd(we*.5,we,8),de=new lt(ue,he);de.position.x=Math.cos(fe)*we*.3,de.position.z=Math.sin(fe)*we*.3,de.position.y=ge,de.rotation.z=fe+Math.PI/2,de.rotation.x=-Math.PI/3,de.castShadow=!0,de.receiveShadow=!1,_.add(de)}const G=m*.25,Z=new Ju(G,12,12),P=new lt(Z,ee?z:b);P.position.y=ge,P.castShadow=!0,P.receiveShadow=!1,_.add(P);const ae=2;for(let me=0;me<ae;me++){const fe=ie/(ae+1)*(me+1),ue=new Pd(m*.15,m*.3,6),de=new lt(ue,S);de.position.y=fe,de.position.x=F*1.5,de.rotation.z=Math.PI/4,de.rotation.y=Math.PI/6,de.castShadow=!0,de.receiveShadow=!1,_.add(de)}_.position.set(V,J,K),_.rotation.y=Math.random()*Math.PI*2,_.castShadow=!0,_.receiveShadow=!1,v.add(_),j.push(_)}return s.add(v),{group:v,flowers:j,dispose:()=>{j.forEach(V=>{V.traverse(K=>{K.isMesh&&K.geometry.dispose()})}),g.dispose(),w.dispose(),x.dispose(),S.dispose(),b.dispose(),z.dispose(),s.remove(v)},updateConfig:V=>!(V.count!==u||V.spread!==d||V.size!==m||V.noiseConfig!==p)}}class gh{constructor(s={}){this.states=s.states||["A","B","C"],this.transitions=s.transitions||this.createDefaultTransitions(),this.currentState=s.initialState||this.states[0],this.history=[this.currentState]}createDefaultTransitions(){const s={},r=1/this.states.length;for(const u of this.states){s[u]={};for(const d of this.states)s[u][d]=r}return s}setTransition(s,r,u){this.transitions[s]||(this.transitions[s]={}),this.transitions[s][r]=u}next(){const s=this.transitions[this.currentState]||{},r=Math.random();let u=0;for(const d of this.states)if(u+=s[d]||0,r<=u)return this.currentState=d,this.history.push(d),d;return this.currentState=this.states[0],this.history.push(this.currentState),this.currentState}generateSequence(s=10){const r=[];for(let u=0;u<s;u++)r.push(this.next());return r}reset(s=null){this.currentState=s||this.states[0],this.history=[this.currentState]}getCurrentState(){return this.currentState}getHistory(){return[...this.history]}}class L0{constructor(s={}){this.id=s.id||`npc-${Math.random().toString(36).slice(2,8)}`,this.position=new le(s.positionX||0,s.positionY||0,s.positionZ||0),this.movementType=s.movementType||"stationary",this.speed=s.speed||2,this.wanderRadius=s.wanderRadius||10,this.wanderCenter=new le(s.wanderCenterX||this.position.x,s.wanderCenterY||this.position.y,s.wanderCenterZ||this.position.z),this.pathPoints=s.pathPoints||[],this.currentPathIndex=0,this.pathLoop=s.pathLoop!==!1,this.dialogueWords=Array.isArray(s.dialogueWords)&&s.dialogueWords.length>0?s.dialogueWords:["hello","world","greetings","traveler","welcome","friend","adventure","journey","path","destiny","quest","story"],this.dialogueLength=s.dialogueLength||5,this.interactionRadius=s.interactionRadius||10,this.markovChain=new gh({states:this.dialogueWords}),this.currentDialogue="",this.targetPosition=null,this.velocity=new le,this.isPlayerNearby=!1,this.generateDialogue()}generateDialogue(){const s=this.markovChain.generateSequence(this.dialogueLength);return this.currentDialogue=s.join(" "),this.currentDialogue}updateMovement(s,r=null){switch(this.movementType){case"random":this.updateRandomMovement(s,r);break;case"path":this.updatePathMovement(s,r);break}}updateRandomMovement(s,r){if(!this.targetPosition){const g=Math.random()*Math.PI*2,w=Math.random()*this.wanderRadius,x=this.wanderCenter.x+Math.cos(g)*w,S=this.wanderCenter.z+Math.sin(g)*w;let b=this.position.y;r?b=r(x,S)+6:b=Math.max(b,6),this.targetPosition=new le(x,b,S)}const u=this.targetPosition.x-this.position.x,d=this.targetPosition.z-this.position.z;if(Math.sqrt(u*u+d*d)<.5){const g=Math.random()*Math.PI*2,w=Math.random()*this.wanderRadius,x=this.wanderCenter.x+Math.cos(g)*w,S=this.wanderCenter.z+Math.sin(g)*w;let b=this.position.y;r?b=r(x,S)+6:b=Math.max(b,6),this.targetPosition=new le(x,b,S)}const p=new le(this.targetPosition.x-this.position.x,0,this.targetPosition.z-this.position.z).normalize(),y=p.x*this.speed*s,v=p.z*this.speed*s;if(this.position.x+=y,this.position.z+=v,r){const g=r(this.position.x,this.position.z);this.position.y=g+6}else this.position.y=Math.max(this.position.y,6)}updatePathMovement(s,r){if(this.pathPoints.length===0)return;const u=this.pathPoints[this.currentPathIndex];if(!u)return;const d=new le(u.x||u[0]||0,u.y||u[1]||0,u.z||u[2]||0);if(r){const p=r(d.x,d.z);d.y=p+6}else d.y=Math.max(d.y,6);if(this.position.distanceTo(d)<.5)this.currentPathIndex++,this.currentPathIndex>=this.pathPoints.length&&(this.pathLoop?this.currentPathIndex=0:(this.pathPoints.reverse(),this.currentPathIndex=1));else{const p=new le().subVectors(d,this.position).normalize();if(this.velocity.copy(p.multiplyScalar(this.speed)),this.position.add(this.velocity.clone().multiplyScalar(s)),r){const y=r(this.position.x,this.position.z);this.position.y=y+6}else this.position.y=Math.max(this.position.y,6)}}checkPlayerProximity(s){const r=this.position.distanceTo(s),u=this.isPlayerNearby;return this.isPlayerNearby=r<=this.interactionRadius,this.isPlayerNearby&&!u&&this.generateDialogue(),this.isPlayerNearby}getDialogue(){return this.isPlayerNearby?this.currentDialogue:""}}function Y0(f,s,r=null){if(!f)return null;const u=new L0({id:f.id,positionX:f.positionX||0,positionY:f.positionY||0,positionZ:f.positionZ||0,movementType:f.movementType||"stationary",speed:f.speed||2,wanderRadius:f.wanderRadius||10,wanderCenterX:f.wanderCenterX||f.positionX||0,wanderCenterY:f.wanderCenterY||f.positionY||0,wanderCenterZ:f.wanderCenterZ||f.positionZ||0,pathPoints:f.pathPoints||[],interactionRadius:f.interactionRadius||10,dialogueWords:f.dialogueWords||[],dialogueLength:f.dialogueLength||5});if(r){const g=At(u.position.x,u.position.z,r);u.position.y=g+6}else u.position.y=Math.max(u.position.y,6);const d=new Pn;d.name=`npc-${u.id}`,d.position.copy(u.position);const m=f.size||3.5,p=Qt(16777215,{rimIntensity:.25}),y=new Jl(m,m,m),v=new lt(y,p);return v.position.set(0,0,0),v.castShadow=!1,v.receiveShadow=!1,d.add(v),d.userData.npc=u,d.userData.npcId=u.id,d.userData.dialogue="",s.add(d),{group:d,npc:u}}function q0(f,s,r,u=null,d=0){if(!f||f.length===0)return;const m=u?(p,y)=>At(p,y,u):null;f.forEach(({npc:p,group:y})=>{if(!p||!y)return;p.updateMovement(s,m);let v=p.position.y;if(m){const w=m(p.position.x,p.position.z);v=Math.max(p.position.y,w+6)}y.position.set(p.position.x,v,p.position.z);const g=y.children[0];if(g&&g.isMesh){const w=Math.sin(d*.4+p.id.charCodeAt(0))*.8;y.position.y+=w;const x=.5+p.id.charCodeAt(0)%10*.1;y.rotation.y=d*x}r&&(p.checkPlayerProximity(r),y.userData.dialogue=p.getDialogue())})}const G0={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class ys{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const X0=new Ip(-1,1,1,-1,0,1);class Z0 extends e0{constructor(){super(),this.setAttribute("position",new $d([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new $d([0,2,0,0,2,0],2))}}const Q0=new Z0;class V0{constructor(s){this._mesh=new lt(Q0,s)}dispose(){this._mesh.geometry.dispose()}render(s){s.render(this._mesh,X0)}get material(){return this._mesh.material}set material(s){this._mesh.material=s}}class Ku extends ys{constructor(s,r="tDiffuse"){super(),this.textureID=r,this.uniforms=null,this.material=null,s instanceof Fn?(this.uniforms=s.uniforms,this.material=s):s&&(this.uniforms=t0.clone(s.uniforms),this.material=new Fn({name:s.name!==void 0?s.name:"unspecified",defines:Object.assign({},s.defines),uniforms:this.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader})),this._fsQuad=new V0(this.material)}render(s,r,u){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=u.texture),this._fsQuad.material=this.material,this.renderToScreen?(s.setRenderTarget(null),this._fsQuad.render(s)):(s.setRenderTarget(r),this.clear&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),this._fsQuad.render(s))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class ch extends ys{constructor(s,r){super(),this.scene=s,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(s,r,u){const d=s.getContext(),m=s.state;m.buffers.color.setMask(!1),m.buffers.depth.setMask(!1),m.buffers.color.setLocked(!0),m.buffers.depth.setLocked(!0);let p,y;this.inverse?(p=0,y=1):(p=1,y=0),m.buffers.stencil.setTest(!0),m.buffers.stencil.setOp(d.REPLACE,d.REPLACE,d.REPLACE),m.buffers.stencil.setFunc(d.ALWAYS,p,4294967295),m.buffers.stencil.setClear(y),m.buffers.stencil.setLocked(!0),s.setRenderTarget(u),this.clear&&s.clear(),s.render(this.scene,this.camera),s.setRenderTarget(r),this.clear&&s.clear(),s.render(this.scene,this.camera),m.buffers.color.setLocked(!1),m.buffers.depth.setLocked(!1),m.buffers.color.setMask(!0),m.buffers.depth.setMask(!0),m.buffers.stencil.setLocked(!1),m.buffers.stencil.setFunc(d.EQUAL,1,4294967295),m.buffers.stencil.setOp(d.KEEP,d.KEEP,d.KEEP),m.buffers.stencil.setLocked(!0)}}class K0 extends ys{constructor(){super(),this.needsSwap=!1}render(s){s.state.buffers.stencil.setLocked(!1),s.state.buffers.stencil.setTest(!1)}}class J0{constructor(s,r){if(this.renderer=s,this._pixelRatio=s.getPixelRatio(),r===void 0){const u=s.getSize(new vs);this._width=u.width,this._height=u.height,r=new a0(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:n0}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ku(G0),this.copyPass.material.blending=l0,this.clock=new i0}swapBuffers(){const s=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=s}addPass(s){this.passes.push(s),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(s,r){this.passes.splice(r,0,s),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(s){const r=this.passes.indexOf(s);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(s){for(let r=s+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(s){s===void 0&&(s=this.clock.getDelta());const r=this.renderer.getRenderTarget();let u=!1;for(let d=0,m=this.passes.length;d<m;d++){const p=this.passes[d];if(p.enabled!==!1){if(p.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(d),p.render(this.renderer,this.writeBuffer,this.readBuffer,s,u),p.needsSwap){if(u){const y=this.renderer.getContext(),v=this.renderer.state.buffers.stencil;v.setFunc(y.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,s),v.setFunc(y.EQUAL,1,4294967295)}this.swapBuffers()}ch!==void 0&&(p instanceof ch?u=!0:p instanceof K0&&(u=!1))}}this.renderer.setRenderTarget(r)}reset(s){if(s===void 0){const r=this.renderer.getSize(new vs);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,s=this.renderTarget1.clone(),s.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=s,this.renderTarget2=s.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(s,r){this._width=s,this._height=r;const u=this._width*this._pixelRatio,d=this._height*this._pixelRatio;this.renderTarget1.setSize(u,d),this.renderTarget2.setSize(u,d);for(let m=0;m<this.passes.length;m++)this.passes[m].setSize(u,d)}setPixelRatio(s){this._pixelRatio=s,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class k0 extends ys{constructor(s,r,u=null,d=null,m=null){super(),this.scene=s,this.camera=r,this.overrideMaterial=u,this.clearColor=d,this.clearAlpha=m,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Ft}render(s,r,u){const d=s.autoClear;s.autoClear=!1;let m,p;this.overrideMaterial!==null&&(p=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(s.getClearColor(this._oldClearColor),s.setClearColor(this.clearColor,s.getClearAlpha())),this.clearAlpha!==null&&(m=s.getClearAlpha(),s.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&s.clearDepth(),s.setRenderTarget(this.renderToScreen?null:u),this.clear===!0&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),s.render(this.scene,this.camera),this.clearColor!==null&&s.setClearColor(this._oldClearColor),this.clearAlpha!==null&&s.setClearAlpha(m),this.overrideMaterial!==null&&(this.scene.overrideMaterial=p),s.autoClear=d}}const W0={name:"FXAAShader",uniforms:{tDiffuse:{value:null},resolution:{value:new vs(1/1024,1/512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec2 resolution;
		varying vec2 vUv;

		#define EDGE_STEP_COUNT 6
		#define EDGE_GUESS 8.0
		#define EDGE_STEPS 1.0, 1.5, 2.0, 2.0, 2.0, 4.0
		const float edgeSteps[EDGE_STEP_COUNT] = float[EDGE_STEP_COUNT]( EDGE_STEPS );

		float _ContrastThreshold = 0.0312;
		float _RelativeThreshold = 0.063;
		float _SubpixelBlending = 1.0;

		vec4 Sample( sampler2D  tex2D, vec2 uv ) {

			return texture( tex2D, uv );

		}

		float SampleLuminance( sampler2D tex2D, vec2 uv ) {

			return dot( Sample( tex2D, uv ).rgb, vec3( 0.3, 0.59, 0.11 ) );

		}

		float SampleLuminance( sampler2D tex2D, vec2 texSize, vec2 uv, float uOffset, float vOffset ) {

			uv += texSize * vec2(uOffset, vOffset);
			return SampleLuminance(tex2D, uv);

		}

		struct LuminanceData {

			float m, n, e, s, w;
			float ne, nw, se, sw;
			float highest, lowest, contrast;

		};

		LuminanceData SampleLuminanceNeighborhood( sampler2D tex2D, vec2 texSize, vec2 uv ) {

			LuminanceData l;
			l.m = SampleLuminance( tex2D, uv );
			l.n = SampleLuminance( tex2D, texSize, uv,  0.0,  1.0 );
			l.e = SampleLuminance( tex2D, texSize, uv,  1.0,  0.0 );
			l.s = SampleLuminance( tex2D, texSize, uv,  0.0, -1.0 );
			l.w = SampleLuminance( tex2D, texSize, uv, -1.0,  0.0 );

			l.ne = SampleLuminance( tex2D, texSize, uv,  1.0,  1.0 );
			l.nw = SampleLuminance( tex2D, texSize, uv, -1.0,  1.0 );
			l.se = SampleLuminance( tex2D, texSize, uv,  1.0, -1.0 );
			l.sw = SampleLuminance( tex2D, texSize, uv, -1.0, -1.0 );

			l.highest = max( max( max( max( l.n, l.e ), l.s ), l.w ), l.m );
			l.lowest = min( min( min( min( l.n, l.e ), l.s ), l.w ), l.m );
			l.contrast = l.highest - l.lowest;
			return l;

		}

		bool ShouldSkipPixel( LuminanceData l ) {

			float threshold = max( _ContrastThreshold, _RelativeThreshold * l.highest );
			return l.contrast < threshold;

		}

		float DeterminePixelBlendFactor( LuminanceData l ) {

			float f = 2.0 * ( l.n + l.e + l.s + l.w );
			f += l.ne + l.nw + l.se + l.sw;
			f *= 1.0 / 12.0;
			f = abs( f - l.m );
			f = clamp( f / l.contrast, 0.0, 1.0 );

			float blendFactor = smoothstep( 0.0, 1.0, f );
			return blendFactor * blendFactor * _SubpixelBlending;

		}

		struct EdgeData {

			bool isHorizontal;
			float pixelStep;
			float oppositeLuminance, gradient;

		};

		EdgeData DetermineEdge( vec2 texSize, LuminanceData l ) {

			EdgeData e;
			float horizontal =
				abs( l.n + l.s - 2.0 * l.m ) * 2.0 +
				abs( l.ne + l.se - 2.0 * l.e ) +
				abs( l.nw + l.sw - 2.0 * l.w );
			float vertical =
				abs( l.e + l.w - 2.0 * l.m ) * 2.0 +
				abs( l.ne + l.nw - 2.0 * l.n ) +
				abs( l.se + l.sw - 2.0 * l.s );
			e.isHorizontal = horizontal >= vertical;

			float pLuminance = e.isHorizontal ? l.n : l.e;
			float nLuminance = e.isHorizontal ? l.s : l.w;
			float pGradient = abs( pLuminance - l.m );
			float nGradient = abs( nLuminance - l.m );

			e.pixelStep = e.isHorizontal ? texSize.y : texSize.x;

			if (pGradient < nGradient) {

				e.pixelStep = -e.pixelStep;
				e.oppositeLuminance = nLuminance;
				e.gradient = nGradient;

			} else {

				e.oppositeLuminance = pLuminance;
				e.gradient = pGradient;

			}

			return e;

		}

		float DetermineEdgeBlendFactor( sampler2D  tex2D, vec2 texSize, LuminanceData l, EdgeData e, vec2 uv ) {

			vec2 uvEdge = uv;
			vec2 edgeStep;
			if (e.isHorizontal) {

				uvEdge.y += e.pixelStep * 0.5;
				edgeStep = vec2( texSize.x, 0.0 );

			} else {

				uvEdge.x += e.pixelStep * 0.5;
				edgeStep = vec2( 0.0, texSize.y );

			}

			float edgeLuminance = ( l.m + e.oppositeLuminance ) * 0.5;
			float gradientThreshold = e.gradient * 0.25;

			vec2 puv = uvEdge + edgeStep * edgeSteps[0];
			float pLuminanceDelta = SampleLuminance( tex2D, puv ) - edgeLuminance;
			bool pAtEnd = abs( pLuminanceDelta ) >= gradientThreshold;

			for ( int i = 1; i < EDGE_STEP_COUNT && !pAtEnd; i++ ) {

				puv += edgeStep * edgeSteps[i];
				pLuminanceDelta = SampleLuminance( tex2D, puv ) - edgeLuminance;
				pAtEnd = abs( pLuminanceDelta ) >= gradientThreshold;

			}

			if ( !pAtEnd ) {

				puv += edgeStep * EDGE_GUESS;

			}

			vec2 nuv = uvEdge - edgeStep * edgeSteps[0];
			float nLuminanceDelta = SampleLuminance( tex2D, nuv ) - edgeLuminance;
			bool nAtEnd = abs( nLuminanceDelta ) >= gradientThreshold;

			for ( int i = 1; i < EDGE_STEP_COUNT && !nAtEnd; i++ ) {

				nuv -= edgeStep * edgeSteps[i];
				nLuminanceDelta = SampleLuminance( tex2D, nuv ) - edgeLuminance;
				nAtEnd = abs( nLuminanceDelta ) >= gradientThreshold;

			}

			if ( !nAtEnd ) {

				nuv -= edgeStep * EDGE_GUESS;

			}

			float pDistance, nDistance;
			if ( e.isHorizontal ) {

				pDistance = puv.x - uv.x;
				nDistance = uv.x - nuv.x;

			} else {

				pDistance = puv.y - uv.y;
				nDistance = uv.y - nuv.y;

			}

			float shortestDistance;
			bool deltaSign;
			if ( pDistance <= nDistance ) {

				shortestDistance = pDistance;
				deltaSign = pLuminanceDelta >= 0.0;

			} else {

				shortestDistance = nDistance;
				deltaSign = nLuminanceDelta >= 0.0;

			}

			if ( deltaSign == ( l.m - edgeLuminance >= 0.0 ) ) {

				return 0.0;

			}

			return 0.5 - shortestDistance / ( pDistance + nDistance );

		}

		vec4 ApplyFXAA( sampler2D  tex2D, vec2 texSize, vec2 uv ) {

			LuminanceData luminance = SampleLuminanceNeighborhood( tex2D, texSize, uv );
			if ( ShouldSkipPixel( luminance ) ) {

				return Sample( tex2D, uv );

			}

			float pixelBlend = DeterminePixelBlendFactor( luminance );
			EdgeData edge = DetermineEdge( texSize, luminance );
			float edgeBlend = DetermineEdgeBlendFactor( tex2D, texSize, luminance, edge, uv );
			float finalBlend = max( pixelBlend, edgeBlend );

			if (edge.isHorizontal) {

				uv.y += edge.pixelStep * finalBlend;

			} else {

				uv.x += edge.pixelStep * finalBlend;

			}

			return Sample( tex2D, uv );

		}

		void main() {

			gl_FragColor = ApplyFXAA( tDiffuse, resolution.xy, vUv );

		}`};function F0(f,s,r){const u=new J0(f),d=new vs;f.getSize(d);const m=new k0(s,r);u.addPass(m);const p=new Ku({uniforms:{tDiffuse:{value:null},saturation:{value:1.005},contrast:{value:1.002},brightness:{value:1},vignetteOffset:{value:1.5},vignetteDarkness:{value:.01}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float saturation;
      uniform float contrast;
      uniform float brightness;
      uniform float vignetteOffset;
      uniform float vignetteDarkness;
      varying vec2 vUv;
      
      void main() {
        vec4 texel = texture2D(tDiffuse, vUv);
        vec3 color = texel.rgb;
        
        // Brightness
        color *= brightness;
        
        // Contrast
        color = (color - 0.5) * contrast + 0.5;
        
        // Saturation
        float gray = dot(color, vec3(0.299, 0.587, 0.114));
        color = mix(vec3(gray), color, saturation);
        
        // Vignette (combined with color grading)
        vec2 uv = (vUv - vec2(0.5)) * vec2(vignetteOffset);
        float vignette = 1.0 - smoothstep(0.0, 0.7, dot(uv, uv));
        vignette = mix(1.0, 1.0 - vignetteDarkness, vignette);
        color *= vignette;
        
        gl_FragColor = vec4(color, texel.a);
      }
    `});u.addPass(p);const y=new Ku(W0),v=f.getPixelRatio();y.material.uniforms.resolution.value.x=1/(d.x*v),y.material.uniforms.resolution.value.y=1/(d.y*v),u.addPass(y);const g=()=>{f.getSize(d),u.setSize(d.x,d.y),y.material.uniforms.resolution.value.x=1/(d.x*v),y.material.uniforms.resolution.value.y=1/(d.y*v)};return window.addEventListener("resize",g),{composer:u,dispose:()=>{window.removeEventListener("resize",g),u.dispose()}}}function Zu(f,s=20){if(!f||!f.geometry)return 0;const r=f.geometry.getAttribute("position");if(!r)return 0;const u=r.array,d=r.count;let m=0,p=0;for(let v=0;v<d;v+=10){const g=v*3,w=u[g+1];p++,w>s+12&&m++}if(p===0)return 0;const y=m/p;return Math.max(0,Math.min(1,y))}function P0({isAuthorMode:f,terrainConfig:s,flockingConfig:r,plantConfigs:u=[],buildingConfigs:d=[],flowerConfigs:m=[],npcConfigs:p=[],onPlayerDataUpdate:y,onConsoleMessage:v}){const g=q.useRef(null),w=q.useRef(null),x=q.useRef(null),S=q.useRef(null),b=q.useRef(null),z=q.useRef(null),j=q.useRef(null),T=q.useRef(null),Q=q.useRef(null),V=q.useRef([]),K=q.useRef([]),L=q.useRef([]),U=q.useRef([]);q.useRef(null);const J=q.useRef({position:{x:0,y:0,z:0},terrainHeight:0}),ee=q.useRef(0),he=q.useRef(y),_=q.useRef(v),ie=q.useRef([]),F=q.useRef(""),re=q.useRef(0),ze=q.useRef(f);q.useEffect(()=>{ze.current=f},[f]),q.useEffect(()=>{he.current=y},[y]),q.useEffect(()=>{_.current=v},[v]);const ge=q.useRef(null);q.useEffect(()=>{ge.current=s},[s]),q.useEffect(()=>{const G=g.current;if(!G)return;const{scene:Z,camera:P,renderer:ae,water:me,terrain:fe,sky:ue}=z0(G,s);b.current=Z,w.current=P,S.current=fe,z.current=ue,j.current=me;const de=F0(ae,Z,P);T.current=de,setTimeout(()=>{if(ue?.material?.uniforms?.terrainComposition&&fe){const Xe=s?.waterHeight??20,We=Zu(fe,Xe);ue.material.uniforms.terrainComposition.value=We}},50);const Ve=D0(P);if(x.current=Ve,Z.add(Ve),he.current&&Ve){const Xe=Ve.position,We={position:{x:Xe.x.toFixed(1),y:Xe.y.toFixed(1),z:Xe.z.toFixed(1)},terrainHeight:Xe.y.toFixed(1)};he.current(We)}_.current&&_.current([]);let et=performance.now();const St=()=>{requestAnimationFrame(St);const Xe=performance.now(),We=(Xe-et)/1e3;et=Xe;const Vt=performance.now()/1e3;we.current&&we.current(We);const I=performance.now();if(x.current&&I-ee.current>100){const se=x.current.position;let X=0;if(ge.current)try{X=At(se.x,se.z,ge.current)}catch{X=se.y}else X=se.y;const k={position:{x:se.x.toFixed(1),y:se.y.toFixed(1),z:se.z.toFixed(1)},terrainHeight:X.toFixed(1)};J.current=k,ee.current=I,he.current&&he.current(k)}if(!ze.current&&(me?.material?.uniforms?.time&&(me.material.uniforms.time.value=Vt),z.current?.material?.uniforms?.time&&(z.current.material.uniforms.time.value=Vt),fe?.material?.uniforms?.time&&(fe.material.uniforms.time.value=Vt),z.current?.material?.uniforms?.terrainComposition&&S.current)){const se=performance.now();if(se-re.current>2e3){const X=ge.current?.waterHeight??20,k=Zu(S.current,X);z.current.material.uniforms.terrainComposition.value=k,re.current=se}}if(Q.current&&Q.current.update(We,ge.current,K.current),U.current.length>0&&x.current&&w.current){const se=x.current.position;q0(U.current,We,se,ge.current,Vt);let X=null;for(let k=0;k<U.current.length;k++){const te=U.current[k];if(te?.group?.userData?.dialogue&&te.group.userData.dialogue.length>0){X=te;break}}if(X&&X.group){const k=X.group.userData.dialogue;if(k!==F.current&&k.length>0){F.current=k;const te=`"${k}"`;ie.current=[te],_.current&&_.current([...ie.current])}}else F.current!==""&&(F.current="",ie.current=[],_.current&&_.current([]))}T.current?.composer?T.current.composer.render():ae.render(Z,P)};return St(),()=>{T.current?.dispose&&(T.current.dispose(),T.current=null),ae?.domElement&&G.contains(ae.domElement)&&G.removeChild(ae.domElement)}},[]);const we=j0(x,w,ze,ge);q.useEffect(()=>{if(!s||!S.current)return;S0(S.current,s);const G=s.waterHeight??0;j.current&&(j.current.position.y=G),S.current?.material?.uniforms?.waterHeight&&(S.current.material.uniforms.waterHeight.value=G),z.current?.material?.uniforms?.terrainComposition&&S.current&&setTimeout(()=>{const Z=Zu(S.current,G);z.current.material.uniforms.terrainComposition.value=Z},100)},[s]),q.useEffect(()=>{const G=b.current;if(G){if(Q.current&&(Q.current.dispose(),Q.current=null),r){const Z=A0(r,G,ge.current,K.current);Q.current=Z}return()=>{Q.current&&(Q.current.dispose(),Q.current=null)}}},[r]),q.useEffect(()=>{Q.current&&r&&Q.current.updateConfig(r)},[r]),q.useEffect(()=>{const G=b.current;if(G)return V.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),V.current=[],u.forEach(Z=>{if(!Z.lsystem)return;let P=0;ge.current&&(P=At(Z.positionX,Z.positionZ,ge.current));const ae={...Z,positionY:P},me=H0(ae,G);me&&V.current.push(me)}),()=>{V.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),V.current=[]}},[u]),q.useEffect(()=>{const G=b.current;if(G)return K.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),K.current=[],d.forEach(Z=>{if(!Z.grammar)return;let P=0;ge.current&&(P=At(Z.positionX,Z.positionZ,ge.current));const ae={...Z,positionX:Z.positionX,positionY:P,positionZ:Z.positionZ},me=B0(ae,G);me&&K.current.push(me)}),Q.current?.invalidateBuildingCache&&Q.current.invalidateBuildingCache(),()=>{K.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),K.current=[]}},[d]),q.useEffect(()=>{const G=b.current;if(G)return L.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),L.current=[],m.forEach(Z=>{const P=ge.current||null,ae=_0(Z,G,P);ae&&L.current.push(ae)}),()=>{L.current.forEach(Z=>{Z&&Z.dispose&&Z.dispose()}),L.current=[]}},[m]),q.useEffect(()=>{const G=b.current;if(!G)return;U.current.forEach(({group:P})=>{P&&P.parent&&P.parent.remove(P)}),U.current=[];const Z=ge.current||null;return p.forEach(P=>{const ae=Y0(P,G,Z);ae&&U.current.push(ae)}),()=>{U.current.forEach(({group:P})=>{P&&P.parent&&P.parent.remove(P)}),U.current=[]}},[p]);const O=()=>{ze.current||document.body.requestPointerLock()};return o.jsx(o.Fragment,{children:o.jsx("div",{ref:g,style:{width:"100vw",height:"100vh",position:"absolute",inset:0,zIndex:1},onClick:O})})}const $0=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I0=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,u)=>u?u.toUpperCase():r.toLowerCase()),rh=f=>{const s=I0(f);return s.charAt(0).toUpperCase()+s.slice(1)},yh=(...f)=>f.filter((s,r,u)=>!!s&&s.trim()!==""&&u.indexOf(s)===r).join(" ").trim(),ev=f=>{for(const s in f)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var tv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const av=q.forwardRef(({color:f="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:u,className:d="",children:m,iconNode:p,...y},v)=>q.createElement("svg",{ref:v,...tv,width:s,height:s,stroke:f,strokeWidth:u?Number(r)*24/Number(s):r,className:yh("lucide",d),...!m&&!ev(y)&&{"aria-hidden":"true"},...y},[...p.map(([g,w])=>q.createElement(g,w)),...Array.isArray(m)?m:[m]]));const bs=(f,s)=>{const r=q.forwardRef(({className:u,...d},m)=>q.createElement(av,{ref:m,iconNode:s,className:yh(`lucide-${$0(rh(f))}`,`lucide-${f}`,u),...d}));return r.displayName=rh(f),r};const nv=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],lv=bs("network",nv);const iv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sv=bs("users",iv);const ov=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],uv=bs("waves",ov);const cv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rv=bs("zap",cv),fv=[{id:"noiseHeightfields",label:"Noise & Heightfields",icon:uv},{id:"simulationNatural",label:"Simulations & Systems",icon:rv},{id:"structuralGenerative",label:"Structures & Grammars",icon:lv},{id:"agentBehavior",label:"Agent & Entities",icon:sv}];function dv({activeDomain:f,setActiveDomain:s,onAddTerrainNode:r,onAddPerlinNoise:u,onAddVoronoiNoise:d,onAddRidgeNoise:m,onAddSimplexNoise:p,onAddAgentNode:y,onAddFlockingNode:v,onAddNPCNode:g,onAddLSystemNode:w,onAddPlantNode:x,onAddFlowerNode:S,onAddShapeGrammarNode:b,onAddMarkovChainNode:z,onAddParametricCurveNode:j,onAddBuildingNode:T,onAddCellularAutomataNode:Q,onAddParticleSystemNode:V,onAddWavePropagationNode:K}){return o.jsxs("aside",{className:"author-sidebar",children:[o.jsxs("div",{className:"domain-section-shell",children:[o.jsxs("div",{className:"author-sidebar-header",children:[o.jsx("div",{className:"author-sidebar-title",children:"World Builder"}),o.jsx("div",{className:"author-sidebar-subtitle",children:"Select what you're editing."})]}),o.jsx("div",{className:"domain-tab-container",children:fv.map(L=>o.jsxs("button",{className:`domain-tab ${f===L.id?"active":""}`,onClick:()=>s(L.id),children:[o.jsx(L.icon,{size:16,strokeWidth:1.75,className:"domain-tab-icon"}),L.label]},L.id))})]}),o.jsx("div",{className:"domain-section-shell preset-shell-full",children:o.jsxs("div",{className:"preset-library",children:[o.jsx("div",{className:"preset-library-title",children:"Node List"}),o.jsxs("div",{className:"preset-library-list",children:[f==="noiseHeightfields"&&o.jsxs("div",{className:"preset-node-list",children:[o.jsx("button",{className:"preset-node-item",onClick:u,children:"Add Perlin Noise Node"}),o.jsx("button",{className:"preset-node-item",onClick:d,children:"Add Voronoi Noise Node"}),o.jsx("button",{className:"preset-node-item",onClick:m,children:"Add Ridge Noise Node"}),o.jsx("button",{className:"preset-node-item",onClick:p,children:"Add Simplex Noise Node"})]}),f==="simulationNatural"&&o.jsxs("div",{className:"preset-node-list",children:[o.jsx("button",{className:"preset-node-item",onClick:v,children:"Add Flocking Behavior Node"}),o.jsx("button",{className:"preset-node-item",onClick:Q,children:"Add Cellular Automata Node"}),o.jsx("button",{className:"preset-node-item",onClick:V,children:"Add Particle System Node"}),o.jsx("button",{className:"preset-node-item",onClick:K,children:"Add Wave Propagation Node"})]}),f==="structuralGenerative"&&o.jsxs("div",{className:"preset-node-list",children:[o.jsx("button",{className:"preset-node-item",onClick:w,children:"Add L-System Node"}),o.jsx("button",{className:"preset-node-item",onClick:b,children:"Add Shape Grammar Node"}),o.jsx("button",{className:"preset-node-item",onClick:z,children:"Add Markov Chain Node"}),o.jsx("button",{className:"preset-node-item",onClick:j,children:"Add Parametric Curve Node"})]}),f==="agentBehavior"&&o.jsxs("div",{className:"preset-node-list",children:[o.jsx("button",{className:"preset-node-item",onClick:r,children:"Add Terrain Node"}),o.jsx("button",{className:"preset-node-item",onClick:y,children:"Add Boids Node"}),o.jsx("button",{className:"preset-node-item",onClick:g,children:"Add NPC Node"}),o.jsx("button",{className:"preset-node-item",onClick:x,children:"Add Plant Node"}),o.jsx("button",{className:"preset-node-item",onClick:S,children:"Add Flower Node"}),o.jsx("button",{className:"preset-node-item",onClick:T,children:"Add Building Node"})]})]})]})})]})}function hv({nodes:f,edges:s,nodeTypes:r,onNodesChange:u,onEdgesChange:d,onConnect:m,onSelectionChange:p}){return o.jsx("main",{className:"author-main",children:o.jsx("div",{className:"author-main-inner",children:o.jsx("div",{className:"author-flow-wrapper",children:o.jsxs(Up,{nodes:f,edges:s,nodeTypes:r,onNodesChange:u,onEdgesChange:d,onConnect:m,onSelectionChange:p,className:"author-flow",deleteKeyCode:["Backspace","Delete"],multiSelectionKeyCode:["Meta","Control"],children:[o.jsx(Bp,{}),o.jsx(_p,{})]})})})})}function mv({id:f,data:s}){const{label:r="Perlin Noise",seed:u=42,scale:d=.05,octaves:m=4,persistence:p=.5,amplitude:y=10,frequency:v=1,onChange:g,onOutput:w}=s||{},x=b=>g?.({...s,...b}),S=b=>b.stopPropagation();return q.useEffect(()=>{rt.init(u);const b=rt.noise2D(u*d,u*d);w?.({id:f,type:"perlinNoise",value:b,seed:u,scale:d,octaves:m,persistence:p,amplitude:y,frequency:v})},[f,u,d,m,p,y,v,w]),o.jsxs("div",{className:"node-default node-perlin",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Seed"}),o.jsx("input",{className:"node-param-input",type:"number",value:u,onPointerDown:S,onMouseDown:S,onChange:b=>x({seed:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Scale"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.001",value:d,onPointerDown:S,onMouseDown:S,onChange:b=>x({scale:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Octaves"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:8,value:m,onPointerDown:S,onMouseDown:S,onChange:b=>x({octaves:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Persistence"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",value:p,onPointerDown:S,onMouseDown:S,onChange:b=>x({persistence:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Amplitude"}),o.jsx("input",{className:"node-param-input",type:"number",value:y,onPointerDown:S,onMouseDown:S,onChange:b=>x({amplitude:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Frequency"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:v,onPointerDown:S,onMouseDown:S,onChange:b=>x({frequency:Number(b.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Perlin Noise "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function pv({id:f,data:s}){const{label:r="Voronoi Noise",seed:u=42,scale:d=.1,octaves:m=4,persistence:p=.5,amplitude:y=10,mode:v="f1",onChange:g,onOutput:w}=s||{},x=b=>g?.({...s,...b}),S=b=>b.stopPropagation();return q.useEffect(()=>{const b=mh.noise2DFractal(u*d,u*d,d,m,p,u,v);w?.({id:f,type:"voronoiNoise",value:b,seed:u,scale:d,octaves:m,persistence:p,amplitude:y,mode:v})},[f,u,d,m,p,y,v,w]),o.jsxs("div",{className:"node-default node-voronoi",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Seed"}),o.jsx("input",{className:"node-param-input",type:"number",value:u,onPointerDown:S,onMouseDown:S,onChange:b=>x({seed:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Scale"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.001",value:d,onPointerDown:S,onMouseDown:S,onChange:b=>x({scale:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Octaves"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:8,value:m,onPointerDown:S,onMouseDown:S,onChange:b=>x({octaves:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Persistence"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",value:p,onPointerDown:S,onMouseDown:S,onChange:b=>x({persistence:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Amplitude"}),o.jsx("input",{className:"node-param-input",type:"number",value:y,onPointerDown:S,onMouseDown:S,onChange:b=>x({amplitude:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Mode"}),o.jsxs("select",{className:"node-param-input",value:v,onPointerDown:S,onMouseDown:S,onChange:b=>x({mode:b.target.value}),children:[o.jsx("option",{value:"f1",children:"F1 (Distance)"}),o.jsx("option",{value:"f2",children:"F2 (Second Distance)"}),o.jsx("option",{value:"f2MinusF1",children:"F2-F1 (Ridge)"})]})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Voronoi Noise "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function vv({id:f,data:s}){const{label:r="Ridge Noise",seed:u=42,scale:d=.05,octaves:m=4,persistence:p=.5,amplitude:y=10,offset:v=0,power:g=2,onChange:w,onOutput:x}=s||{},S=z=>w?.({...s,...z}),b=z=>z.stopPropagation();return q.useEffect(()=>{const z=Qu.noise2DFractal(u*d,u*d,d,m,p,v,g);x?.({id:f,type:"ridgeNoise",value:z,seed:u,scale:d,octaves:m,persistence:p,amplitude:y,offset:v,power:g})},[f,u,d,m,p,y,v,g,x]),o.jsxs("div",{className:"node-default node-ridge-noise",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Seed"}),o.jsx("input",{className:"node-param-input",type:"number",value:u,onPointerDown:b,onMouseDown:b,onChange:z=>S({seed:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Scale"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.001",value:d,onPointerDown:b,onMouseDown:b,onChange:z=>S({scale:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Octaves"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:8,value:m,onPointerDown:b,onMouseDown:b,onChange:z=>S({octaves:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Persistence"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",value:p,onPointerDown:b,onMouseDown:b,onChange:z=>S({persistence:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Amplitude"}),o.jsx("input",{className:"node-param-input",type:"number",value:y,onPointerDown:b,onMouseDown:b,onChange:z=>S({amplitude:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Offset"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",value:v,onPointerDown:b,onMouseDown:b,onChange:z=>S({offset:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Power"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:g,onPointerDown:b,onMouseDown:b,onChange:z=>S({power:Number(z.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Ridge Noise "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function gv({id:f,data:s}){const{label:r="Simplex Noise",seed:u=42,scale:d=.05,octaves:m=4,persistence:p=.5,amplitude:y=10,zOffset:v=0,onChange:g,onOutput:w}=s||{},x=b=>g?.({...s,...b}),S=b=>b.stopPropagation();return q.useEffect(()=>{const b=Vu.noise3DFractal(u*d,u*d,v,m,p,d);w?.({id:f,type:"simplexNoise",value:b,seed:u,scale:d,octaves:m,persistence:p,amplitude:y,zOffset:v})},[f,u,d,m,p,y,v,w]),o.jsxs("div",{className:"node-default node-simplex",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Seed"}),o.jsx("input",{className:"node-param-input",type:"number",value:u,onPointerDown:S,onMouseDown:S,onChange:b=>x({seed:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Scale"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.001",value:d,onPointerDown:S,onMouseDown:S,onChange:b=>x({scale:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Octaves"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:8,value:m,onPointerDown:S,onMouseDown:S,onChange:b=>x({octaves:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Persistence"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",value:p,onPointerDown:S,onMouseDown:S,onChange:b=>x({persistence:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Amplitude"}),o.jsx("input",{className:"node-param-input",type:"number",value:y,onPointerDown:S,onMouseDown:S,onChange:b=>x({amplitude:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Z Offset"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:v,onPointerDown:S,onMouseDown:S,onChange:b=>x({zOffset:Number(b.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Simplex Noise "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function yv({id:f,data:s}){const{label:r="Flocking Behavior",separation:u=1.5,alignment:d=1,cohesion:m=1,separationRadius:p=2,neighborRadius:y=5,maxSpeed:v=5,maxForce:g=.1,boundsWidth:w=50,boundsDepth:x=50,planeHeight:S=50,onChange:b,onOutput:z}=s||{},j=Q=>b?.({...s,...Q}),T=Q=>Q.stopPropagation();return q.useEffect(()=>{z?.({id:f,type:"flockingBehavior",separation:u,alignment:d,cohesion:m,separationRadius:p,neighborRadius:y,maxSpeed:v,maxForce:g,boundsWidth:w,boundsDepth:x,planeHeight:S})},[f,u,d,m,p,y,v,g,w,x,S,z]),o.jsxs("div",{className:"node-default node-flocking",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Separation"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:u,onPointerDown:T,onMouseDown:T,onChange:Q=>j({separation:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Alignment"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:d,onPointerDown:T,onMouseDown:T,onChange:Q=>j({alignment:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Cohesion"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:m,onPointerDown:T,onMouseDown:T,onChange:Q=>j({cohesion:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Sep. Radius"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:p,onPointerDown:T,onMouseDown:T,onChange:Q=>j({separationRadius:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Neighbor Radius"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:y,onPointerDown:T,onMouseDown:T,onChange:Q=>j({neighborRadius:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Max Speed"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:v,onPointerDown:T,onMouseDown:T,onChange:Q=>j({maxSpeed:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Plane Height"}),o.jsx("input",{className:"node-param-input",type:"number",step:"1",value:S,onPointerDown:T,onMouseDown:T,onChange:Q=>j({planeHeight:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Bounds Width"}),o.jsx("input",{className:"node-param-input",type:"number",step:"1",value:w,onPointerDown:T,onMouseDown:T,onChange:Q=>j({boundsWidth:Number(Q.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Bounds Depth"}),o.jsx("input",{className:"node-param-input",type:"number",step:"1",value:x,onPointerDown:T,onMouseDown:T,onChange:Q=>j({boundsDepth:Number(Q.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Behavior "}),o.jsx(Be,{type:"source",position:_e.Right,id:"behavior",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function bv({id:f,data:s}){const{label:r="Cellular Automata",width:u=100,height:d=100,surviveMin:m=2,surviveMax:p=3,birthMin:y=3,birthMax:v=3,onChange:g,onOutput:w}=s||{},x=b=>g?.({...s,...b}),S=b=>b.stopPropagation();return q.useEffect(()=>{w?.({id:f,type:"cellularAutomata",width:u,height:d,surviveMin:m,surviveMax:p,birthMin:y,birthMax:v})},[f,u,d,m,p,y,v,w]),o.jsxs("div",{className:"node-default node-cellular-automata",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Grid Width"}),o.jsx("input",{className:"node-param-input",type:"number",min:10,max:500,value:u,onPointerDown:S,onMouseDown:S,onChange:b=>x({width:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Grid Height"}),o.jsx("input",{className:"node-param-input",type:"number",min:10,max:500,value:d,onPointerDown:S,onMouseDown:S,onChange:b=>x({height:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Survive Min"}),o.jsx("input",{className:"node-param-input",type:"number",min:0,max:8,value:m,onPointerDown:S,onMouseDown:S,onChange:b=>x({surviveMin:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Survive Max"}),o.jsx("input",{className:"node-param-input",type:"number",min:0,max:8,value:p,onPointerDown:S,onMouseDown:S,onChange:b=>x({surviveMax:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Birth Min"}),o.jsx("input",{className:"node-param-input",type:"number",min:0,max:8,value:y,onPointerDown:S,onMouseDown:S,onChange:b=>x({birthMin:Number(b.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Birth Max"}),o.jsx("input",{className:"node-param-input",type:"number",min:0,max:8,value:v,onPointerDown:S,onMouseDown:S,onChange:b=>x({birthMax:Number(b.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Cellular Automata "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function xv({id:f,data:s}){const{label:r="Particle System",maxParticles:u=1e3,spawnRate:d=10,gravityX:m=0,gravityY:p=-9.8,gravityZ:y=0,windX:v=0,windY:g=0,windZ:w=0,spawnX:x=0,spawnY:S=50,spawnZ:b=0,spawnSizeX:z=10,spawnSizeY:j=5,spawnSizeZ:T=10,lifetime:Q=5,onChange:V,onOutput:K}=s||{},L=J=>V?.({...s,...J}),U=J=>J.stopPropagation();return q.useEffect(()=>{K?.({id:f,type:"particleSystem",maxParticles:u,spawnRate:d,gravityX:m,gravityY:p,gravityZ:y,windX:v,windY:g,windZ:w,spawnX:x,spawnY:S,spawnZ:b,spawnSizeX:z,spawnSizeY:j,spawnSizeZ:T,lifetime:Q})},[f,u,d,m,p,y,v,g,w,x,S,b,z,j,T,Q,K]),o.jsxs("div",{className:"node-default node-particle-system",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Max Particles"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:1e4,value:u,onPointerDown:U,onMouseDown:U,onChange:J=>L({maxParticles:Number(J.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Spawn Rate"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:d,onPointerDown:U,onMouseDown:U,onChange:J=>L({spawnRate:Number(J.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Gravity Y"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:p,onPointerDown:U,onMouseDown:U,onChange:J=>L({gravityY:Number(J.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Wind X"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:v,onPointerDown:U,onMouseDown:U,onChange:J=>L({windX:Number(J.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Wind Z"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:w,onPointerDown:U,onMouseDown:U,onChange:J=>L({windZ:Number(J.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Lifetime"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:Q,onPointerDown:U,onMouseDown:U,onChange:J=>L({lifetime:Number(J.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Particle System "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Sv({id:f,data:s}){const{label:r="Wave Propagation",amplitude:u=1,speed:d=10,decayRate:m=.1,lifetime:p=5,maxWaves:y=10,onChange:v,onOutput:g}=s||{},w=S=>v?.({...s,...S}),x=S=>S.stopPropagation();return q.useEffect(()=>{g?.({id:f,type:"wavePropagation",amplitude:u,speed:d,decayRate:m,lifetime:p,maxWaves:y})},[f,u,d,m,p,y,g]),o.jsxs("div",{className:"node-default node-wave-propagation",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Amplitude"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:u,onPointerDown:x,onMouseDown:x,onChange:S=>w({amplitude:Number(S.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Speed"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:d,onPointerDown:x,onMouseDown:x,onChange:S=>w({speed:Number(S.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Decay Rate"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",min:"0",value:m,onPointerDown:x,onMouseDown:x,onChange:S=>w({decayRate:Number(S.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Lifetime"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:p,onPointerDown:x,onMouseDown:x,onChange:S=>w({lifetime:Number(S.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Max Waves"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:100,value:y,onPointerDown:x,onMouseDown:x,onChange:S=>w({maxWaves:Number(S.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Wave Propagation "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Nv({id:f,data:s}){const{label:r="Boids",count:u=10,positionX:d=0,positionY:m=50,positionZ:p=0,velocityX:y=0,velocityY:v=0,velocityZ:g=0,size:w=.3,spread:x=20,onChange:S,onOutput:b}=s||{},z=T=>S?.({...s,...T}),j=T=>T.stopPropagation();return q.useEffect(()=>{b?.({id:f,type:"agent",count:u,positionX:d,positionY:m,positionZ:p,velocityX:y,velocityY:v,velocityZ:g,size:w,spread:x})},[f,u,d,m,p,y,v,g,w,x,b]),o.jsxs("div",{className:"node-default node-agent",children:[o.jsx("div",{style:{position:"absolute",left:"-95px",top:"35px",fontSize:"11px",color:"#4a90e2",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:" Behavior"}),o.jsx(Be,{type:"target",position:_e.Left,id:"behavior",style:{top:40,width:"12px",height:"12px",background:"#4a90e2",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 144, 226, 0.6)"}}),o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Count"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:200,value:u,onPointerDown:j,onMouseDown:j,onChange:T=>z({count:Number(T.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos X"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:d,onPointerDown:j,onMouseDown:j,onChange:T=>z({positionX:Number(T.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos Y"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:m,onPointerDown:j,onMouseDown:j,onChange:T=>z({positionY:Number(T.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos Z"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:p,onPointerDown:j,onMouseDown:j,onChange:T=>z({positionZ:Number(T.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",min:"0.1",max:"2",value:w,onPointerDown:j,onMouseDown:j,onChange:T=>z({size:Number(T.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Spread"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",max:"200",value:x,onPointerDown:j,onMouseDown:j,onChange:T=>z({spread:Number(T.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-75px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Boids "}),o.jsx(Be,{type:"source",position:_e.Right,id:"agent",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function wv({id:f,data:s}){const{label:r="NPC",positionX:u=0,positionY:d=0,positionZ:m=0,movementType:p="stationary",speed:y=2,wanderRadius:v=10,wanderCenterX:g=0,wanderCenterY:w=0,wanderCenterZ:x=0,interactionRadius:S=10,dialogueWords:b="hello,world,greetings,traveler,welcome,friend",dialogueLength:z=5,color:j="#ffffff",size:T=3.5,onChange:Q,onOutput:V}=s||{},K=U=>Q?.({...s,...U}),L=U=>U.stopPropagation();return q.useEffect(()=>{const U=b.split(",").map(J=>J.trim()).filter(J=>J.length>0);V?.({id:f,type:"npc",positionX:u,positionY:d,positionZ:m,movementType:p,speed:y,wanderRadius:v,wanderCenterX:g,wanderCenterY:w,wanderCenterZ:x,interactionRadius:S,dialogueWords:U,dialogueLength:z,color:j,size:T})},[f,u,d,m,p,y,v,g,w,x,S,b,z,j,T,V]),o.jsxs("div",{className:"node-default node-npc",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Position X"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:u,onPointerDown:L,onMouseDown:L,onChange:U=>K({positionX:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Position Y"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:d,onPointerDown:L,onMouseDown:L,onChange:U=>K({positionY:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Position Z"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:m,onPointerDown:L,onMouseDown:L,onChange:U=>K({positionZ:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Movement Type"}),o.jsxs("select",{className:"node-param-input",value:p,onPointerDown:L,onMouseDown:L,onChange:U=>K({movementType:U.target.value}),children:[o.jsx("option",{value:"random",children:"Random"}),o.jsx("option",{value:"path",children:"Path"}),o.jsx("option",{value:"stationary",children:"Stationary"})]})]}),p==="random"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Speed"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:y,onPointerDown:L,onMouseDown:L,onChange:U=>K({speed:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Wander Radius"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:v,onPointerDown:L,onMouseDown:L,onChange:U=>K({wanderRadius:Number(U.target.value)})})]})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Interaction Radius"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",value:S,onPointerDown:L,onMouseDown:L,onChange:U=>K({interactionRadius:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Dialogue Words"}),o.jsx("input",{className:"node-param-input",type:"text",value:b,placeholder:"hello,world,greetings",onPointerDown:L,onMouseDown:L,onChange:U=>K({dialogueWords:U.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Dialogue Length"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:20,value:z,onPointerDown:L,onMouseDown:L,onChange:U=>K({dialogueLength:Number(U.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Color"}),o.jsx("input",{className:"node-param-input",type:"color",value:j,onPointerDown:L,onMouseDown:L,onChange:U=>K({color:U.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0.1",value:T,onPointerDown:L,onMouseDown:L,onChange:U=>K({size:Number(U.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"NPC "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function zv({id:f,data:s}){const{label:r="L-System",axiom:u="F",rule1:d="F",rule1Replacement:m="F[+F]F[-F]F",rule2:p="",rule2Replacement:y="",rule3:v="",rule3Replacement:g="",iterations:w=3,angle:x=25,stepSize:S=1,onChange:b,onOutput:z}=s||{},j=V=>b?.({...s,...V}),T=V=>V.stopPropagation(),Q={};return d&&m&&(Q[d]=m),p&&y&&(Q[p]=y),v&&g&&(Q[v]=g),q.useEffect(()=>{const K=new T0(u,Q,w).iterate();z?.({id:f,type:"lsystem",axiom:u,rules:Q,iterations:w,angle:x*Math.PI/180,stepSize:S,resultString:K})},[f,u,d,m,p,y,v,g,w,x,S,z]),o.jsxs("div",{className:"node-default node-lsystem",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Axiom"}),o.jsx("input",{className:"node-param-input",type:"text",value:u,onPointerDown:T,onMouseDown:T,onChange:V=>j({axiom:V.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsxs("div",{className:"node-param-label",children:["Rule 1: ",d||"?"]}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Character",value:d,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule1:V.target.value}),style:{width:"40px",marginRight:"4px"}}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Replacement",value:m,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule1Replacement:V.target.value}),style:{flex:1}})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsxs("div",{className:"node-param-label",children:["Rule 2: ",p||"?"]}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Character",value:p,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule2:V.target.value}),style:{width:"40px",marginRight:"4px"}}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Replacement",value:y,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule2Replacement:V.target.value}),style:{flex:1}})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsxs("div",{className:"node-param-label",children:["Rule 3: ",v||"?"]}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Character",value:v,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule3:V.target.value}),style:{width:"40px",marginRight:"4px"}}),o.jsx("input",{className:"node-param-input",type:"text",placeholder:"Replacement",value:g,onPointerDown:T,onMouseDown:T,onChange:V=>j({rule3Replacement:V.target.value}),style:{flex:1}})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Iterations"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:8,value:w,onPointerDown:T,onMouseDown:T,onChange:V=>j({iterations:Number(V.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Angle (deg)"}),o.jsx("input",{className:"node-param-input",type:"number",step:"1",min:0,max:180,value:x,onPointerDown:T,onMouseDown:T,onChange:V=>j({angle:Number(V.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Step Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0.1",max:"10",value:S,onPointerDown:T,onMouseDown:T,onChange:V=>j({stepSize:Number(V.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-85px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"L-System "}),o.jsx(Be,{type:"source",position:_e.Right,id:"lsystem",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Dv({id:f,data:s}){const{label:r="Plant",positionX:u=0,positionY:d=0,positionZ:m=0,branchThickness:p=.1,branchColor:y="#8B4513",leafSize:v=.3,leafColor:g="#228B22",leafDensity:w=.7,onChange:x,onOutput:S}=s||{},b=j=>x?.({...s,...j}),z=j=>j.stopPropagation();return q.useEffect(()=>{S?.({id:f,type:"plant",positionX:u,positionY:d,positionZ:m,branchThickness:p,branchColor:y,leafSize:v,leafColor:g,leafDensity:w})},[f,u,d,m,p,y,v,g,w,S]),o.jsxs("div",{className:"node-default node-plant",children:[o.jsx("div",{style:{position:"absolute",left:"-90px",top:"35px",fontSize:"11px",color:"#4a90e2",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:" L-System"}),o.jsx(Be,{type:"target",position:_e.Left,id:"lsystem",style:{top:40,width:"12px",height:"12px",background:"#4a90e2",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 144, 226, 0.6)"}}),o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos X"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:u,onPointerDown:z,onMouseDown:z,onChange:j=>b({positionX:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos Y"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:d,onPointerDown:z,onMouseDown:z,onChange:j=>b({positionY:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Pos Z"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:m,onPointerDown:z,onMouseDown:z,onChange:j=>b({positionZ:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Branch Thickness"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",min:"0.01",max:"1",value:p,onPointerDown:z,onMouseDown:z,onChange:j=>b({branchThickness:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Bark Color"}),o.jsx("input",{className:"node-param-input",type:"color",value:y,onPointerDown:z,onMouseDown:z,onChange:j=>b({branchColor:j.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Leaf Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.05",min:"0.1",max:"1.0",value:v,onPointerDown:z,onMouseDown:z,onChange:j=>b({leafSize:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Leaf Color"}),o.jsx("input",{className:"node-param-input",type:"color",value:g,onPointerDown:z,onMouseDown:z,onChange:j=>b({leafColor:j.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Leaf Density"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0",max:"1",value:w,onPointerDown:z,onMouseDown:z,onChange:j=>b({leafDensity:Number(j.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-75px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Plant "}),o.jsx(Be,{type:"source",position:_e.Right,id:"plant",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Mv({id:f,data:s}){const{label:r="Flowers",count:u=50,spread:d=50,size:m=1,onChange:p,onOutput:y}=s||{},v=w=>p?.({...s,...w}),g=w=>w.stopPropagation();return q.useEffect(()=>{y?.({id:f,type:"flower",count:u,spread:d,size:m})},[f,u,d,m,y]),o.jsxs("div",{className:"node-default node-flower",children:[o.jsx("div",{style:{position:"absolute",left:"-80px",top:"35px",fontSize:"11px",color:"#4a90e2",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:" Perlin Noise"}),o.jsx(Be,{type:"target",position:_e.Left,id:"noise",style:{top:40,width:"12px",height:"12px",background:"#4a90e2",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 144, 226, 0.6)"}}),o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Count"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:500,value:u,onPointerDown:g,onMouseDown:g,onChange:w=>v({count:Number(w.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Spread"}),o.jsx("input",{className:"node-param-input",type:"number",step:"1",min:"10",max:"200",value:d,onPointerDown:g,onMouseDown:g,onChange:w=>v({spread:Number(w.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"0.5",max:"3.0",value:m,onPointerDown:g,onMouseDown:g,onChange:w=>v({size:Number(w.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-75px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Flowers "}),o.jsx(Be,{type:"source",position:_e.Right,id:"flower",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}class jv extends gs{constructor(s={}){super(),this.levels=s.levels||3,this.roomsPerLevel=s.roomsPerLevel||4,this.roomSize=s.roomSize||4,this.levelHeight=s.levelHeight||3,this.wallThickness=s.wallThickness||.2,this.hasStairs=s.hasStairs!==!1,this.roomLayout=s.roomLayout||"grid"}generate(s={}){const r=s.levels??this.levels,u=s.hasStairs??this.hasStairs,d={levels:[],stairs:[]};for(let m=0;m<r;m++){const p=this.generateLevel(m,s);if(d.levels.push(p),u&&m<r-1){const y=this.generateStairs(m,p);d.stairs.push(y)}}return d}generateLevel(s,r={}){const u=[],d=r.levelHeight??this.levelHeight,m=r.roomSize??this.roomSize;r.roomsPerLevel??this.roomsPerLevel;const p=s*d,y=this.generateRoomPositions(s,r);return y.forEach((v,g)=>{const w={id:`level-${s}-room-${g}`,x:v.x,y:p,z:v.z,width:m,depth:m,height:d,level:s,connections:[]};y.forEach((x,S)=>{if(g===S)return;if(Math.sqrt(Math.pow(v.x-x.x,2)+Math.pow(v.z-x.z,2))<m*1.2){const z=this.getDirection(v,x);w.connections.some(j=>j.to===`level-${s}-room-${S}`)||w.connections.push({to:`level-${s}-room-${S}`,direction:z})}}),u.push(w)}),{level:s,y:p,rooms:u}}generateRoomPositions(s,r={}){const u=[],d=r.roomSize??this.roomSize,m=r.roomsPerLevel??this.roomsPerLevel,p=r.roomLayout??this.roomLayout,y=d*1.1;switch(p){case"grid":const v=Math.ceil(Math.sqrt(m)),g=Math.ceil(m/v);for(let S=0;S<m;S++){const b=S%v,z=Math.floor(S/v);u.push({x:(b-(v-1)/2)*y,z:(z-(g-1)/2)*y})}break;case"linear":for(let S=0;S<m;S++)u.push({x:(S-(m-1)/2)*y,z:0});break;case"radial":const w=Math.PI*2/m,x=y*1.5;for(let S=0;S<m;S++){const b=S*w;u.push({x:Math.cos(b)*x,z:Math.sin(b)*x})}break;default:for(let S=0;S<m;S++)u.push({x:(S%3-1)*y,z:(Math.floor(S/3)-1)*y})}return u}getDirection(s,r){const u=r.x-s.x,d=r.z-s.z;return Math.abs(u)>Math.abs(d)?u>0?"east":"west":d>0?"south":"north"}generateStairs(s,r){const u=r.rooms[0];return{x:u.x,y:r.y,z:u.z,width:1,depth:1,height:this.levelHeight,level:s}}}function Cv({id:f,data:s}){const{label:r="Building Grammar",levels:u=3,roomsPerLevel:d=4,roomSize:m=4,levelHeight:p=3,wallThickness:y=.2,hasStairs:v=!0,roomLayout:g="grid",onChange:w,onOutput:x}=s||{},S=z=>w?.({...s,...z}),b=z=>z.stopPropagation();return q.useEffect(()=>{const j=new jv({levels:u,roomsPerLevel:d,roomSize:m,levelHeight:p,wallThickness:y,hasStairs:v,roomLayout:g}).generate();x?.({id:f,type:"buildingGrammar",levels:u,roomsPerLevel:d,roomSize:m,levelHeight:p,wallThickness:y,hasStairs:v,roomLayout:g,building:j})},[f,u,d,m,p,y,v,g,x]),o.jsxs("div",{className:"node-default node-building-grammar",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Levels"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:10,value:u,onPointerDown:b,onMouseDown:b,onChange:z=>S({levels:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Rooms/Level"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:16,value:d,onPointerDown:b,onMouseDown:b,onChange:z=>S({roomsPerLevel:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Room Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"2",max:"10",value:m,onPointerDown:b,onMouseDown:b,onChange:z=>S({roomSize:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Level Height"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",min:"2",max:"6",value:p,onPointerDown:b,onMouseDown:b,onChange:z=>S({levelHeight:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Wall Thickness"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.01",min:"0.1",max:"1",value:y,onPointerDown:b,onMouseDown:b,onChange:z=>S({wallThickness:Number(z.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Layout"}),o.jsxs("select",{className:"node-param-input",value:g,onPointerDown:b,onMouseDown:b,onChange:z=>S({roomLayout:z.target.value}),children:[o.jsx("option",{value:"grid",children:"Grid"}),o.jsx("option",{value:"linear",children:"Linear"}),o.jsx("option",{value:"radial",children:"Radial"})]})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Stairs"}),o.jsx("input",{className:"node-param-input",type:"checkbox",checked:v,onPointerDown:b,onMouseDown:b,onChange:z=>S({hasStairs:z.target.checked})})]}),o.jsx("div",{style:{position:"absolute",right:"-85px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Grammar "}),o.jsx(Be,{type:"source",position:_e.Right,id:"grammar",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}class Ev{constructor(s={}){this.levels=s.levels||s.buildingLevels||3,this.roomsPerLevel=s.roomsPerLevel||s.buildingRoomsPerLevel||4,this.roomSize=s.roomSize||s.buildingRoomSize||4,this.levelHeight=s.levelHeight||s.buildingLevelHeight||3,this.wallThickness=s.wallThickness||.2,this.hasStairs=s.hasStairs!==!1,this.roomLayout=s.roomLayout||"grid",this.grammarType=s.grammarType||"building",this.rules=s.rules||{},this.iterations=s.iterations||3,this.seed=s.seed||42}generateBuilding(){const s={levels:[],stairs:[]};for(let r=0;r<this.levels;r++){const u=this.generateLevel(r);if(s.levels.push(u),this.hasStairs&&r<this.levels-1){const d=this.generateStairs(r,u);s.stairs.push(d)}}return s}generateLevel(s){const r=[],u=s*this.levelHeight,d=this.generateRoomPositions(s);return d.forEach((m,p)=>{const y={id:`level-${s}-room-${p}`,x:m.x,y:u,z:m.z,width:this.roomSize,depth:this.roomSize,height:this.levelHeight,level:s,connections:[]};d.forEach((v,g)=>{if(p===g)return;if(Math.sqrt(Math.pow(m.x-v.x,2)+Math.pow(m.z-v.z,2))<this.roomSize*1.2){const x=this.getDirection(m,v);y.connections.some(S=>S.to===`level-${s}-room-${g}`)||y.connections.push({to:`level-${s}-room-${g}`,direction:x})}}),r.push(y)}),{level:s,y:u,rooms:r}}generateRoomPositions(s){const r=[],u=this.roomSize*1.1;switch(this.roomLayout){case"grid":const d=Math.ceil(Math.sqrt(this.roomsPerLevel)),m=Math.ceil(this.roomsPerLevel/d);for(let v=0;v<this.roomsPerLevel;v++){const g=v%d,w=Math.floor(v/d);r.push({x:(g-(d-1)/2)*u,z:(w-(m-1)/2)*u})}break;case"linear":for(let v=0;v<this.roomsPerLevel;v++)r.push({x:(v-(this.roomsPerLevel-1)/2)*u,z:0});break;case"radial":const p=Math.PI*2/this.roomsPerLevel,y=u*1.5;for(let v=0;v<this.roomsPerLevel;v++){const g=v*p;r.push({x:Math.cos(g)*y,z:Math.sin(g)*y})}break;default:for(let v=0;v<this.roomsPerLevel;v++)r.push({x:(v%3-1)*u,z:(Math.floor(v/3)-1)*u})}return r}getDirection(s,r){const u=r.x-s.x,d=r.z-s.z;return Math.abs(u)>Math.abs(d)?u>0?"east":"west":d>0?"south":"north"}generateStairs(s,r){const u=r.rooms[0];return{x:u.x,y:r.y,z:u.z,width:1,depth:1,height:this.levelHeight,level:s}}generate(){switch(this.grammarType){case"building":return this.generateBuilding();case"facade":return this.generateFacade();case"floorplan":return this.generateFloorPlan();default:return this.generateBuilding()}}generateFacade(){return{type:"facade",elements:[]}}generateFloorPlan(){return{type:"floorplan",rooms:[]}}}function Av({id:f,data:s}){const{label:r="Shape Grammar",grammarType:u="building",levels:d=3,roomsPerLevel:m=4,roomSize:p=4,levelHeight:y=3,wallThickness:v=.2,hasStairs:g=!0,roomLayout:w="grid",onChange:x,onOutput:S}=s||{},b=j=>x?.({...s,...j}),z=j=>j.stopPropagation();return q.useEffect(()=>{const T=new Ev({grammarType:u,levels:d,roomsPerLevel:m,roomSize:p,levelHeight:y,wallThickness:v,hasStairs:g,roomLayout:w}).generate(),Q={id:f,type:"shapeGrammar",grammarType:u,levels:d,roomsPerLevel:m,roomSize:p,levelHeight:y,wallThickness:v,hasStairs:g,roomLayout:w,shape:T};u==="building"&&(Q.building=T,Q.type="buildingGrammar"),S?.(Q)},[f,u,d,m,p,y,v,g,w,S]),o.jsxs("div",{className:"node-default node-shape-grammar",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Grammar Type"}),o.jsxs("select",{className:"node-param-input",value:u,onPointerDown:z,onMouseDown:z,onChange:j=>b({grammarType:j.target.value}),children:[o.jsx("option",{value:"building",children:"Building"}),o.jsx("option",{value:"facade",children:"Facade"}),o.jsx("option",{value:"floorplan",children:"Floor Plan"})]})]}),u==="building"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Levels"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:10,value:d,onPointerDown:z,onMouseDown:z,onChange:j=>b({levels:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Rooms/Level"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:16,value:m,onPointerDown:z,onMouseDown:z,onChange:j=>b({roomsPerLevel:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Room Size"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:p,onPointerDown:z,onMouseDown:z,onChange:j=>b({roomSize:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Level Height"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:y,onPointerDown:z,onMouseDown:z,onChange:j=>b({levelHeight:Number(j.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Room Layout"}),o.jsxs("select",{className:"node-param-input",value:w,onPointerDown:z,onMouseDown:z,onChange:j=>b({roomLayout:j.target.value}),children:[o.jsx("option",{value:"grid",children:"Grid"}),o.jsx("option",{value:"linear",children:"Linear"}),o.jsx("option",{value:"radial",children:"Radial"})]})]})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Shape Grammar "}),o.jsx(Be,{type:"source",position:_e.Right,id:"grammar",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Tv({id:f,data:s}){const{label:r="Markov Chain",states:u="A,B,C",sequenceLength:d=10,onChange:m,onOutput:p}=s||{},y=g=>m?.({...s,...g}),v=g=>g.stopPropagation();return q.useEffect(()=>{const g=u.split(",").map(S=>S.trim()).filter(S=>S.length>0);g.length===0&&g.push("A","B","C");const w=new gh({states:g}),x=w.generateSequence(d);p?.({id:f,type:"markovChain",states:g,sequenceLength:d,sequence:x,currentState:w.getCurrentState()})},[f,u,d,p]),o.jsxs("div",{className:"node-default node-markov-chain",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"States"}),o.jsx("input",{className:"node-param-input",type:"text",value:u,placeholder:"A,B,C",onPointerDown:v,onMouseDown:v,onChange:g=>y({states:g.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Sequence Length"}),o.jsx("input",{className:"node-param-input",type:"number",min:1,max:100,value:d,onPointerDown:v,onMouseDown:v,onChange:g=>y({sequenceLength:Number(g.target.value)})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Markov Chain "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}class Rv{constructor(s={}){this.curveType=s.curveType||"bezier",this.controlPoints=s.controlPoints||this.createDefaultControlPoints(),this.segments=s.segments||50}createDefaultControlPoints(){return[new le(0,0,0),new le(5,0,5),new le(10,0,0),new le(15,0,5)]}generatePoints(){switch(this.curveType){case"bezier":return this.generateBezierPoints();case"spline":return this.generateSplinePoints();case"line":return this.generateLinePoints();default:return this.generateBezierPoints()}}generateBezierPoints(){const s=[];if(this.controlPoints.length<4){const r=this.controlPoints[0]||new le(0,0,0),u=this.controlPoints[1]||r.clone(),d=this.controlPoints[2]||r.clone(),m=this.controlPoints[3]||r.clone();for(let p=0;p<=this.segments;p++){const y=p/this.segments,v=this.bezierPoint(r,u,d,m,y);s.push(v)}}else for(let r=0;r<this.controlPoints.length-3;r+=3){const u=this.controlPoints[r],d=this.controlPoints[r+1],m=this.controlPoints[r+2],p=this.controlPoints[r+3];for(let y=0;y<=this.segments;y++){const v=y/this.segments,g=this.bezierPoint(u,d,m,p,v);(r===0||y>0)&&s.push(g)}}return s}bezierPoint(s,r,u,d,m){const p=1-m,y=m*m,v=p*p,g=v*p,w=y*m,x=new le;return x.x=g*s.x+3*v*m*r.x+3*p*y*u.x+w*d.x,x.y=g*s.y+3*v*m*r.y+3*p*y*u.y+w*d.y,x.z=g*s.z+3*v*m*r.z+3*p*y*u.z+w*d.z,x}generateSplinePoints(){const s=[];if(this.controlPoints.length<4)return this.generateLinePoints();for(let r=0;r<this.controlPoints.length-1;r++){const u=r>0?this.controlPoints[r-1]:this.controlPoints[r],d=this.controlPoints[r],m=this.controlPoints[r+1],p=r<this.controlPoints.length-2?this.controlPoints[r+2]:this.controlPoints[r+1];for(let y=0;y<=this.segments;y++){const v=y/this.segments,g=this.catmullRomPoint(u,d,m,p,v);(r===0||y>0)&&s.push(g)}}return s}catmullRomPoint(s,r,u,d,m){const p=m*m,y=p*m,v=new le;return v.x=.5*(2*r.x+(-s.x+u.x)*m+(2*s.x-5*r.x+4*u.x-d.x)*p+(-s.x+3*r.x-3*u.x+d.x)*y),v.y=.5*(2*r.y+(-s.y+u.y)*m+(2*s.y-5*r.y+4*u.y-d.y)*p+(-s.y+3*r.y-3*u.y+d.y)*y),v.z=.5*(2*r.z+(-s.z+u.z)*m+(2*s.z-5*r.z+4*u.z-d.z)*p+(-s.z+3*r.z-3*u.z+d.z)*y),v}generateLinePoints(){return[...this.controlPoints]}getLength(){const s=this.generatePoints();let r=0;for(let u=1;u<s.length;u++)r+=s[u].distanceTo(s[u-1]);return r}sampleAt(s){const r=this.generatePoints(),u=Math.floor(s*(r.length-1));return r[Math.min(u,r.length-1)]}}function Ov({id:f,data:s}){const{label:r="Parametric Curve",curveType:u="bezier",segments:d=50,controlPointsX:m="0,5,10,15",controlPointsY:p="0,0,0,0",controlPointsZ:y="0,5,0,5",onChange:v,onOutput:g}=s||{},w=S=>v?.({...s,...S}),x=S=>S.stopPropagation();return q.useEffect(()=>{const S=m.split(",").map(L=>parseFloat(L.trim())||0),b=p.split(",").map(L=>parseFloat(L.trim())||0),z=y.split(",").map(L=>parseFloat(L.trim())||0),j=Math.max(S.length,b.length,z.length),T=[];for(let L=0;L<j;L++)T.push(new le(S[L]||0,b[L]||0,z[L]||0));T.length<2&&(T.push(new le(0,0,0)),T.push(new le(10,0,10)));const Q=new Rv({curveType:u,controlPoints:T,segments:d}),V=Q.generatePoints(),K=Q.getLength();g?.({id:f,type:"parametricCurve",curveType:u,segments:d,controlPoints:T.map(L=>({x:L.x,y:L.y,z:L.z})),points:V.map(L=>({x:L.x,y:L.y,z:L.z})),length:K})},[f,u,d,m,p,y,g]),o.jsxs("div",{className:"node-default node-parametric-curve",children:[o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Curve Type"}),o.jsxs("select",{className:"node-param-input",value:u,onPointerDown:x,onMouseDown:x,onChange:S=>w({curveType:S.target.value}),children:[o.jsx("option",{value:"bezier",children:"Bezier"}),o.jsx("option",{value:"spline",children:"Spline"}),o.jsx("option",{value:"line",children:"Line"})]})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Segments"}),o.jsx("input",{className:"node-param-input",type:"number",min:10,max:200,value:d,onPointerDown:x,onMouseDown:x,onChange:S=>w({segments:Number(S.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Control X"}),o.jsx("input",{className:"node-param-input",type:"text",value:m,placeholder:"0,5,10,15",onPointerDown:x,onMouseDown:x,onChange:S=>w({controlPointsX:S.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Control Y"}),o.jsx("input",{className:"node-param-input",type:"text",value:p,placeholder:"0,0,0,0",onPointerDown:x,onMouseDown:x,onChange:S=>w({controlPointsY:S.target.value})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Control Z"}),o.jsx("input",{className:"node-param-input",type:"text",value:y,placeholder:"0,5,0,5",onPointerDown:x,onMouseDown:x,onChange:S=>w({controlPointsZ:S.target.value})})]}),o.jsx("div",{style:{position:"absolute",right:"-100px",top:"40px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Parametric Curve "}),o.jsx(Be,{type:"source",position:_e.Right,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Hv({id:f,data:s}){const{label:r="Building",positionX:u=0,positionY:d=0,positionZ:m=0,color:p="#ffffff",onChange:y,onOutput:v}=s||{},g=x=>y?.({...s,...x}),w=x=>x.stopPropagation();return q.useEffect(()=>{v?.({id:f,type:"building",positionX:u,positionY:d,positionZ:m,color:p})},[f,u,d,m,p,v]),o.jsxs("div",{className:"node-default node-building",children:[o.jsx("div",{style:{position:"absolute",left:"-95px",top:"35px",fontSize:"11px",color:"#4a90e2",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:" Grammar"}),o.jsx(Be,{type:"target",position:_e.Left,id:"grammar",style:{top:40,width:"12px",height:"12px",background:"#4a90e2",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 144, 226, 0.6)"}}),o.jsx("div",{className:"node-title",children:r}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"X (Horizontal)"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:u,onPointerDown:w,onMouseDown:w,onChange:x=>g({positionX:Number(x.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Y (Vertical/Up)"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:d,onPointerDown:w,onMouseDown:w,onChange:x=>g({positionY:Number(x.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Z (Depth/Forward)"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.1",value:m,onPointerDown:w,onMouseDown:w,onChange:x=>g({positionZ:Number(x.target.value)})})]}),o.jsxs("div",{className:"node-param-row",children:[o.jsx("div",{className:"node-param-label",children:"Color"}),o.jsx("input",{className:"node-param-input",type:"color",value:p,onPointerDown:w,onMouseDown:w,onChange:x=>g({color:x.target.value})})]}),o.jsx("div",{style:{position:"absolute",right:"-85px",top:"115px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Building "}),o.jsx(Be,{type:"source",position:_e.Right,id:"building",style:{top:120,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}function Uv({data:f}){return o.jsxs("div",{children:[o.jsx("strong",{children:f.label||"Node"}),o.jsx(Be,{type:"target",position:_e.Left}),o.jsx(Be,{type:"source",position:_e.Right})]})}function Bv({data:f}){return o.jsxs("div",{children:[o.jsx("strong",{children:f.label||"Input"}),o.jsx(Be,{type:"source",position:_e.Right})]})}function _v({data:f}){const{waterHeight:s=0,onChange:r}=f||{},u=f?.seed!==void 0||f?.scale!==void 0||f?.octaves!==void 0||f?.persistence!==void 0||f?.amplitude!==void 0||f?.frequency!==void 0,d=f?.type||"perlinNoise",p={perlinNoise:"Perlin",voronoiNoise:"Voronoi",domainWarping:"Domain Warping",ridgeNoise:"Ridge",simplexNoise:"Simplex"}[d]||"Noise";let y=`Waiting for ${p} input`;u&&(y=`Reading ${p} values`);const v=w=>r?.({...f,...w}),g=w=>w.stopPropagation();return o.jsxs("div",{className:"node-default node-terrain",children:[o.jsx("div",{className:"node-title",children:"Terrain"}),o.jsxs("div",{className:"node-body",children:[o.jsx("div",{className:"node-terrain-status",children:y}),o.jsxs("div",{className:"node-param-row",style:{marginTop:"12px"},children:[o.jsx("div",{className:"node-param-label",children:"Water Level"}),o.jsx("input",{className:"node-param-input",type:"number",step:"0.5",value:s,onPointerDown:g,onMouseDown:g,onChange:w=>v({waterHeight:Number(w.target.value)})})]})]}),o.jsxs("div",{style:{position:"absolute",left:"-90px",top:"35px",fontSize:"11px",color:"#4a90e2",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:[" ",p," Noise"]}),o.jsx(Be,{type:"target",position:_e.Left,id:"config",style:{top:40,width:"12px",height:"12px",background:"#4a90e2",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 144, 226, 0.6)"}}),o.jsx("div",{style:{position:"absolute",right:"-80px",top:"35px",fontSize:"11px",color:"#4a9e4a",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none"},children:"Terrain "}),o.jsx(Be,{type:"source",position:_e.Right,id:"out",style:{top:40,width:"12px",height:"12px",background:"#4a9e4a",border:"2px solid #ffffff",boxShadow:"0 0 8px rgba(74, 158, 74, 0.6)"}})]})}const Lv={default:Uv,input:Bv,perlinNoise:mv,voronoiNoise:pv,ridgeNoise:vv,simplexNoise:gv,flocking:yv,cellularAutomata:bv,particleSystem:xv,wavePropagation:Sv,agent:Nv,npc:wv,lsystem:zv,plant:Dv,flower:Mv,buildingGrammar:Cv,shapeGrammar:Av,markovChain:Tv,parametricCurve:Ov,building:Hv,terrain:_v},Fl=f=>`${f}-${Math.random().toString(36).slice(2,8)}`;function Yv(f={x:0,y:0}){return{id:Fl("perlin"),type:"perlinNoise",position:f,data:{label:"Perlin Noise",seed:42,scale:.05,octaves:4,persistence:.5,amplitude:10,frequency:1}}}function qv(f={x:300,y:0}){return{id:Fl("terrain"),type:"terrain",position:f,data:{elevationInfo:null,waterHeight:0}}}function Gv(f={x:0,y:0}){return{id:Fl("voronoi"),type:"voronoiNoise",position:f,data:{label:"Voronoi Noise",seed:42,scale:.1,octaves:4,persistence:.5,amplitude:10,mode:"f1"}}}function Xv(f={x:0,y:0}){return{id:Fl("ridgeNoise"),type:"ridgeNoise",position:f,data:{label:"Ridge Noise",seed:42,scale:.05,octaves:4,persistence:.5,amplitude:10,offset:0,power:2}}}function Zv(f={x:0,y:0}){return{id:Fl("simplex"),type:"simplexNoise",position:f,data:{label:"Simplex Noise",seed:42,scale:.05,octaves:4,persistence:.5,amplitude:10,zOffset:0}}}const Wu=f=>`${f}-${Math.random().toString(36).slice(2,8)}`;function Qv(f={x:0,y:0}){return{id:Wu("agent"),type:"agent",position:f,data:{label:"Boids",count:10,positionX:(Math.random()-.5)*100,positionY:50+(Math.random()-.5)*100*.3,positionZ:(Math.random()-.5)*100,velocityX:(Math.random()-.5)*4,velocityY:(Math.random()-.5)*1,velocityZ:(Math.random()-.5)*4,size:.3,spread:20}}}function Vv(f={x:0,y:0}){return{id:Wu("flocking"),type:"flocking",position:f,data:{label:"Flocking Behavior",separation:1.5,alignment:1,cohesion:1,separationRadius:2,neighborRadius:5,maxSpeed:5,maxForce:.1,boundsWidth:150,boundsDepth:150,planeHeight:50}}}function Kv(f={x:0,y:0}){return{id:Wu("npc"),type:"npc",position:f,data:{label:"NPC",positionX:0,positionY:0,positionZ:0,movementType:"stationary",speed:2,wanderRadius:10,wanderCenterX:0,wanderCenterY:0,wanderCenterZ:0,interactionRadius:10,dialogueWords:"hello,world,greetings,traveler,welcome,friend,adventure,journey",dialogueLength:5,color:"#ffffff",size:3.5}}}const $n=f=>`${f}-${Math.random().toString(36).slice(2,8)}`;function Jv(f={x:0,y:0}){return{id:$n("lsystem"),type:"lsystem",position:f,data:{label:"L-System",axiom:"F",rule1:"F",rule1Replacement:"F[+F]F[-F]F",rule2:"",rule2Replacement:"",rule3:"",rule3Replacement:"",iterations:3,angle:25,stepSize:1}}}function kv(f={x:0,y:0}){return{id:$n("plant"),type:"plant",position:f,data:{label:"Plant",positionX:0,positionY:0,positionZ:0,branchThickness:.1,branchColor:"#8B4513",leafSize:.3,leafColor:"#228B22",leafDensity:.7}}}function Wv(f={x:0,y:0}){return{id:$n("flower"),type:"flower",position:f,data:{label:"Flowers",count:50,spread:50,size:1}}}function Fv(f={x:0,y:0}){return{id:$n("cellularAutomata"),type:"cellularAutomata",position:f,data:{label:"Cellular Automata",width:100,height:100,surviveMin:2,surviveMax:3,birthMin:3,birthMax:3}}}function Pv(f={x:0,y:0}){return{id:$n("particleSystem"),type:"particleSystem",position:f,data:{label:"Particle System",maxParticles:1e3,spawnRate:10,gravityX:0,gravityY:-9.8,gravityZ:0,windX:0,windY:0,windZ:0,spawnX:0,spawnY:50,spawnZ:0,spawnSizeX:10,spawnSizeY:5,spawnSizeZ:10,lifetime:5}}}function $v(f={x:0,y:0}){return{id:$n("wavePropagation"),type:"wavePropagation",position:f,data:{label:"Wave Propagation",amplitude:1,speed:10,decayRate:.1,lifetime:5,maxWaves:10}}}const Pl=f=>`${f}-${Math.random().toString(36).slice(2,8)}`;function Iv(f={x:0,y:0}){return{id:Pl("buildingGrammar"),type:"buildingGrammar",position:f,data:{label:"Building Grammar",levels:3,roomsPerLevel:4,roomSize:4,levelHeight:3,wallThickness:.2,hasStairs:!0,roomLayout:"grid"}}}function eg(f={x:0,y:0}){return{id:Pl("shapeGrammar"),type:"shapeGrammar",position:f,data:{label:"Shape Grammar",grammarType:"building",levels:3,roomsPerLevel:4,roomSize:4,levelHeight:3,wallThickness:.2,hasStairs:!0,roomLayout:"grid"}}}function tg(f={x:0,y:0}){return{id:Pl("markovChain"),type:"markovChain",position:f,data:{label:"Markov Chain",states:"A,B,C",sequenceLength:10}}}function ag(f={x:0,y:0}){return{id:Pl("parametricCurve"),type:"parametricCurve",position:f,data:{label:"Parametric Curve",curveType:"bezier",segments:50,controlPointsX:"0,5,10,15",controlPointsY:"0,0,0,0",controlPointsZ:"0,5,0,5"}}}function ng(f={x:0,y:0}){return{id:Pl("building"),type:"building",position:f,data:{label:"Building",positionX:0,positionY:0,positionZ:0,color:"#ffffff"}}}const lg=[],ig=[];function sg({onTerrainConfigChange:f,onFlockingConfigChange:s,onPlantConfigChange:r,onBuildingConfigChange:u,onFlowerConfigChange:d,onNPCConfigChange:m}){const[p,y]=q.useState("noiseHeightfields"),[v,g,w]=Lp(lg),[x,S,b]=Yp(ig),[z,j]=q.useState({}),[T,Q]=q.useState([]),[V,K]=q.useState(new Set),L=q.useMemo(()=>Lv,[]),U=q.useRef(v),J=q.useRef(V),ee=q.useRef(T);q.useEffect(()=>{U.current=v},[v]),q.useEffect(()=>{J.current=V},[V]),q.useEffect(()=>{ee.current=T},[T]),q.useEffect(()=>{const I=v.find(te=>te.type==="terrain");if(!I)return;const se=x.find(te=>te.target===I.id&&(te.targetHandle==="config"||te.targetHandle==null));let X=null;if(se){const te=z[se.source];te&&(X={sourceId:se.source,type:te.type||"perlinNoise",seed:te.seed??42,scale:te.scale??.05,octaves:te.octaves??4,persistence:te.persistence??.5,amplitude:te.amplitude??10,frequency:te.frequency??1,rawValue:te.value??0,mode:te.mode,baseScale:te.baseScale,warpStrength:te.warpStrength,warpScale:te.warpScale,offset:te.offset,power:te.power,zOffset:te.zOffset})}const k=I.data?.waterHeight??0;X?(X.waterHeight=k,(I.data?.type!==X.type||I.data?.seed!==X.seed||I.data?.scale!==X.scale||I.data?.octaves!==X.octaves||I.data?.persistence!==X.persistence||I.data?.amplitude!==X.amplitude||I.data?.frequency!==X.frequency||I.data?.sourceId!==X.sourceId||I.data?.mode!==X.mode||I.data?.baseScale!==X.baseScale||I.data?.warpStrength!==X.warpStrength||I.data?.warpScale!==X.warpScale||I.data?.offset!==X.offset||I.data?.power!==X.power||I.data?.zOffset!==X.zOffset||I.data?.waterHeight!==X.waterHeight)&&g(qe=>qe.map(ce=>ce.id===I.id?{...ce,data:{...ce.data,...X}}:ce)),typeof f=="function"&&f(X)):typeof f=="function"&&f({waterHeight:k})},[v,x,z,g,f]),q.useEffect(()=>{if(typeof s!="function")return;const I=v.filter(ce=>ce.type==="agent");if(I.length===0){s(null);return}const se=[];I.forEach(ce=>{const He=z[ce.id],Ae=He?.count??ce.data?.count??1,Ke=He?.positionX??ce.data?.positionX??0,va=He?.positionY??ce.data?.positionY??50,rn=He?.positionZ??ce.data?.positionZ??0,Pt=He?.velocityX??ce.data?.velocityX??0,ft=He?.velocityY??ce.data?.velocityY??0,xs=He?.velocityZ??ce.data?.velocityZ??0,$l=He?.size??ce.data?.size??.3,fn=He?.spread??ce.data?.spread??20;for(let ga=0;ga<Ae;ga++){const Ss=(Math.random()-.5)*fn,Il=(Math.random()-.5)*fn*.3,Ns=(Math.random()-.5)*fn,ws=Pt||(Math.random()-.5)*4,Za=ft||(Math.random()-.5)*1,dt=xs||(Math.random()-.5)*4;se.push({id:`${ce.id}-${ga}`,positionX:Ke+Ss,positionY:va+Il,positionZ:rn+Ns,velocityX:ws,velocityY:Za,velocityZ:dt,size:$l})}});const X=new Map;I.forEach(ce=>{const He=x.find(Ae=>Ae.target===ce.id&&Ae.targetHandle==="behavior");if(He){const Ae=v.find(Ke=>Ke.type==="flocking"&&Ke.id===He.source);if(Ae&&!X.has(Ae.id)){const Ke=z[Ae.id],va=x.find(Pt=>Pt.target===Ae.id&&Pt.targetHandle==="noise");let rn=null;if(va){const Pt=z[va.source];Pt&&(rn=Pt)}X.set(Ae.id,{id:Ae.id,separation:Ke?.separation??Ae.data?.separation??1.5,alignment:Ke?.alignment??Ae.data?.alignment??1,cohesion:Ke?.cohesion??Ae.data?.cohesion??1,separationRadius:Ke?.separationRadius??Ae.data?.separationRadius??2,neighborRadius:Ke?.neighborRadius??Ae.data?.neighborRadius??5,maxSpeed:Ke?.maxSpeed??Ae.data?.maxSpeed??5,maxForce:Ke?.maxForce??Ae.data?.maxForce??.1,boundsWidth:Ke?.boundsWidth??Ae.data?.boundsWidth??50,boundsDepth:Ke?.boundsDepth??Ae.data?.boundsDepth??50,planeHeight:Ke?.planeHeight??Ae.data?.planeHeight??50,noiseConfig:rn})}}});const k=Array.from(X.values()),te=k.length>0?k[0]:null;s({agents:se,behavior:te})},[v,x,z,s]),q.useEffect(()=>{if(typeof r!="function")return;const I=v.filter(X=>X.type==="plant");if(I.length===0){r([]);return}const se=I.map(X=>{const k=z[X.id],te=x.find(ce=>ce.target===X.id&&ce.targetHandle==="lsystem");let qe=null;if(te){const ce=z[te.source];ce&&ce.type==="lsystem"&&(qe=ce)}return{id:X.id,positionX:k?.positionX??X.data?.positionX??0,positionY:k?.positionY??X.data?.positionY??0,positionZ:k?.positionZ??X.data?.positionZ??0,branchThickness:k?.branchThickness??X.data?.branchThickness??.1,branchColor:k?.branchColor??X.data?.branchColor??"#8B4513",leafSize:k?.leafSize??X.data?.leafSize??.3,leafColor:k?.leafColor??X.data?.leafColor??"#228B22",leafDensity:k?.leafDensity??X.data?.leafDensity??.7,lsystem:qe}});r(se)},[v,x,z,r]),q.useEffect(()=>{if(typeof u!="function")return;const I=v.filter(X=>X.type==="building");if(I.length===0){u([]);return}const se=I.map(X=>{const k=z[X.id],te=x.find(ce=>ce.target===X.id&&ce.targetHandle==="grammar");let qe=null;if(te){const ce=z[te.source];ce&&ce.type==="buildingGrammar"&&(qe=ce)}return{id:X.id,positionX:k?.positionX??X.data?.positionX??0,positionY:k?.positionY??X.data?.positionY??0,positionZ:k?.positionZ??X.data?.positionZ??0,color:k?.color??X.data?.color??"#ffffff",grammar:qe}});u(se)},[v,x,z,u]),q.useEffect(()=>{if(typeof d!="function")return;const I=v.filter(X=>X.type==="flower");if(I.length===0){d([]);return}const se=I.map(X=>{const k=z[X.id],te=x.find(ce=>ce.target===X.id&&ce.targetHandle==="noise");let qe=null;if(te){const ce=z[te.source];ce&&(ce.type==="perlinNoise"||ce.seed!==void 0)&&(qe=ce)}return{id:X.id,count:k?.count??X.data?.count??50,spread:k?.spread??X.data?.spread??50,size:k?.size??X.data?.size??.2,noiseConfig:qe}});d(se)},[v,x,z,d]),q.useEffect(()=>{if(typeof m!="function")return;const I=v.filter(X=>X.type==="npc");if(I.length===0){m([]);return}const se=I.map(X=>{const k=z[X.id];return{id:X.id,positionX:k?.positionX??X.data?.positionX??0,positionY:k?.positionY??X.data?.positionY??0,positionZ:k?.positionZ??X.data?.positionZ??0,movementType:k?.movementType??X.data?.movementType??"random",speed:k?.speed??X.data?.speed??2,wanderRadius:k?.wanderRadius??X.data?.wanderRadius??10,wanderCenterX:k?.wanderCenterX??X.data?.wanderCenterX??0,wanderCenterY:k?.wanderCenterY??X.data?.wanderCenterY??0,wanderCenterZ:k?.wanderCenterZ??X.data?.wanderCenterZ??0,interactionRadius:k?.interactionRadius??X.data?.interactionRadius??5,dialogueWords:k?.dialogueWords??X.data?.dialogueWords??[],dialogueLength:k?.dialogueLength??X.data?.dialogueLength??5,color:k?.color??X.data?.color??"#4a90e2",size:k?.size??X.data?.size??1}});m(se)},[v,x,z,m]);function he(I){const se=I.data||{};return{...I,data:{...se,onChange:X=>{g(k=>k.map(te=>te.id===I.id?{...te,data:{...te.data,...X}}:te))},onOutput:X=>{j(k=>({...k,[I.id]:X})),console.log("[Node Output]",I.id,X)}}}}function _(I){const se=he(I);g(X=>[...X,se])}const ie=()=>_(qv()),F=()=>_(Yv()),re=()=>_(Gv()),ze=()=>_(Xv()),ge=()=>_(Zv()),we=()=>_(Qv()),O=()=>_(Vv()),G=()=>_(Kv()),Z=()=>_(Jv()),P=()=>_(kv()),ae=()=>_(Wv()),me=()=>_(Iv()),fe=()=>_(eg()),ue=()=>_(tg()),de=()=>_(ag()),Ve=()=>_(ng()),et=()=>_(Fv()),St=()=>_(Pv()),Xe=()=>_($v());function We(I){S(se=>qp({...I,animated:!0},se))}const Vt=q.useCallback(({nodes:I})=>{const se=new Set(I.map(X=>X.id));K(se)},[]);return q.useEffect(()=>{const I=se=>{if(!(se.target instanceof HTMLInputElement||se.target instanceof HTMLTextAreaElement||se.target.isContentEditable)){if((se.ctrlKey||se.metaKey)&&se.key==="c"){const X=U.current,k=J.current,te=X.filter(qe=>k.has(qe.id));if(te.length>0){se.preventDefault();const qe=te.map(ce=>{const{onChange:He,onOutput:Ae,...Ke}=ce.data||{};return{...ce,data:Ke}});Q(qe),console.log(`Copied ${qe.length} node(s)`)}}if((se.ctrlKey||se.metaKey)&&se.key==="v"){const X=ee.current;if(X.length>0){se.preventDefault();const k=50,te=50,qe=X.map(He=>{const Ae=`${He.type}-${Math.random().toString(36).slice(2,8)}`;return{...He,id:Ae,position:{x:He.position.x+k,y:He.position.y+te},selected:!1}}),ce=qe.map(He=>he(He));g(He=>[...He,...ce]),K(new Set(qe.map(He=>He.id))),console.log(`Pasted ${qe.length} node(s)`)}}}};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[]),o.jsxs("div",{className:"author-shell",children:[o.jsx(dv,{activeDomain:p,setActiveDomain:y,onAddTerrainNode:ie,onAddPerlinNoise:F,onAddVoronoiNoise:re,onAddRidgeNoise:ze,onAddSimplexNoise:ge,onAddAgentNode:we,onAddFlockingNode:O,onAddNPCNode:G,onAddLSystemNode:Z,onAddPlantNode:P,onAddFlowerNode:ae,onAddBuildingGrammarNode:me,onAddShapeGrammarNode:fe,onAddMarkovChainNode:ue,onAddParametricCurveNode:de,onAddBuildingNode:Ve,onAddCellularAutomataNode:et,onAddParticleSystemNode:St,onAddWavePropagationNode:Xe}),o.jsx(hv,{nodes:v,edges:x,nodeTypes:L,onNodesChange:w,onEdgesChange:b,onConnect:We,onSelectionChange:Vt})]})}function og({children:f}){const s=document.getElementById("ui-root");return s?Gp.createPortal(f,s):null}function ug({playerData:f=null}){const[s,r]=q.useState(0),[u,d]=q.useState(0),[m,p]=q.useState(null),y=q.useRef(0),v=q.useRef(performance.now()),g=q.useRef(null);q.useEffect(()=>{let S;const b=[],j=()=>{const T=performance.now(),Q=T-v.current;v.current=T;const V=Q;b.push(V),b.length>60&&b.shift();const K=b.reduce((L,U)=>L+U,0)/b.length;if(d(Math.round(K*10)/10),y.current+=1,performance.memory){const L=Math.round(performance.memory.usedJSHeapSize/1048576),U=Math.round(performance.memory.totalJSHeapSize/1048576);p({used:L,total:U})}S=requestAnimationFrame(j)};return g.current=setInterval(()=>{r(y.current),y.current=0},1e3),S=requestAnimationFrame(j),()=>{cancelAnimationFrame(S),g.current&&clearInterval(g.current)}},[]);const w=S=>S>=60?`${S} FPS`:S>=30?`${S} FPS`:`${S} FPS`,x=S=>S>=55?"#4ade80":S>=30?"#fbbf24":"#f87171";return o.jsxs("div",{className:"performance-monitor",children:[o.jsxs("span",{className:"performance-stat",children:[o.jsx("span",{className:"performance-label",children:"FPS:"}),o.jsx("span",{className:"performance-value",style:{color:x(s)},children:w(s)})]}),o.jsxs("span",{className:"performance-stat",children:[o.jsx("span",{className:"performance-label",children:"Frame:"}),o.jsxs("span",{className:"performance-value",children:[u.toFixed(1),"ms"]})]}),m&&o.jsxs("span",{className:"performance-stat",children:[o.jsx("span",{className:"performance-label",children:"Memory:"}),o.jsxs("span",{className:"performance-value",children:[m.used,"MB / ",m.total,"MB"]})]}),f&&o.jsxs("span",{className:"performance-stat",children:[o.jsx("span",{className:"performance-label",children:"Pos:"}),o.jsxs("span",{className:"performance-value",children:["(",f.position.x,", ",f.position.y,", ",f.position.z,")"]})]})]})}function cg({messages:f=[]}){const[s,r]=q.useState("");return q.useEffect(()=>{if(f&&f.length>0){const u=f[f.length-1];r(u)}else r("")},[f]),o.jsx("div",{className:"game-console",children:o.jsx("div",{className:"game-console-content",children:s?o.jsx("div",{className:"game-console-message",children:s}):o.jsx("div",{className:"game-console-message",style:{opacity:.5},children:"Dialogue ready..."})})})}function rg(){const[f,s]=q.useState(!1),[r,u]=q.useState(null),[d,m]=q.useState(null),[p,y]=q.useState([]),[v,g]=q.useState([]),[w,x]=q.useState([]),[S,b]=q.useState([]),[z,j]=q.useState(null),[T,Q]=q.useState([]),V=q.useCallback(()=>{s(K=>!K)},[]);return q.useEffect(()=>{const K=L=>{if(L.key.toLowerCase()==="p"){L.preventDefault();const U=f;V(),U&&setTimeout(()=>{document.pointerLockElement!==document.body&&document.body.requestPointerLock()},10)}};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[f,V]),q.useEffect(()=>{f&&document.pointerLockElement&&document.exitPointerLock()},[f]),o.jsxs(o.Fragment,{children:[o.jsx(P0,{isAuthorMode:f,terrainConfig:r,flockingConfig:d,plantConfigs:p,buildingConfigs:v,flowerConfigs:w,npcConfigs:S,onPlayerDataUpdate:j,onConsoleMessage:Q}),o.jsxs(og,{children:[!f&&o.jsxs("div",{className:"bottom-ui-container",children:[o.jsx(ug,{playerData:z}),o.jsx(cg,{messages:T})]}),o.jsx("div",{className:"author-backdrop",style:{display:f?"flex":"none"},children:o.jsx("div",{className:"author-overlay-shell",children:o.jsx(sg,{onTerrainConfigChange:u,onFlockingConfigChange:m,onPlantConfigChange:y,onBuildingConfigChange:g,onFlowerConfigChange:x,onNPCConfigChange:b})})})]})]})}d0.createRoot(document.getElementById("root")).render(o.jsx(q.StrictMode,{children:o.jsx(rg,{})}));
